System.register("chunks:///_virtual/Action.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Subscription.ts"],(function(t){"use strict";var n,i,c;return{setters:[function(t){n=t.inheritsLoose},function(t){i=t.cclegacy},function(t){c=t.Subscription}],execute:function(){i._RF.push({},"45960Y3oT9Hx5xHkI3qQeLY","Action",void 0);t("Action",function(t){function i(n,i){return t.call(this)||this}return n(i,t),i.prototype.schedule=function(t,n){return this},i}(c));i._RF.pop()}}}));

System.register("chunks:///_virtual/ActiveSetter.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,c,n,o,a,s,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,c=e.assertThisInitialized,n=e.createClass},function(e){o=e.cclegacy,a=e._decorator,s=e.v3,u=e.Component}],execute:function(){var p,l,v;o._RF.push({},"56621ST1a5LaKY3s1G0wCym","ActiveSetter",void 0);var y=a.ccclass,f=a.property,h=(a.menu,a.executeInEditMode);s(),e("ActiveSetter",y("ActiveSetter")(p=h((v=t((l=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,i(t,"_active",v,c(t)),t}return r(t,e),n(t,[{key:"active",get:function(){return this._active},set:function(e){this._active=e,this.node.active=e}}]),t}(u)).prototype,"_active",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),t(l.prototype,"active",[f],Object.getOwnPropertyDescriptor(l.prototype,"active"),l.prototype),p=l))||p)||p);o._RF.pop()}}}));

System.register("chunks:///_virtual/ajax.ts",["./rollupPluginModLoBabelHelpers.js","cc","./map.ts","./Observable2.ts","./AjaxResponse.ts","./errors.ts"],(function(e){"use strict";var r,n,t,o,u,a,i;return{setters:[function(e){r=e.extends},function(e){n=e.cclegacy},function(e){t=e.map},function(e){o=e.Observable},function(e){u=e.AjaxResponse},function(e){a=e.AjaxTimeoutError,i=e.AjaxError}],execute:function(){function s(e,r){return y({method:"GET",url:e,headers:r})}function c(e,r,n){return y({method:"POST",url:e,body:r,headers:n})}function f(e,r){return y({method:"DELETE",url:e,headers:r})}function d(e,r,n){return y({method:"PUT",url:e,body:r,headers:n})}function l(e,r,n){return y({method:"PATCH",url:e,body:r,headers:n})}e("fromAjax",E),n._RF.push({},"52c8fhMRPhAIpwOiuzAqL6x","ajax",void 0);var p=t((function(e){return e.response}));function h(e,r){return p(y({method:"GET",url:e,headers:r}))}var v,y=e("ajax",((v=function(e){return E("string"==typeof e?{url:e}:e)}).get=s,v.post=c,v.delete=f,v.put=d,v.patch=l,v.getJSON=h,v)),m="download",w="loadstart",b="progress",x="load";function E(e){return new o((function(n){var t,o=r({async:!0,crossDomain:!1,withCredentials:!1,method:"GET",timeout:0,responseType:"json"},e),s=o.queryParams,c=o.body,f=o.headers,d=o.url;if(!d)throw new TypeError("url is required");if(s)if(d.includes("?")){var l=d.split("?");if(2<l.length)throw new TypeError("invalid url");t=new URLSearchParams(l[1]),new URLSearchParams(s).forEach((function(e,r){return t.set(r,e)})),d=l[0]+"?"+t}else d=d+"?"+(t=new URLSearchParams(s));var p={};if(f)for(var h in f)f.hasOwnProperty(h)&&(p[h.toLowerCase()]=f[h]);var v=o.crossDomain;v||"x-requested-with"in p||(p["x-requested-with"]="XMLHttpRequest");var y=o.withCredentials,E=o.xsrfCookieName,R=o.xsrfHeaderName;if((y||!v)&&E&&R){var g,j,P,S=null!=(g=null==(j=document)||null==(P=j.cookie.match(new RegExp("(^|;\\s*)("+E+")=([^;]*)")))?void 0:P.pop())?g:"";S&&(p[R]=S)}var T,A=function(e,r){if(!e||"string"==typeof e||function(e){return"undefined"!=typeof FormData&&e instanceof FormData}(e)||function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}(e)||function(e){return L(e,"ArrayBuffer")}(e)||function(e){return L(e,"File")}(e)||function(e){return L(e,"Blob")}(e)||function(e){return"undefined"!=typeof ReadableStream&&e instanceof ReadableStream}(e))return e;if(function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView(e)}(e))return e.buffer;if("object"==typeof e){var n;return r["content-type"]=null!=(n=r["content-type"])?n:"application/json;charset=utf-8",JSON.stringify(e)}throw new TypeError("Unknown body type")}(c,p),O=r({},o,{url:d,headers:p,body:A});T=e.createXHR?e.createXHR():new XMLHttpRequest;var q=e.progressSubscriber,C=e.includeDownloadProgress,H=void 0!==C&&C,U=e.includeUploadProgress,D=void 0!==U&&U,B=function(e,r){T.addEventListener(e,(function(){var e=r();null==q||null==q.error||q.error(e),n.error(e)}))};B("timeout",(function(){return new a(T,O)})),B("abort",(function(){return new i("aborted",T,O)}));var F=function(e,r){return new u(r,T,O,e+"_"+r.type)},k=function(e,r,t){e.addEventListener(r,(function(e){n.next(F(t,e))}))};D&&[w,b,x].forEach((function(e){return k(T.upload,e,"upload")})),q&&[w,b].forEach((function(e){return T.upload.addEventListener(e,(function(e){return null==q||null==q.next?void 0:q.next(e)}))})),H&&[w,b].forEach((function(e){return k(T,e,m)}));var M=function(e){var r="ajax error"+(e?" "+e:"");n.error(new i(r,T,O))};T.addEventListener("error",(function(e){null==q||null==q.error||q.error(e),M()})),T.addEventListener(x,(function(e){var r=T.status;if(r<400){var t;null==q||null==q.complete||q.complete();try{t=F(m,e)}catch(e){return void n.error(e)}n.next(t),n.complete()}else null==q||null==q.error||q.error(e),M(r)}));var N=O.user,X=O.method,_=O.async;for(var G in N?T.open(X,d,_,N,O.password):T.open(X,d,_),_&&(T.timeout=O.timeout,T.responseType=O.responseType),"withCredentials"in T&&(T.withCredentials=O.withCredentials),p)p.hasOwnProperty(G)&&T.setRequestHeader(G,p[G]);return A?T.send(A):T.send(),function(){T&&4!==T.readyState&&T.abort()}}))}var R=Object.prototype.toString;function L(e,r){return R.call(e)==="[object "+r+"]"}n._RF.pop()}}}));

System.register("chunks:///_virtual/AjaxResponse.ts",["cc","./getXHRResponse.ts"],(function(s){"use strict";var e,t;return{setters:[function(s){e=s.cclegacy},function(s){t=s.getXHRResponse}],execute:function(){e._RF.push({},"6225cRA5uFNbYw0onxXuTfJ","AjaxResponse",void 0);s("AjaxResponse",(function(s,e,i,o){void 0===o&&(o="download_load"),this.status=void 0,this.response=void 0,this.responseType=void 0,this.loaded=void 0,this.total=void 0,this.responseHeaders=void 0,this.originalEvent=s,this.xhr=e,this.request=i,this.type=o;var n=e.status,r=e.responseType;this.status=null!=n?n:0,this.responseType=null!=r?r:"";var a=e.getAllResponseHeaders();this.responseHeaders=a?a.split("\n").reduce((function(s,e){var t=e.indexOf(": ");return s[e.slice(0,t)]=e.slice(t+2),s}),{}):{},this.response=t(e);var d=s.loaded,u=s.total;this.loaded=d,this.total=u}));e._RF.pop()}}}));

System.register("chunks:///_virtual/AlignHelper.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,n,o,r,a,s,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.v3,l=e.Component}],execute:function(){var p,c,u,h,f,d;r._RF.push({},"f0e85GM4UpOfLuJSFjXKOeS","AlignHelper",void 0);var g=a.ccclass,S=a.property,y=a.menu,b=a.executeInEditMode,z=s();e("AlignHelper",g("AlignHelper")(p=y("_mygame/AlignHelper")(p=b((u=t((c=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,n(t,"alignPosition",u,o(t)),n(t,"positionStep",h,o(t)),n(t,"alignScale",f,o(t)),n(t,"scaleStep",d,o(t)),t}i(t,e);var r=t.prototype;return r.onLoad=function(){CC_EDITOR||this.destroy()},r.update=function(e){z.set(this.node.position),z.x=Math.round(z.x/this.positionStep)*this.positionStep,z.z=Math.round(z.z/this.positionStep)*this.positionStep,this.node.setPosition(z),z.set(this.node.scale),z.x=Math.round(z.x/this.scaleStep)*this.scaleStep,z.z=Math.round(z.z/this.scaleStep)*this.scaleStep,this.node.setScale(z)},t}(l)).prototype,"alignPosition",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),h=t(c.prototype,"positionStep",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.05}}),f=t(c.prototype,"alignScale",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),d=t(c.prototype,"scaleStep",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),p=c))||p)||p)||p);r._RF.pop()}}}));

System.register("chunks:///_virtual/animationFrame.ts",["cc","./AnimationFrameAction.ts","./AnimationFrameScheduler.ts"],(function(n){"use strict";var e,i,t;return{setters:[function(n){e=n.cclegacy},function(n){i=n.AnimationFrameAction},function(n){t=n.AnimationFrameScheduler}],execute:function(){e._RF.push({},"0e700DRbGVI9odllQpN4GC3","animationFrame",void 0);var a=n("animationFrameScheduler",new t(i));n("animationFrame",a);e._RF.pop()}}}));

System.register("chunks:///_virtual/AnimationFrameAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AsyncAction.ts","./animationFrameProvider.ts"],(function(n){"use strict";var t,e,i,c;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy},function(n){i=n.AsyncAction},function(n){c=n.animationFrameProvider}],execute:function(){e._RF.push({},"cf807LHgWtIq4vPXxPw5Hng","AnimationFrameAction",void 0);n("AnimationFrameAction",function(n){function e(t,e){var i;return(i=n.call(this,t,e)||this).scheduler=t,i.work=e,i}t(e,n);var i=e.prototype;return i.requestAsyncId=function(t,e,i){return void 0===i&&(i=0),null!==i&&i>0?n.prototype.requestAsyncId.call(this,t,e,i):(t.actions.push(this),t._scheduled||(t._scheduled=c.requestAnimationFrame((function(){return t.flush(void 0)}))))},i.recycleAsyncId=function(t,e,i){if(void 0===i&&(i=0),null!=i&&i>0||null==i&&this.delay>0)return n.prototype.recycleAsyncId.call(this,t,e,i);t.actions.some((function(n){return n.id===e}))||(c.cancelAnimationFrame(e),t._scheduled=void 0)},e}(i));e._RF.pop()}}}));

System.register("chunks:///_virtual/animationFrameProvider.ts",["cc","./Subscription.ts"],(function(n){"use strict";var t,e;return{setters:[function(n){t=n.cclegacy},function(n){e=n.Subscription}],execute:function(){t._RF.push({},"247fcH+b6ZFtpDe58WLEBZZ","animationFrameProvider",void 0);var i=n("animationFrameProvider",{schedule:function(n){var t=requestAnimationFrame,r=cancelAnimationFrame,a=i.delegate;a&&(t=a.requestAnimationFrame,r=a.cancelAnimationFrame);var o=t((function(t){r=void 0,n(t)}));return new e((function(){return null==r?void 0:r(o)}))},requestAnimationFrame:function(n){function t(){return n.apply(this,arguments)}return t.toString=function(){return n.toString()},t}((function(){var n=i.delegate;return((null==n?void 0:n.requestAnimationFrame)||requestAnimationFrame).apply(void 0,arguments)})),cancelAnimationFrame:function(n){function t(){return n.apply(this,arguments)}return t.toString=function(){return n.toString()},t}((function(){var n=i.delegate;return((null==n?void 0:n.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,arguments)})),delegate:void 0});t._RF.pop()}}}));

System.register("chunks:///_virtual/animationFrames.ts",["cc","./Observable2.ts","./Subscription.ts","./performanceTimestampProvider.ts","./animationFrameProvider.ts"],(function(n){"use strict";var e,r,t,i,a;return{setters:[function(n){e=n.cclegacy},function(n){r=n.Observable},function(n){t=n.Subscription},function(n){i=n.performanceTimestampProvider},function(n){a=n.animationFrameProvider}],execute:function(){function o(n){var e=a.schedule;return new r((function(r){var a=new t,o=n||i,c=o.now();return a.add(e((function t(i){var s=o.now();r.next({timestamp:n?s:i,elapsed:s-c}),r.closed||a.add(e(t))}))),a}))}n("animationFrames",(function(n){return n?o(n):c})),e._RF.push({},"c24e7roNeBC97daGCf3cMHQ","animationFrames",void 0);var c=o();e._RF.pop()}}}));

System.register("chunks:///_virtual/AnimationFrameScheduler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AsyncScheduler.ts"],(function(e){"use strict";var t,i,n;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy},function(e){n=e.AsyncScheduler}],execute:function(){i._RF.push({},"9da90jDkFRL8rTHnT5T2xmQ","AnimationFrameScheduler",void 0);e("AnimationFrameScheduler",function(e){function i(){return e.apply(this,arguments)||this}return t(i,e),i.prototype.flush=function(e){this._active=!0;var t=this._scheduled;this._scheduled=void 0;var i,n=this.actions;e=e||n.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=n[0])&&e.id===t&&n.shift());if(this._active=!1,i){for(;(e=n[0])&&e.id===t&&n.shift();)e.unsubscribe();throw i}},i}(n));i._RF.pop()}}}));

System.register("chunks:///_virtual/AnimationPlay.ts",["cc","./ReactiveProperty.ts","./index.ts","./Observable2.ts"],(function(e){"use strict";var t,n,a,r,o;return{setters:[function(e){t=e.cclegacy,n=e.AnimationClip,a=e.Animation},function(e){r=e.ReactiveProperty},null,function(e){o=e.Observable}],execute:function(){function i(e,t,n){return l(e,t,n).observable}function l(e,t,n){var i=r.Create(!1);return{observable:new o((function(r){var o=e.getState(null!=t?t:e.defaultClip.name);null==o&&(r.next({target:e,state:"error"}),r.complete()),r.next({target:e,state:"info"}),null!=(null==n?void 0:n.wrapMode)&&(o.wrapMode=n.wrapMode);var l=function(){r.next({state:a.EventType.FINISHED,target:e}),r.complete()};return e.on(a.EventType.FINISHED,l),i.value||(null!=n&&n.crossFade?null==t?e.crossFade(e.defaultClip.name):e.crossFade(t):null==t?e.play():e.play(t)),i.subscribeWhenTrue((function(){r.next({target:e,state:"skip"}),r.complete()})),function(){null!=o&&o.isPlaying&&o.stop(),e.off(a.EventType.FINISHED,l)}})),skip:function(){return i.value=!0}}}e({AnimationCrossFadeNormal:function(e,t){return i(e,null!=t?t:e.defaultClip.name,{crossFade:!0,wrapMode:n.WrapMode.Normal})},AnimationCrossFadeReverse:function(e,t){return i(e,null!=t?t:e.defaultClip.name,{crossFade:!0,wrapMode:n.WrapMode.Reverse})},AnimationPlay:i,AnimationPlayWithEvent:function(e,t,n){return new o((function(r){var o=0,i=e.getState(null!=t?t:e.defaultClip.name),l=function(){r.next({state:a.EventType.LASTFRAME,target:e,curLoop:o}),n&&o+1>=n&&(i.isPlaying&&i.stop(),r.next({state:a.EventType.FINISHED,target:e,curLoop:o}),r.complete()),o++},u=function(){r.next({state:a.EventType.FINISHED,target:e,curLoop:o}),r.complete()};e.on(a.EventType.FINISHED,u),e.on(a.EventType.LASTFRAME,l);for(var s=0;s<e.clips.length;s++)for(var c=e.clips[s],p=function(){var t=c.events[f],n=t.func,a=t.params;n&&(e[n]=function(){r.next({state:"event",target:e,eventName:n,eventParams:a,curLoop:o})})},f=0;f<c.events.length;f++)p();return null==t?e.play():e.play(t),function(){i.isPlaying&&i.stop(),e.off(a.EventType.FINISHED,u),e.off(a.EventType.LASTFRAME,l)}}))},AnimationPlayWithSkip:function(e,t,n){return l(e,t,n)}}),t._RF.push({},"de4c8D93VlBEKUgPMQ7KDrr","AnimationPlay",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/AnyCatcher.ts",["cc"],(function(){"use strict";var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"ae864hNnfZOcahYYNPth8TZ","AnyCatcher",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/applyMixins.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){t("applyMixins",(function(t,e){for(var r=0,n=e.length;r<n;r++)for(var p=e[r],o=Object.getOwnPropertyNames(p.prototype),i=0,s=o.length;i<s;i++){var c=o[i];t.prototype[c]=p.prototype[c]}})),e._RF.push({},"1b699/FuddMHYg5Ks8dCLZE","applyMixins",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/applyMixins2.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){t("applyMixins",(function(t,e){for(var o=0;o<e.length;o++)for(var r=e[o],p=Object.getOwnPropertyNames(r.prototype),n=0;n<p.length;n++){var _=p[n];if("constructor"==_);else{var i=r.prototype.__lookupGetter__(_),c=r.prototype.__lookupSetter__(_);i?t.prototype.__defineGetter__(_,i):c?t.prototype.__defineSetter__(_,c):t.prototype[_]=r.prototype[_]}}})),e._RF.push({},"2ae55R8eTlBAaCuUc/QTPzu","applyMixins",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/AppPrivacyPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePanel.ts","./BindButton.ts","./index.ts","./GameManager.ts","./UIConfig.ts","./UserDataManager.ts","./Observable2.ts"],(function(e){"use strict";var n,t,i,o,r,l,u,a,s,c,p,b,f;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,u=e.Button},function(e){a=e.BasePanel},function(e){s=e.BindButton},null,function(e){c=e.gm},function(e){p=e.PanelKey},function(e){b=e.udm},function(e){f=e.Observable}],execute:function(){var v,g,h,B,P,y,d,k,m;r._RF.push({},"f8f59vZQ0NF7YvGm/no/ekF","AppPrivacyPanel",void 0);var w=l.ccclass,C=l.property;e("AppPrivacyPanel",(v=w("AppPrivacyPanel"),g=C(u),h=C(u),B=C(u),v((d=n((y=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return n=e.call.apply(e,[this].concat(r))||this,i(n,"link1Button",d,o(n)),i(n,"link2Button",k,o(n)),i(n,"agreeButton",m,o(n)),n.observer=null,n}t(n,e);var r=n.prototype;return r.useObserves=function(){return[s(this.link1Button).subscribe(this.link1ButtonClicked.bind(this)),s(this.link2Button).subscribe(this.link2ButtonClicked.bind(this)),s(this.agreeButton).subscribe(this.agreeButtonClicked.bind(this))]},r.link1ButtonClicked=function(){globalThis.open("https://www.pogorockgames.com/service.html")},r.link2ButtonClicked=function(){globalThis.open("https://www.pogorockgames.com/privacy.html")},r.agreeButtonClicked=function(){var e=this;b.policy.value=!0,b.save(),null!=this.observer&&c.uiRoot.closePanel(p.AppPrivacyPanel).subscribe((function(n){console.log("@closePanel",n),"destroy"==n._&&(e.observer.next("agree"),e.observer.complete())}))},n.OpenPanelProcess=function(){return new f((function(e){c.uiRoot.openPanel(p.AppPrivacyPanel).subscribe((function(t){(console.log("@openPanel",t),"init"==t._)&&(c.uiRoot._panelNodes.get(t.panelKey).getComponent(n).observer=e)}))}))},n}(a)).prototype,"link1Button",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=n(y.prototype,"link2Button",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=n(y.prototype,"agreeButton",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=y))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/args.ts",["cc","./isFunction.ts","./isScheduler.ts"],(function(t){"use strict";var n,e,u;return{setters:[function(t){n=t.cclegacy},function(t){e=t.isFunction},function(t){u=t.isScheduler}],execute:function(){function r(t){return t[t.length-1]}t({popNumber:function(t,n){return"number"==typeof r(t)?t.pop():n},popResultSelector:function(t){return e(r(t))?t.pop():void 0},popScheduler:function(t){return u(r(t))?t.pop():void 0}}),n._RF.push({},"5eb9arfp59PaZhCMS+JL8Np","args",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/argsArgArrayOrObject.ts",["cc"],(function(r){"use strict";var t;return{setters:[function(r){t=r.cclegacy}],execute:function(){r("argsArgArrayOrObject",(function(r){if(1===r.length){var t=r[0];if(e(t))return{args:t,keys:null};if((u=t)&&"object"==typeof u&&a(u)===c){var s=n(t);return{args:s.map((function(r){return t[r]})),keys:s}}}var u;return{args:r,keys:null}})),t._RF.push({},"eb5a13qfaRCB6Zy3ynwZ5Xc","argsArgArrayOrObject",void 0);var e=Array.isArray,a=Object.getPrototypeOf,c=Object.prototype,n=Object.keys;t._RF.pop()}}}));

System.register("chunks:///_virtual/argsOrArgArray.ts",["cc"],(function(r){"use strict";var t;return{setters:[function(r){t=r.cclegacy}],execute:function(){r("argsOrArgArray",(function(r){return 1===r.length&&a(r[0])?r[0]:r})),t._RF.push({},"75a82uAKZ1Ej55/1K+ox11O","argsOrArgArray",void 0);var a=Array.isArray;t._RF.pop()}}}));

System.register("chunks:///_virtual/ArgumentOutOfRangeError.ts",["cc","./createErrorClass.ts"],(function(r){"use strict";var t,e;return{setters:[function(r){t=r.cclegacy},function(r){e=r.createErrorClass}],execute:function(){t._RF.push({},"5b7c5CBH2lClr5Cvm1QdvZ4","ArgumentOutOfRangeError",void 0);r("ArgumentOutOfRangeError",e((function(r){return function(){r(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}})));t._RF.pop()}}}));

System.register("chunks:///_virtual/arrRemove.ts",["cc"],(function(e){"use strict";var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){e("arrRemove",(function(e,r){if(e){var c=e.indexOf(r);0<=c&&e.splice(c,1)}})),r._RF.push({},"31b36jhL0ZIZpVEycjRz0ZA","arrRemove",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/asap.ts",["cc","./AsapAction.ts","./AsapScheduler.ts"],(function(e){"use strict";var t,s,c;return{setters:[function(e){t=e.cclegacy},function(e){s=e.AsapAction},function(e){c=e.AsapScheduler}],execute:function(){t._RF.push({},"af1e1VpSStEkoUe1oWD98D3","asap",void 0);var a=e("asapScheduler",new c(s));e("asap",a);t._RF.pop()}}}));

System.register("chunks:///_virtual/AsapAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AsyncAction.ts","./immediateProvider.ts"],(function(t){"use strict";var e,n,i,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.AsyncAction},function(t){c=t.immediateProvider}],execute:function(){n._RF.push({},"05c2dNYBJhJEo6xRIkfPqBy","AsapAction",void 0);t("AsapAction",function(t){function n(e,n){var i;return(i=t.call(this,e,n)||this).scheduler=e,i.work=n,i}e(n,t);var i=n.prototype;return i.requestAsyncId=function(e,n,i){return void 0===i&&(i=0),null!==i&&i>0?t.prototype.requestAsyncId.call(this,e,n,i):(e.actions.push(this),e._scheduled||(e._scheduled=c.setImmediate(e.flush.bind(e,void 0))))},i.recycleAsyncId=function(e,n,i){if(void 0===i&&(i=0),null!=i&&i>0||null==i&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,i);e.actions.some((function(t){return t.id===n}))||(c.clearImmediate(n),e._scheduled=void 0)},n}(i));n._RF.pop()}}}));

System.register("chunks:///_virtual/AsapScheduler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AsyncScheduler.ts"],(function(e){"use strict";var t,s,i;return{setters:[function(e){t=e.inheritsLoose},function(e){s=e.cclegacy},function(e){i=e.AsyncScheduler}],execute:function(){s._RF.push({},"4b82fD9LZNAk7VtaxR9JsQR","AsapScheduler",void 0);e("AsapScheduler",function(e){function s(){return e.apply(this,arguments)||this}return t(s,e),s.prototype.flush=function(e){this._active=!0;var t=this._scheduled;this._scheduled=void 0;var s,i=this.actions;e=e||i.shift();do{if(s=e.execute(e.state,e.delay))break}while((e=i[0])&&e.id===t&&i.shift());if(this._active=!1,s){for(;(e=i[0])&&e.id===t&&i.shift();)e.unsubscribe();throw s}},s}(i));s._RF.pop()}}}));

System.register("chunks:///_virtual/AssetManagerLoad.ts",["cc","./index.ts","./creator.ts","./bindCallback.ts"],(function(n){"use strict";var e,r,t,u;return{setters:[function(n){e=n.cclegacy,r=n.assetManager},null,function(n){t=n.sceneScheduler},function(n){u=n.bindCallback}],execute:function(){n({bundleLoad:function(n,e,a,d){var l=r.getBundle(n);return u(l.load.bind(l),(function(n,e){return{err:n,data:e}}),t)(e,a,d)},bundleLoadDir:function(n,e,a,d){var l=r.getBundle(n);return u(l.loadDir.bind(l),(function(n,e){return{err:n,data:e}}),t)(e,a,d)},bundleLoadScene:function(n,e,a){var d=r.getBundle(n);return u(d.loadScene.bind(d),(function(n,e){return{err:n,sceneAsset:e}}),t)(e,null,a)},bundlePreload:function(n,e,a,d){var l=r.getBundle(n);return u(l.preload.bind(l),(function(n,e){return{err:n,data:e}}),t)(e,a,d)},bundlePreloadDir:function(n,e,a,d){var l=r.getBundle(n);return u(l.preloadDir.bind(l),(function(n,e){return{err:n,data:e}}),t)(e,a,d)},bundlePreloadScene:function(n,e,a){var d=r.getBundle(n);return u(d.preloadScene.bind(d),(function(n,e){return{err:n,sceneAsset:e}}),t)(e,null,a)},bundleRelease:function(n,e,t){var u=r.getBundle(n);null==u||u.release(e,t)},loadAssetByUUID:function(n){return u(r.loadAny.bind(r),(function(n,e){return{err:n,data:e}}),t)(n)},loadBundle:function(n){return u(r.loadBundle.bind(r),(function(n,e){return{err:n,data:e}}),t)(n)}}),e._RF.push({},"1fe1f/R+KFKmazTPyZI/uer","AssetManagerLoad",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/AssetsRefs.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CommonRefs.ts","./BaseView.ts","./CodeChestRefs.ts","./TaskRefs.ts"],(function(e){"use strict";var t,s,n,i,o,r,a,c,u,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,s=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){o=e.cclegacy,r=e._decorator},function(e){a=e.CommonRefs},function(e){c=e.BaseView},function(e){u=e.CodeChestRefs},function(e){f=e.TaskRefs}],execute:function(){var l,p,R,h,d,m,b,w,y,g;o._RF.push({},"64410RZthFIt7sNGHCqkIEe","AssetsRefs",void 0);var C=r.ccclass,v=r.property,k=e("AssetsRefs",(l=C("AssetsRefs"),p=v(a),R=v(u),h=v(f),l(((g=function(e){function t(){for(var t,s=arguments.length,o=new Array(s),r=0;r<s;r++)o[r]=arguments[r];return t=e.call.apply(e,[this].concat(o))||this,n(t,"common",b,i(t)),n(t,"codeChest",w,i(t)),n(t,"taskRefs",y,i(t)),t}return s(t,e),t.prototype.onLoadView=function(){this.log("onLoadView"),t.instance=this},t}(c)).instance=void 0,b=t((m=g).prototype,"common",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new a}}),w=t(m.prototype,"codeChest",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new u}}),y=t(m.prototype,"taskRefs",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new f}}),d=m))||d));globalThis.AssetsRefs=k,o._RF.pop()}}}));

System.register("chunks:///_virtual/async.ts",["cc","./AsyncAction.ts","./AsyncScheduler.ts"],(function(c){"use strict";var n,e,s;return{setters:[function(c){n=c.cclegacy},function(c){e=c.AsyncAction},function(c){s=c.AsyncScheduler}],execute:function(){n._RF.push({},"ddef3ah4eBPvIUPKDD2cIm0","async",void 0);var t=c("asyncScheduler",new s(e));c("async",t);n._RF.pop()}}}));

System.register("chunks:///_virtual/AsyncAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Action.ts","./intervalProvider.ts","./arrRemove.ts"],(function(t){"use strict";var i,e,n,s,r;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy},function(t){n=t.Action},function(t){s=t.intervalProvider},function(t){r=t.arrRemove}],execute:function(){e._RF.push({},"39b03Vw2xZPIoDjvl8RJOI0","AsyncAction",void 0);t("AsyncAction",function(t){function e(i,e){var n;return(n=t.call(this,i,e)||this).id=void 0,n.state=void 0,n.delay=void 0,n.pending=!1,n.scheduler=i,n.work=e,n}i(e,t);var n=e.prototype;return n.schedule=function(t,i){if(void 0===i&&(i=0),this.closed)return this;this.state=t;var e=this.id,n=this.scheduler;return null!=e&&(this.id=this.recycleAsyncId(n,e,i)),this.pending=!0,this.delay=i,this.id=this.id||this.requestAsyncId(n,this.id,i),this},n.requestAsyncId=function(t,i,e){return void 0===e&&(e=0),s.setInterval(t.flush.bind(t,this),e)},n.recycleAsyncId=function(t,i,e){if(void 0===e&&(e=0),null!=e&&this.delay===e&&!1===this.pending)return i;s.clearInterval(i)},n.execute=function(t,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var e=this._execute(t,i);if(e)return e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},n._execute=function(t,i){var e,n=!1;try{this.work(t)}catch(t){n=!0,e=t||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),e},n.unsubscribe=function(){if(!this.closed){var i=this.id,e=this.scheduler,n=e.actions;this.work=this.state=this.scheduler=null,this.pending=!1,r(n,this),null!=i&&(this.id=this.recycleAsyncId(e,i,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(n));e._RF.pop()}}}));

System.register("chunks:///_virtual/AsyncScheduler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Scheduler.ts"],(function(e){"use strict";var t,i,c;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy},function(e){c=e.Scheduler}],execute:function(){i._RF.push({},"18f08XVmUtGX4KJki8UdBLt","AsyncScheduler",void 0);e("AsyncScheduler",function(e){function i(t,i){var s;return void 0===i&&(i=c.now),(s=e.call(this,t,i)||this).actions=[],s._active=!1,s._scheduled=void 0,s}return t(i,e),i.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var i;this._active=!0;do{if(i=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,i){for(;e=t.shift();)e.unsubscribe();throw i}}},i}(c));i._RF.pop()}}}));

System.register("chunks:///_virtual/AsyncSubject.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Subject.ts"],(function(t){"use strict";var e,s,i;return{setters:[function(t){e=t.inheritsLoose},function(t){s=t.cclegacy},function(t){i=t.Subject}],execute:function(){s._RF.push({},"c038chHxE1J4oP0hXPVkvS6","AsyncSubject",void 0);t("AsyncSubject",function(t){function s(){for(var e,s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))||this)._value=null,e._hasValue=!1,e._isComplete=!1,e}e(s,t);var i=s.prototype;return i._checkFinalizedStatuses=function(t){var e=this.hasError,s=this._hasValue,i=this._value,o=this.thrownError,c=this.isStopped,n=this._isComplete;e?t.error(o):(c||n)&&(s&&t.next(i),t.complete())},i.next=function(t){this.isStopped||(this._value=t,this._hasValue=!0)},i.complete=function(){var e=this._hasValue,s=this._value;this._isComplete||(this._isComplete=!0,e&&t.prototype.next.call(this,s),t.prototype.complete.call(this))},s}(i));s._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReactiveCommand.ts","./UserDataManager.ts","./ReactiveProperty.ts","./BaseManager.ts","./index.ts","./AssetManagerLoad.ts","./MergeWithTimer.ts","./lastValueFrom.ts"],(function(e){"use strict";var i,t,o,a,n,u,r,s,l,c,d,p,f,m,g,h,b,S,v,y,C,A;return{setters:[function(e){i=e.inheritsLoose,t=e.createClass,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){n=e.cclegacy,u=e._decorator,r=e.director,s=e.System,l=e.AudioSourceComponent,c=e.color,d=e.AudioClip,p=e.instantiate,f=e.AudioSource,m=e.Prefab},function(e){g=e.ReactiveCommand},function(e){h=e.udm},function(e){b=e.ReactiveProperty},function(e){S=e.BaseManager},null,function(e){v=e.bundleLoadDir,y=e.bundleLoad},function(e){C=e.MergeWithTimer},function(e){A=e.lastValueFrom}],execute:function(){var x,M;e("BGM",void 0),n._RF.push({},"30771i65iZEI4oXFb10YtVZ","AudioManager",void 0);var B,N=u.ccclass;u.property;!function(e){e[e.Menu=0]="Menu",e[e.Game=1]="Game"}(B||(B=e("BGM",{})));var _=e("AudioManager",N("AudioManager")(((M=function(e){function n(){for(var i,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(i=e.call.apply(e,[this].concat(o))||this).assetbundleName="ab_audio",i.bgm=b.Create(null),i.play=g.Create(),i.stop=g.Create(),i.audioSource=null,i.bgmAudioClips=null,i.sfxAudioClips=null,i._lastPlayStr=null,i}i(n,e),n.registerSystem=function(){r.unregisterSystem(r.getSystem(n.ID)),r.registerSystem(n.ID,k,s.Priority.MEDIUM),k.init()};var u=n.prototype;return u.onInitManager=function(){this.log("onInitManager",this.timestamp)},u.useObserves=function(){var e=this;return[C([h.bgmOn._subject,this.bgm._subject]).subscribe((function(i){h.bgmOn.value?e.playBgm():e.stopBgm()})),this.play.subscribe((function(i){h.sfxOn.value&&e.playSfx({clipName:i})})),this.stop.subscribe((function(i){e.stopSfx({clipName:i})}))]},u.loadAll=function(){var e=o(a().mark((function e(i){var t,o,n,u,s,l,c,g,h,b,S=this;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=this.audioSource){e.next=13;break}return e.next=3,A(y(this.assetbundleName,"AudioSource",m,i));case 3:if(t=e.sent,o=t.err,n=t.data,null==o){e.next=9;break}return console.warn("load audioSource prefab err",o),e.abrupt("return");case 9:u=p(n),r.addPersistRootNode(u),this.audioSource=u.getComponent(f),console.log("loadAll audioSource");case 13:if(null!=this.bgmAudioClips){e.next=24;break}return this.bgmAudioClips={},e.next=17,A(v(this.assetbundleName,"bgm",d,i));case 17:if(s=e.sent,l=s.err,c=s.data,null==l){e.next=23;break}return console.warn("load bgm AudioClip err",l),e.abrupt("return");case 23:c.forEach((function(e,i){S.bgmAudioClips[e.name]=e,console.log("loadAll bgm audioClip",e.name)}));case 24:if(null!=this.sfxAudioClips){e.next=35;break}return this.sfxAudioClips={},e.next=28,A(v(this.assetbundleName,"sfx",d,i));case 28:if(g=e.sent,h=g.err,b=g.data,null==h){e.next=34;break}return console.warn("load sfx AudioClip err",h),e.abrupt("return");case 34:b.forEach((function(e,i){S.sfxAudioClips[e.name]={audioClip:e,audioSource:null},console.log("loadAll sfx audioClip",e.name)}));case 35:case"end":return e.stop()}}),e,this)})));return function(i){return e.apply(this,arguments)}}(),u.playBgm=function(){if(this.log("playBgm",this.audioSource,this.bgm.value,B[this.bgm.value]),null!=this.audioSource&&null!=this.bgmAudioClips){var e,i=null;switch(this.bgm.value){case B.Menu:case B.Game:i="bgm_level"}(null==(e=this.audioSource.clip)?void 0:e.name)==i&&this.audioSource.playing||(this.audioSource.playing&&this.audioSource.stop(),this.audioSource.clip=this.bgmAudioClips[i],this.audioSource.play()),this.log("play")}},u.stopBgm=function(){null!=this.audioSource&&(this.audioSource.stop(),this.log("stop"))},u.playSfx=function(e){this.log("playSfx");var i=e.clipName;if(null!=this.sfxAudioClips){var t=this.sfxAudioClips[i];if(null!=t){if(null==t.audioSource){var o=this.audioSource.node.addComponent(l);o.clip=t.audioClip,t.audioSource=o}t.audioSource.play()}else this.warn("clip is null:",null==e?void 0:e.clipName)}},u.stopSfx=function(e){this.log("playSfx");var i=e.clipName;if(null!=this.sfxAudioClips){var t=this.sfxAudioClips[i];null!=t.audioSource&&t.audioSource.playing&&t.audioSource.stop()}},t(n,[{key:"logColorOverride",get:function(){return c().fromHEX("#EECCDD")}}]),n}(S)).instance=void 0,M.ID="audio_system",x=M))||x);globalThis.AudioManager=_;var k=e("am",_.instance=new _);n._RF.pop()}}}));

System.register("chunks:///_virtual/audit.ts",["cc","./lift.ts","./innerFrom.ts","./OperatorSubscriber.ts"],(function(n){"use strict";var t,u,e,c;return{setters:[function(n){t=n.cclegacy},function(n){u=n.operate},function(n){e=n.innerFrom},function(n){c=n.createOperatorSubscriber}],execute:function(){n("audit",(function(n){return u((function(t,u){var r=!1,i=null,o=null,s=!1,l=function(){var n;if(null==(n=o)||n.unsubscribe(),o=null,r){r=!1;var t=i;i=null,u.next(t)}s&&u.complete()},f=function(){o=null,s&&u.complete()};t.subscribe(c(u,(function(t){r=!0,i=t,o||e(n(t)).subscribe(o=c(u,l,f))}),(function(){s=!0,(!r||!o||o.closed)&&u.complete()})))}))})),t._RF.push({},"d24cb6o0RFLYKGZsjCHokSB","audit",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/auditTime.ts",["cc","./async.ts","./audit.ts","./timer.ts"],(function(t){"use strict";var i,u,n,e;return{setters:[function(t){i=t.cclegacy},function(t){u=t.asyncScheduler},function(t){n=t.audit},function(t){e=t.timer}],execute:function(){t("auditTime",(function(t,i){void 0===i&&(i=u);return n((function(){return e(t,i)}))})),i._RF.push({},"ef1d6tLgRNKco2QOkMuV2j/","auditTime",void 0),i._RF.pop()}}}));

System.register("chunks:///_virtual/Baise.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts","./ReactiveProperty.ts","./index.ts","./utils.ts","./TweenStart.ts","./CreatorSchedule.ts","./CommonObservable.ts","./concat2.ts","./forkJoin.ts"],(function(e){"use strict";var t,r,i,s,n,o,u,c,a,l,h,b,p,f,g,_,m,v,y,F,B;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,s=e.assertThisInitialized,n=e.createClass},function(e){o=e.cclegacy,u=e._decorator,c=e.color,a=e.Node,l=e.Sprite,h=e.UITransform,b=e.Color},function(e){p=e.BaseView},function(e){f=e.ReactiveProperty},null,function(e){g=e.nullifySubscription},function(e){_=e.TweenToStart},function(e){m=e.Timer,v=e.IntervalStartNow},function(e){y=e.instantFunc},function(e){F=e.concat},function(e){B=e.forkJoin}],execute:function(){var C,N,d,S,T,k,w;e("BaiseType",void 0),o._RF.push({},"5ba4eSbO1xLbpv941Omrns0","Baise",void 0);var H,P=u.ccclass,j=u.property;!function(e){e[e.Front=0]="Front",e[e.Current=1]="Current",e[e.Back=2]="Back"}(H||(H=e("BaiseType",{})));var O=c();e("Baise",(C=P("Baise"),N=j(a),d=j(l),C((k=t((T=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).baiseType=f.Create(H.Front),t.isBoss=f.Create(!1),i(t,"bossNode",k,s(t)),i(t,"innerSprite",w,s(t)),t._height=60,t._colorProgress=0,t._sub_jump=null,t._inner_sub=null,t}r(t,e);var o=t.prototype;return o.useObserves=function(){var e=this;return[this.baiseType.subscribe(this.refresh.bind(this)),this.isBoss.subscribe((function(t){return e.bossNode.active=t}))]},o.refresh=function(){this.innerSprite.color=this.getNormalColor(),this.height=this.getNormalHeight()},o.getNormalColor=function(){switch(this.baiseType.value){case H.Front:return c().fromHEX("#2f89e7");case H.Current:return c().fromHEX("#FFF38D");case H.Back:return c().fromHEX("#FFFFFF")}},o.getNormalHeight=function(){var e=0;switch(this.baiseType.value){case H.Front:e=60;break;case H.Current:e=70;break;case H.Back:e=60}return this.isBoss.value&&(e+=10),e},o.onDestroyView=function(){g.call(this,"_sub_jump"),g.call(this,"_inner_sub")},o.jumpAnim=function(e){var t=this;g.call(this,"_inner_sub"),g.call(this,"_sub_jump"),this._sub_jump=F(m(e),_(this,.3,{height:this.getNormalHeight()+20},{easing:"cubicOut"}),_(this,.3,{height:this.getNormalHeight()},{easing:"cubicIn"}),y((function(){t.baiseType.value==H.Current&&t.curRepeat()}))).subscribe()},o.curRepeat=function(){var e=this;g.call(this,"_inner_sub"),g.call(this,"_sub_jump"),this._sub_jump=v(1).subscribe((function(t){e._inner_sub=F(B([_(e,.3,{height:e.getNormalHeight()+10},{easing:"cubicOut"}),_(e,.3,{colorProgress:1})]),B([_(e,.3,{height:e.getNormalHeight()},{easing:"cubicOut"}),_(e,.3,{colorProgress:0})])).subscribe()}))},n(t,[{key:"height",get:function(){return this._height},set:function(e){this._height=e,this.innerSprite.getComponent(h).height=e}},{key:"colorProgress",get:function(){return this._colorProgress},set:function(e){this._colorProgress=e,b.lerp(O,this.getNormalColor(),c().fromHEX("#FFFFFF"),e),this.innerSprite.color=O}}]),t}(p)).prototype,"bossNode",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(T.prototype,"innerSprite",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=T))||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/BaseManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalInstanceFinder.ts","./ReactiveProperty.ts","./LogWithTag.ts","./LifeCycleReactive.ts","./applyMixins2.ts"],(function(n){"use strict";var t,i,e,o,r,s,a,c,u,f,l;return{setters:[function(n){t=n.inheritsLoose,i=n.createClass},function(n){e=n.cclegacy,o=n._decorator,r=n.Eventify,s=n.System},function(n){a=n.GlobalInstanceFinder},function(n){c=n.ReactiveProperty},function(n){u=n.LogWithTag},function(n){f=n.LifeCycleReactive},function(n){l=n.applyMixins}],execute:function(){var g;e._RF.push({},"aafc3QnEYhIN7MkSyj5qArt","BaseManager",void 0);var p=o.ccclass,y=(o.property,n("BaseManager",p("BaseManager")(g=function(n){t(o,n),o.registerSystem=function(){};var e=o.prototype;function o(){var t;return(t=n.call(this)||this).timestamp=0,t._mainSubscription=void 0,t.binded=c.Create(!1),t._lwt={},t.timestamp=Date.now(),t}return e.willBind=function(){},e.onInitManager=function(){},e.onDestroyManager=function(){},e.useObserves=function(){return[]},e.getMainSubscription=function(){return this._mainSubscription},e.init=function(){this.systemRegister(this.id),this.logInit(),this.willBind(),this.bind(),this.onInitManager()},e.destroy=function(){this.onDestroyManager(),this.unbind()},e.bind=function(){},e.unbind=function(){},e.manualBind=function(n){},e.logInit=function(){},e.debug=function(){},e.log=function(){},e.warn=function(){},e.error=function(){},e.componentRegister=function(){},e.systemRegister=function(){},i(o,[{key:"logEnable",get:function(){}},{key:"logColorOverride",get:function(){}}]),o}(r(s)))||g));l(y,[f,u,a]),e._RF.pop()}}}));

System.register("chunks:///_virtual/BasePanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReactiveProperty.ts","./index.ts","./BaseView.ts","./UIManager.ts","./TweenStart.ts","./of.ts","./concat2.ts","./map.ts"],(function(n){"use strict";var e,t,o,i,a,r,c,l,s,u,p,f,h;return{setters:[function(n){e=n.inheritsLoose,t=n.createClass},function(n){o=n.cclegacy,i=n._decorator,a=n.js,r=n.UIOpacityComponent},function(n){c=n.ReactiveProperty},null,function(n){l=n.BaseView},function(n){s=n.uim},function(n){u=n.TweenToStart},function(n){p=n.of},function(n){f=n.concat},function(n){h=n.map}],execute:function(){var y;o._RF.push({},"1f069MYwz1NfIvenL4GltY0","BasePanel",void 0);var d=i.ccclass;i.property,n("BasePanel",d("BasePanel")(y=function(n){function o(){for(var e,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(e=n.call.apply(n,[this].concat(o))||this).ready=c.Create(!1),e}e(o,n);var i=o.prototype;return i.onLoad=function(){this.initWithScene&&s.registerInitWithScenePanelCommand.execute({panelKey:a.getClassName(this),node:this.node}),n.prototype.onLoad.call(this)},i.willOpen=function(){return p("willOpen")},i.open=function(){var n=this;return f(p(null).pipe(h((function(e){n.node.active=!0}))),this.openPanelAnim(),p(null).pipe(h((function(e){n.ready.value=!0}))))},i.afterOpen=function(){return p("afterOpen")},i.willClose=function(){return p("willClose")},i.close=function(){var n=this;return f(p(null).pipe(h((function(e){n.log("willClose"),n.ready.value=!1}))),this.closePanelAnim(),p(null).pipe(h((function(e){n.node.active=!1,n.log("afterClose")}))))},i.afterClose=function(){return p("afterClose")},i.initAnim=function(){this.node.getComponent(r).opacity=0},i.openPanelAnim=function(){return u(this.node.getComponent(r),.2,{opacity:255},{easing:"expoOut"})},i.closePanelAnim=function(){return u(this.node.getComponent(r),.2,{opacity:0},{easing:"expoIn"})},t(o,[{key:"initWithScene",get:function(){return!1}}]),o}(l))||y);o._RF.pop()}}}));

System.register("chunks:///_virtual/BaseUIRoot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIConfig.ts","./UIManager.ts","./BaseView.ts","./index.ts","./AssetManagerLoad.ts","./BasePanel.ts","./Observable2.ts","./of.ts","./map.ts","./concat2.ts","./defer.ts"],(function(e){"use strict";var n,t,s,r,o,a,u,i,l,c,p,f,d,b,_,v,g,h,m,P,y,C;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){s=e.cclegacy,r=e._decorator,o=e.find,a=e.assert,u=e.isValid,i=e.Prefab,l=e.instantiate,c=e.color},function(e){p=e.UIConfig,f=e.PanelKey},function(e){d=e.uim},function(e){b=e.BaseView},null,function(e){_=e.bundleLoad,v=e.bundleRelease},function(e){g=e.BasePanel},function(e){h=e.Observable},function(e){m=e.of},function(e){P=e.map},function(e){y=e.concat},function(e){C=e.defer}],execute:function(){var B;s._RF.push({},"f92f6KIcstB3JDT3myIlva6","BaseUIRoot",void 0);var I=r.ccclass;r.property,e("BaseUIRoot",I("BaseUIRoot")(B=function(e){function s(){for(var n,t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return(n=e.call.apply(e,[this].concat(s))||this)._panelNodes=new Map,n._panel_subs=new Map,n}n(s,e);var r=s.prototype;return r.useObserves=function(){var e=this;return[d.registerInitWithScenePanelCommand.subscribe((function(n){var t=n.panelKey,s=n.node;e._panelNodes[t]=s}))]},r.getParent=function(e){var n=p.get(e);if(null==n.tier)return this.node;var t=o(n.tier,this.node);return a(!!t,"找不到tier,"+e+", "+n.tier),t},r.openPanel=function(e){var n=this;return new h((function(t){var s;n.log("openPanel",e,f[e]),null==(s=n._panel_subs.get(e))||s.unsubscribe(),n._panel_subs.delete(e);var r=p.get(e),c=n._panelNodes.get(e),d=null,b=[];if(!u(c))if(r.scene){var v=n.getParent(e);c=o(r.name,v),a(u(c),"❗标记了随场景带入，但是没有在场景的指定位置, "+e+", "+f[e]),n._panelNodes.set(e,c),c.getComponent(g).initAnim(),b.push(m("init"))}else b.push(_(r.assetbundle,r.assetPath,i).pipe(P((function(t){return(c=l(t.data)).setParent(n.getParent(e)),n._panelNodes.set(e,c),c.getComponent(g).initAnim(),"init"}))));b.push(C((function(){return m(null).pipe(P((function(n){return d=c.getComponent(g),a(!!d,"❗这个prefab不是BasePanel或继承BasePanel, "+e+", "+f[e]),"check"})))}))),b.push(C((function(){return d.willOpen()}))),b.push(C((function(){return d.open()}))),b.push(C((function(){return d.afterOpen()})));var h=y.apply(void 0,b).subscribe({next:function(n){return t.next({panelKey:e,_:n})},complete:function(){return t.complete()}});return n._panel_subs.set(e,h),function(){h.unsubscribe(),n._panel_subs.delete(e)}}))},r.closePanel=function(e){var n=this;return new h((function(t){var s;n.log("closePanel",e,f[e]),null==(s=n._panel_subs.get(e))||s.unsubscribe(),n._panel_subs.delete(e);var r=p.get(e),o=n._panelNodes.get(e);if(u(o)){var a=o.getComponent(g),l=[];l.push(a.willClose()),l.push(a.close()),l.push(a.afterClose()),l.push(m(null).pipe(P((function(t){return r.destroy&&(o.destroy(),n._panelNodes.delete(e),v(r.assetbundle,r.assetPath,i)),"destroy"}))));var c=y.apply(void 0,l).subscribe({next:function(n){return t.next({panelKey:e,_:n})},complete:function(){return t.complete()}});return n._panel_subs.set(e,c),function(){c.unsubscribe(),n._panel_subs.delete(e)}}}))},t(s,[{key:"logColorOverride",get:function(){return c().fromHEX("#CCDDEE")}}]),s}(b))||B);s._RF.pop()}}}));

System.register("chunks:///_virtual/BaseView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GlobalInstanceFinder.ts","./LifeCycleReactive.ts","./applyMixins2.ts","./LogWithTag.ts","./ReactiveProperty.ts"],(function(n){"use strict";var t,i,e,o,c,r,s,u,a,l;return{setters:[function(n){t=n.inheritsLoose,i=n.createClass},function(n){e=n.cclegacy,o=n._decorator,c=n.Component},function(n){r=n.GlobalInstanceFinder},function(n){s=n.LifeCycleReactive},function(n){u=n.applyMixins},function(n){a=n.LogWithTag},function(n){l=n.ReactiveProperty}],execute:function(){var f;e._RF.push({},"e5ac75A0QNMmqzOK/ePgjH+","BaseView",void 0);var g=o.ccclass,d=n("BaseView",g("BaseView")(f=function(n){function e(){for(var t,i=arguments.length,e=new Array(i),o=0;o<i;o++)e[o]=arguments[o];return(t=n.call.apply(n,[this].concat(e))||this).binded=l.Create(!1),t._lwt={},t}t(e,n);var o=e.prototype;return o.willBind=function(){},o.onLoadView=function(){},o.onDestroyView=function(){},o.onLoad=function(){this.componentRegister(),this.logInit(),this.willBind(),this.bind(),this.onLoadView()},o.onDestroy=function(){this.onDestroyView(),this.unbind()},o.bind=function(){},o.unbind=function(){},o.manualBind=function(n){},o.getMainSubscription=function(){return null},o.logInit=function(){},o.debug=function(){},o.log=function(){},o.warn=function(){},o.error=function(){},o.componentRegister=function(){},o.systemRegister=function(){},i(e,[{key:"logEnable",get:function(){}},{key:"logColorOverride",get:function(){}}]),e}(c))||f);u(d,[s,a,r]),e._RF.pop()}}}));

System.register("chunks:///_virtual/BedEnemy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts","./BindCollider.ts","./Enums.ts","./GameManager.ts","./Player.ts","./utils.ts","./AnimationPlay.ts","./index.ts","./TweenStart.ts","./DetectorEx.ts","./CommonObservable.ts","./concat2.ts"],(function(t){"use strict";var e,n,i,o,r,u,s,a,l,c,d,p,f,m,y,b,h,g,v,E,_,B,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,u=t._decorator,s=t.v3,a=t.quat,l=t.Node,c=t.Collider,d=t.Quat,p=t.Animation},function(t){f=t.BaseView},function(t){m=t.BindColliderCollision},function(t){y=t.GameStatus},function(t){b=t.gm},function(t){h=t.Player},function(t){g=t.nullifySubscription},function(t){v=t.AnimationPlay},null,function(t){E=t.TweenToStart},function(t){_=t.DetectorEx},function(t){B=t.instantFunc},function(t){w=t.concat}],execute:function(){var C,P,x,D,S,A,z;r._RF.push({},"25244MXGY9ETbQXn4pOmb4e","BedEnemy",void 0);var N=u.ccclass,T=u.property,M=s(),V=a();t("BedEnemy",(C=N("BedEnemy"),P=T(l),x=T(_),C((A=e((S=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return(e=t.call.apply(t,[this].concat(r))||this)._collider=null,i(e,"enemyNode",A,o(e)),i(e,"detectorEx",z,o(e)),e._sub_standup=null,e}n(e,t);var r=e.prototype;return r.willBind=function(){this._collider=this.getComponent(c)},r.start=function(){var t=this;this.getMainSubscription().add(m(this._collider).subscribe((function(e){if([y.Playing].includes(b.gameStatus.value)&&"onCollisionEnter"==e.event.type){var n=e.event.otherCollider.getComponent(h);null!=n&&(t.log("hit player!"),n.touchBedEnemy||(n.touchBedEnemy=!0,t._sub_standup=t.standupAnim(n).subscribe({complete:function(){n.isDead.value=!0}})))}})))},r.onDestroyView=function(){g.call(this,"_sub_standup")},r.standupAnim=function(t){var e=this;return t.node.getWorldPosition(M),M.subtract(this.enemyNode.worldPosition),M.normalize(),M.y=0,d.fromViewUp(V,M),w(v(this.getComponent(p),"bedenemy-standup"),B((function(){e.detectorEx.node.active=!0,e.detectorEx.refreshRay()})),E(this.enemyNode,.2,{rotation:V},{easing:"quadInOut"}))},e}(f)).prototype,"enemyNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(S.prototype,"detectorEx",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=S))||D));r._RF.pop()}}}));

System.register("chunks:///_virtual/BehaviorSubject.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Subject.ts"],(function(t){"use strict";var e,r,u,i;return{setters:[function(t){e=t.inheritsLoose,r=t.createClass},function(t){u=t.cclegacy},function(t){i=t.Subject}],execute:function(){u._RF.push({},"26cda3PHMNGm6oBj41YelZ8","BehaviorSubject",void 0);t("BehaviorSubject",function(t){function u(e){var r;return(r=t.call(this)||this)._value=e,r}e(u,t);var i=u.prototype;return i._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return!r.closed&&e.next(this._value),r},i.getValue=function(){var t=this.hasError,e=this.thrownError,r=this._value;if(t)throw e;return this._throwIfClosed(),r},i.next=function(e){t.prototype.next.call(this,this._value=e)},r(u,[{key:"value",get:function(){return this.getValue()}}]),u}(i));u._RF.pop()}}}));

System.register("chunks:///_virtual/BindButton.ts",["cc","./RxCCConfig.ts","./index.ts","./KeyEvent.ts","./empty.ts","./Observable2.ts","./filter.ts"],(function(n){"use strict";var t,e,o,u,i,c,d,r,f,s;return{setters:[function(n){t=n.cclegacy,e=n.warn,o=n.Button,u=n.Node,i=n.isValid},function(n){c=n.rxccconfig},null,function(n){d=n.KeyUp},function(n){r=n.EMPTY},function(n){f=n.Observable},function(n){s=n.filter}],execute:function(){function l(n,t){return n?new f((function(t){var e=function(e){c.buttonWillClickCommand.execute({node:n.node}),t.next(e)};return n.node.on(o.EventType.CLICK,e),function(){i(n.node)&&n.node.off(o.EventType.CLICK,e)}})):(e("BindButton, button is null"),r)}n({BindButton:l,BindButtonEx:function(n,t){if(!n)return e("BindButton, button is null"),r;return new f((function(t){var e=function(e){c.buttonWillClickCommand.execute({node:n.node}),t.next(e)};n.node.on(o.EventType.CLICK,e);var d=function(t){c.buttonTouchStartCommand.execute({node:n.node})},r=function(t){c.buttonTouchEndCommand.execute({node:n.node})};return n.node.on(u.EventType.TOUCH_START,d),n.node.on(u.EventType.TOUCH_END,r),function(){i(n.node)&&(n.node.off(o.EventType.CLICK,e),n.node.off(u.EventType.TOUCH_START,d),n.node.off(u.EventType.TOUCH_END,r))}}))}}),t._RF.push({},"f0a66ior+xFWIWbQOT0kjcO","BindButton",void 0),o.prototype.subscribe=function(n,t,e){var o=this,u=l(this).subscribe(n.bind(t));return null!=e&&u.add(d().pipe(s((function(n){return n==e}))).subscribe((function(e){o.interactable&&(c.buttonWillClickCommand.execute({node:o.node}),n.call(t))}))),u},t._RF.pop()}}}));

System.register("chunks:///_virtual/bindCallback.ts",["cc","./bindCallbackInternals.ts"],(function(n){"use strict";var t,c;return{setters:[function(n){t=n.cclegacy},function(n){c=n.bindCallbackInternals}],execute:function(){n("bindCallback",(function(n,t,a){return c(!1,n,t,a)})),t._RF.push({},"a729dAdi0VEqLMC1dVvFW7X","bindCallback",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/bindCallbackInternals.ts",["cc","./isScheduler.ts","./Observable2.ts","./subscribeOn.ts","./mapOneOrManyArgs.ts","./observeOn.ts","./AsyncSubject.ts"],(function(n){"use strict";var r,e,t,i,c,s,u;return{setters:[function(n){r=n.cclegacy},function(n){e=n.isScheduler},function(n){t=n.Observable},function(n){i=n.subscribeOn},function(n){c=n.mapOneOrManyArgs},function(n){s=n.observeOn},function(n){u=n.AsyncSubject}],execute:function(){n("bindCallbackInternals",(function n(r,a,o,f){if(o){if(!e(o))return function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return n(r,a,f).apply(this,t).pipe(c(o))};f=o}if(f)return function(){for(var e=arguments.length,t=new Array(e),c=0;c<e;c++)t[c]=arguments[c];return n(r,a).apply(this,t).pipe(i(f),s(f))};return function(){for(var n=this,e=arguments.length,i=new Array(e),c=0;c<e;c++)i[c]=arguments[c];var s=new u,o=!0;return new t((function(e){var t=s.subscribe(e);if(o){o=!1;var c=!1,u=!1;a.apply(n,[].concat(i,[function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];if(r){var i=e.shift();if(null!=i)return void s.error(i)}s.next(1<e.length?e:e[0]),u=!0,c&&s.complete()}])),u&&s.complete(),c=!0}return t}))}})),r._RF.push({},"6a3dafphkZHwLGKp8tXT//S","bindCallbackInternals",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/BindCollider.ts",["cc","./index.ts","./empty.ts","./Observable2.ts"],(function(n){"use strict";var i,o,e,t,r;return{setters:[function(n){i=n.cclegacy,o=n.warn,e=n.isValid},null,function(n){t=n.EMPTY},function(n){r=n.Observable}],execute:function(){n({BindColliderCollision:function(n){var i=this;if(!n)return o("BindColliderCollision, collider is null"),t;return new r((function(o){var t=function(i){o.next({event:i,collider:n})},r=function(i){o.next({event:i,collider:n})},l=function(i){o.next({event:i,collider:n})};return n.on("onCollisionEnter",t,i),n.on("onCollisionStay",r,i),n.on("onCollisionExit",l,i),function(){e(null==n?void 0:n.node)&&(n.off("onCollisionEnter",t,i),n.off("onCollisionStay",r,i),n.off("onCollisionExit",l,i))}}))},BindColliderTrigger:function(n){var i=this;if(!n)return o("BindColliderTrigger, collider is null"),t;return new r((function(o){var t=function(i){o.next({event:i,collider:n})},r=function(i){o.next({event:i,collider:n})},l=function(i){o.next({event:i,collider:n})};return n.on("onTriggerEnter",t,i),n.on("onTriggerStay",r,i),n.on("onTriggerExit",l,i),function(){e(null==n?void 0:n.node)&&(n.off("onTriggerEnter",t,i),n.off("onTriggerStay",r,i),n.off("onTriggerExit",l,i))}}))}}),i._RF.push({},"bcb15haBYxHLYQCBUdkLbgP","BindCollider",void 0),i._RF.pop()}}}));

System.register("chunks:///_virtual/BindEditBox.ts",["cc","./index.ts","./Observable2.ts"],(function(n){"use strict";var e,t,i,o;return{setters:[function(n){e=n.cclegacy,t=n.EditBox,i=n.isValid},null,function(n){o=n.Observable}],execute:function(){n("BindEditBox",(function(n){return new o((function(e){var o=function(n){e.next({eventType:t.EventType.EDITING_DID_ENDED,editBox:n})};return n.node.on(t.EventType.EDITING_DID_ENDED,o),function(){i(null==n?void 0:n.node)&&n.node.off(t.EventType.EDITING_DID_ENDED,o)}}))})),e._RF.push({},"3b85cxohgFJsJd0NeDSAcul","BindEditBox",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/BindNode.ts",["cc","./RxCCConfig.ts","./index.ts","./empty.ts","./Observable2.ts","./map.ts"],(function(n){"use strict";var t,e,o,i,u,r,T,f,c;return{setters:[function(n){t=n.cclegacy,e=n.warn,o=n.Node,i=n.isValid,u=n.v3},function(n){r=n.rxccconfig},null,function(n){T=n.EMPTY},function(n){f=n.Observable},function(n){c=n.map}],execute:function(){n({BindNodeTouch:function(n){if(!n)return e("BindNodeTouch, node is null"),T;return new f((function(t){var e=function(n){return t.next(n)},u=function(n){return t.next(n)},r=function(n){return t.next(n)},T=function(n){return t.next(n)};return n.on(o.EventType.TOUCH_START,e),n.on(o.EventType.TOUCH_MOVE,u),n.on(o.EventType.TOUCH_END,r),n.on(o.EventType.TOUCH_CANCEL,T),function(){i(n)&&(n.off(o.EventType.TOUCH_START,e),n.off(o.EventType.TOUCH_MOVE,u),n.off(o.EventType.TOUCH_END,r),n.off(o.EventType.TOUCH_CANCEL,T))}})).pipe(c((function(n){return n})))},BindNodeTouchStartEnd:function(n,t){if(!n)return e("BindNodeTouchStartEnd, node is null"),T;return new f((function(t){var e=function(e){r.buttonWillClickCommand.execute({node:n}),t.next(e)},u=function(n){return t.next(n)},T=function(n){return t.next(n)};return n.on(o.EventType.TOUCH_START,e),n.on(o.EventType.TOUCH_END,u),n.on(o.EventType.TOUCH_CANCEL,T),function(){i(n)&&(n.off(o.EventType.TOUCH_START,e),n.off(o.EventType.TOUCH_END,u),n.off(o.EventType.TOUCH_CANCEL,T))}})).pipe(c((function(n){return null!=t&&(t.value=n.type==o.EventType.TOUCH_START),n})))}}),t._RF.push({},"2b543L+bilMzZxCBsldNoz2","BindNode",void 0);var s=u();o.prototype.setX=function(n){this.getPosition(s),s.x=n,this.setPosition(s)},o.prototype.setY=function(n){this.getPosition(s),s.y=n,this.setPosition(s)},o.prototype.setZ=function(n){this.getPosition(s),s.z=n,this.setPosition(s)},t._RF.pop()}}}));

System.register("chunks:///_virtual/bindNodeCallback.ts",["cc","./bindCallbackInternals.ts"],(function(n){"use strict";var c,t;return{setters:[function(n){c=n.cclegacy},function(n){t=n.bindCallbackInternals}],execute:function(){n("bindNodeCallback",(function(n,c,e){return t(!0,n,c,e)})),c._RF.push({},"01818XKrXdE1IjAim5B3cru","bindNodeCallback",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/BindPageView.ts",["cc","./index.ts","./Observable2.ts"],(function(n){"use strict";var e,t,i;return{setters:[function(n){e=n.cclegacy,t=n.isValid},null,function(n){i=n.Observable}],execute:function(){n("CCBindPageView",(function(n){var e=this;return new i((function(i){var c=function(){i.next({state:"scrolling",target:n})};return n.node.on("scrolling",c,e),function(){t(n.node)&&n.node.off("scrolling",c)}}))})),e._RF.push({},"001acAd5n1MU5cAwUqJU1Y3","BindPageView",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/BindScrollView.ts",["cc","./index.ts","./Observable2.ts"],(function(n){"use strict";var e,t,i;return{setters:[function(n){e=n.cclegacy,t=n.isValid},null,function(n){i=n.Observable}],execute:function(){n("CCBindScrollView",(function(n){var e=this;return new i((function(i){var r=function(){i.next({state:"scrolling",target:n})};return n.node.on("scrolling",r,e),function(){t(n.node)&&n.node.off("scrolling",r)}}))})),e._RF.push({},"ffed0KOKP1BOLo6bnirP6wG","BindScrollView",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/BindSlider.ts",["cc","./index.ts","./Observable2.ts"],(function(e){"use strict";var n,t,i;return{setters:[function(e){n=e.cclegacy,t=e.isValid},null,function(e){i=e.Observable}],execute:function(){e("BindSlider",(function(e){var n=this;return new i((function(i){var r=function(){i.next({state:"slide",target:e})};return e.node.on("slide",r,n),function(){t(e.node)&&e.node.off("slide",r)}}))})),n._RF.push({},"8ebf58PQmxF/aTBSTc33t4v","BindSlider",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/BindToggle.ts",["cc","./RxCCConfig.ts","./index.ts","./empty.ts","./Observable2.ts"],(function(n){"use strict";var e,t,o,i,c,u,l;return{setters:[function(n){e=n.cclegacy,t=n.warn,o=n.Toggle,i=n.isValid},function(n){c=n.rxccconfig},null,function(n){u=n.EMPTY},function(n){l=n.Observable}],execute:function(){n("BindToggle",(function(n){if(!n)return t("BindToggle, toggle is null"),u;return new l((function(e){var t=function(t){c.buttonWillClickCommand.execute({node:n.node}),e.next(t)};return n.node.on(o.EventType.TOGGLE,t),function(){i(n.node)&&n.node.off(o.EventType.TOGGLE,t)}}))})),e._RF.push({},"18d91zWP/dM9IX7fxV8lZ9A","BindToggle",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/BoltDoor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReactiveBoolean.ts","./Enums.ts","./Enemy.ts","./Player.ts","./BaseView.ts","./BindCollider.ts","./Npc.ts","./BoltDoorSingle.ts"],(function(t){"use strict";var e,o,r,n,i,s,l,a,u,c,d,p,h,f,b,g,y,v,E,D;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,r=t.initializerDefineProperty,n=t.assertThisInitialized,i=t.createClass},function(t){s=t.cclegacy,l=t._decorator,a=t.v3,u=t.Collider,c=t.Vec3,d=t.RigidBody},function(t){p=t.ReactiveBoolean},function(t){h=t.EnemyStatus,f=t.NpcStatus},function(t){b=t.Enemy},function(t){g=t.Player},function(t){y=t.BaseView},function(t){v=t.BindColliderTrigger},function(t){E=t.Npc},function(t){D=t.BoltDoorSingle}],execute:function(){var _,m,S,B,C,W;s._RF.push({},"e1af7zf7KJC8LdSD1ij3zWH","BoltDoor",void 0);var w=l.ccclass,z=l.property,k=l.executeInEditMode,P=(a(),a());t("BoltDoor",(_=w("BoltDoor"),m=z(p),_(S=k((C=e((B=function(t){function e(){for(var e,o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return e=t.call.apply(t,[this].concat(i))||this,r(e,"_doorWidth",C,n(e)),e._progress=0,r(e,"_boltEnabled",W,n(e)),e.boltDoorSingles=[],e._collider=null,e}o(e,t);var s=e.prototype;return s.willBind=function(){var t=this;this.boltDoorSingles=[],this.node.children.forEach((function(e){t.boltDoorSingles.push(e.getComponent(D))})),this._boltEnabled.loadValue()},s.useObserves=function(){var t=this;return[this._boltEnabled.subscribe((function(e){t.progress=e?1:0,t.refresh()}))]},s.refresh=function(){var t=this;this.boltDoorSingles.forEach((function(e){e.progress=t.progress,e.doorWidth=t.doorWidth,e.boltEnabled=t.boltEnabled})),null==this._collider&&(this._collider=this.getComponent(u)),this._collider.size.z=this.doorWidth},s.start=function(){var t=this;this.getMainSubscription().add(v(this.getComponent(u)).subscribe((function(e){if(!(t.progress<.9||"onTriggerEnter"!=e.event.type&&"onTriggerStay"!=e.event.type)){var o=e.event.otherCollider.node;if("player"==o.name){var r=o.getComponent(g);r.isDead.value||(r.isDead.value=!0,r.addEShockEffect())}else{var n=o.getComponent(b);null!=n&&n.enemyStatus.value!=h.Dead&&(n.enemyStatus.value=h.Dead,c.random(P,30),n.getComponent(d).applyTorque(P),n.addEShockEffect());var i=o.getComponent(E);null!=i&&i.npcStatus.value!=f.Dead&&(i.npcStatus.value=f.Dead,c.random(P,30),i.getComponent(d).applyTorque(P),i.addEShockEffect())}}})))},s.triggered=function(){this.boltEnabled=!this.boltEnabled},i(e,[{key:"doorWidth",get:function(){return this._doorWidth},set:function(t){this._doorWidth=t,this.refresh()}},{key:"progress",get:function(){return this._progress},set:function(t){this._progress=t,this.refresh()}},{key:"boltEnabled",get:function(){return this._boltEnabled.value},set:function(t){this._boltEnabled.Value=t,this.progress=t?1:0,this.refresh()}}]),e}(y)).prototype,"_doorWidth",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),e(B.prototype,"doorWidth",[z],Object.getOwnPropertyDescriptor(B.prototype,"doorWidth"),B.prototype),W=e(B.prototype,"_boltEnabled",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.DefaultValue(!0)}}),e(B.prototype,"boltEnabled",[z],Object.getOwnPropertyDescriptor(B.prototype,"boltEnabled"),B.prototype),S=B))||S)||S));s._RF.pop()}}}));

System.register("chunks:///_virtual/BoltDoorSingle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReactiveBoolean.ts","./BaseView.ts","./math.ts"],(function(t){"use strict";var e,i,r,s,o,l,h,n,p,a,_,u,c,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,s=t.assertThisInitialized,o=t.createClass},function(t){l=t.cclegacy,h=t._decorator,n=t.v3,p=t.find,a=t.Line,_=t.ParticleSystem},function(t){u=t.ReactiveBoolean},function(t){c=t.BaseView},function(t){g=t.linearClamp}],execute:function(){var d,f,b,y,v,S;l._RF.push({},"d03e4fPJyVBdZ6IfGFGdiXs","BoltDoorSingle",void 0);var W=h.ccclass,B=h.property,D=h.executeInEditMode,E=n();n(),t("BoltDoorSingle",(d=W("BoltDoorSingle"),f=B(u),d(b=D((v=e((y=function(t){function e(){for(var e,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return e=t.call.apply(t,[this].concat(o))||this,r(e,"_doorWidth",v,s(e)),e._progress=0,r(e,"_boltEnabled",S,s(e)),e._left=null,e._right=null,e._left_spiral=null,e._left_sphere=null,e._right_spiral=null,e._right_sphere=null,e._light=null,e._particleNode=null,e}i(e,t);var l=e.prototype;return l.refresh=function(){null==this._left&&(this._left=p("left",this.node)),null==this._left_spiral&&(this._left_spiral=p("Spiral",this._left)),null==this._left_sphere&&(this._left_sphere=p("sphere",this._left)),null==this._right&&(this._right=p("right",this.node)),null==this._right_spiral&&(this._right_spiral=p("Spiral",this._right)),null==this._right_sphere&&(this._right_sphere=p("sphere",this._right)),null==this._light&&(this._light=p("light",this.node)),this._left.setZ(this._doorWidth/2),this._right.setZ(-this._doorWidth/2),this._left_spiral.getScale(E),E.z=g(0,1,0,.2,this.progress),this._left_spiral.setScale(E),this._left_spiral.setZ(g(0,1,-.056,-.319,this.progress)),this._left_sphere.setZ(g(0,1,-.06,-.33,this.progress)),this._right_spiral.getScale(E),E.z=g(0,1,0,.2,this.progress),this._right_spiral.setScale(E),this._right_spiral.setZ(g(0,1,-.056,-.319,this.progress)),this._right_sphere.setZ(g(0,1,-.06,-.33,this.progress));var t=this._light.getComponent(a),e=g(0,1,0,.33,this.progress);t.positions=[n(0,0,-(this.doorWidth/2-e)),n(0,0,this.doorWidth/2-e)],t.width.constant=.1*this.progress,null==this._particleNode&&(this._particleNode=p("particle",this.node));var i=this._particleNode.getComponent(_);i.shapeModule.scale.y=this.doorWidth-2*e,i.rateOverTime.constant=g(0,1,0,50,this.progress)},l.triggered=function(){this.boltEnabled=!this.boltEnabled},o(e,[{key:"doorWidth",get:function(){return this._doorWidth},set:function(t){this._doorWidth=t,this.refresh()}},{key:"progress",get:function(){return this._progress},set:function(t){this._progress=t,this.refresh()}},{key:"boltEnabled",get:function(){return this._boltEnabled.value},set:function(t){this._boltEnabled.Value=t,this.progress=t?1:0,this.refresh()}}]),e}(c)).prototype,"_doorWidth",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),e(y.prototype,"doorWidth",[B],Object.getOwnPropertyDescriptor(y.prototype,"doorWidth"),y.prototype),S=e(y.prototype,"_boltEnabled",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return u.DefaultValue(!0)}}),e(y.prototype,"boltEnabled",[B],Object.getOwnPropertyDescriptor(y.prototype,"boltEnabled"),y.prototype),b=y))||b)||b));l._RF.pop()}}}));

System.register("chunks:///_virtual/BottomTrigger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Player.ts","./BaseView.ts","./BindCollider.ts"],(function(e){"use strict";var t,r,i,n,o,l,s;return{setters:[function(e){t=e.inheritsLoose},function(e){r=e.cclegacy,i=e._decorator,n=e.Collider},function(e){o=e.Player},function(e){l=e.BaseView},function(e){s=e.BindColliderTrigger}],execute:function(){var c;r._RF.push({},"f07de3HqWBOurm0HDDnxlgT","BottomTrigger",void 0);var a=i.ccclass;i.property,e("BottomTrigger",a("BottomTrigger")(c=function(e){function r(){for(var t,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];return(t=e.call.apply(e,[this].concat(i))||this)._collider=null,t}t(r,e);var i=r.prototype;return i.willBind=function(){this._collider=this.node.getComponent(n)},i.start=function(){this.getMainSubscription().add(s(this._collider).subscribe((function(e){if("onTriggerEnter"==e.event.type||"onTriggerStay"==e.event.type){var t=e.event.otherCollider.node;if("player"==t.name){var r=t.getComponent(o);r.isDead.value||(r.isDead.value=!0)}else t.destroy()}})))},r}(l))||c);r._RF.pop()}}}));

System.register("chunks:///_virtual/buffer.ts",["cc","./lift.ts","./noop.ts","./OperatorSubscriber.ts"],(function(t){"use strict";var n,e,r,u;return{setters:[function(t){n=t.cclegacy},function(t){e=t.operate},function(t){r=t.noop},function(t){u=t.createOperatorSubscriber}],execute:function(){t("buffer",(function(t){return e((function(n,e){var c=[];return n.subscribe(u(e,(function(t){return c.push(t)}),(function(){e.next(c),e.complete()}))),t.subscribe(u(e,(function(){var t=c;c=[],e.next(t)}),r)),function(){c=null}}))})),n._RF.push({},"14dd4pUx3JOdbKvKDES2Gn2","buffer",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/bufferCount.ts",["./rollupPluginModLoBabelHelpers.js","cc","./lift.ts","./OperatorSubscriber.ts","./arrRemove.ts"],(function(e){"use strict";var r,n,t,u,o;return{setters:[function(e){r=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy},function(e){t=e.operate},function(e){u=e.createOperatorSubscriber},function(e){o=e.arrRemove}],execute:function(){e("bufferCount",(function(e,n){var c;void 0===n&&(n=null);return n=null!=(c=n)?c:e,t((function(t,c){var a=[],f=0;t.subscribe(u(c,(function(t){var u=null;f++%n==0&&a.push([]);for(var i,l=r(a);!(i=l()).done;){var s,v=i.value;if(v.push(t),e<=v.length)(u=null!=(s=u)?s:[]).push(v)}if(u)for(var p,b=r(u);!(p=b()).done;){var h=p.value;o(a,h),c.next(h)}}),(function(){for(var e,n=r(a);!(e=n()).done;){var t=e.value;c.next(t)}c.complete()}),void 0,(function(){a=null})))}))})),n._RF.push({},"50a47ShHWNI4ZDcQ+hEs6rK","bufferCount",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/bufferTime.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Subscription.ts","./lift.ts","./OperatorSubscriber.ts","./arrRemove.ts","./async.ts","./args.ts","./executeSchedule.ts"],(function(e){"use strict";var n,r,u,t,c,o,i,s,f;return{setters:[function(e){n=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy},function(e){u=e.Subscription},function(e){t=e.operate},function(e){c=e.createOperatorSubscriber},function(e){o=e.arrRemove},function(e){i=e.asyncScheduler},function(e){s=e.popScheduler},function(e){f=e.executeSchedule}],execute:function(){e("bufferTime",(function(e){for(var r,l,a=arguments.length,b=new Array(a>1?a-1:0),v=1;v<a;v++)b[v-1]=arguments[v];var p=null!=(r=s(b))?r:i,h=null!=(l=b[0])?l:null,d=b[1]||1/0;return t((function(r,t){var i=[],s=!1,l=function(e){var n=e.buffer;e.subs.unsubscribe(),o(i,e),t.next(n),s&&a()},a=function(){if(i){var n=new u;t.add(n);var r={buffer:[],subs:n};i.push(r),f(n,p,(function(){return l(r)}),e)}};null!==h&&h>=0?f(t,p,a,h,!0):s=!0,a();var b=c(t,(function(e){for(var r,u=i.slice(),t=n(u);!(r=t()).done;){var c=r.value,o=c.buffer;o.push(e),d<=o.length&&l(c)}}),(function(){for(;null!=(e=i)&&e.length;){var e;t.next(i.shift().buffer)}null==b||b.unsubscribe(),t.complete(),t.unsubscribe()}),void 0,(function(){return i=null}));r.subscribe(b)}))})),r._RF.push({},"8ac4bokNfNEx65VPJOKL46X","bufferTime",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/bufferToggle.ts",["cc","./Subscription.ts","./lift.ts","./innerFrom.ts","./OperatorSubscriber.ts","./noop.ts","./arrRemove.ts"],(function(n){"use strict";var t,e,r,o,u,c,i;return{setters:[function(n){t=n.cclegacy},function(n){e=n.Subscription},function(n){r=n.operate},function(n){o=n.innerFrom},function(n){u=n.createOperatorSubscriber},function(n){c=n.noop},function(n){i=n.arrRemove}],execute:function(){n("bufferToggle",(function(n,t){return r((function(r,s){var f=[];o(n).subscribe(u(s,(function(n){var r=[];f.push(r);var b=new e;b.add(o(t(n)).subscribe(u(s,(function(){i(f,r),s.next(r),b.unsubscribe()}),c)))}),c)),r.subscribe(u(s,(function(n){for(var t=0,e=f;t<e.length;t++){e[t].push(n)}}),(function(){for(;f.length>0;)s.next(f.shift());s.complete()})))}))})),t._RF.push({},"372e1Q6SNtLCon/s6OPWuE0","bufferToggle",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/bufferWhen.ts",["cc","./lift.ts","./noop.ts","./OperatorSubscriber.ts","./innerFrom.ts"],(function(n){"use strict";var r,t,e,u,i;return{setters:[function(n){r=n.cclegacy},function(n){t=n.operate},function(n){e=n.noop},function(n){u=n.createOperatorSubscriber},function(n){i=n.innerFrom}],execute:function(){n("bufferWhen",(function(n){return t((function(r,t){var c=null,o=null;!function r(){var s;null==(s=o)||s.unsubscribe();var f=c;c=[],f&&t.next(f),i(n()).subscribe(o=u(t,r,e))}(),r.subscribe(u(t,(function(n){var r;return null==(r=c)?void 0:r.push(n)}),(function(){c&&t.next(c),t.complete()}),void 0,(function(){return c=o=null})))}))})),r._RF.push({},"a5d540HQiRIfJilds+XTKwO","bufferWhen",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/BuildingUnlockPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReactiveProperty.ts","./utils.ts","./DataManager.ts","./BundleAssetsManager.ts","./GameConfig.ts","./GameManager.ts","./BasePanel.ts","./BindButton.ts"],(function(n){"use strict";var e,i,t,l,o,u,r,a,c,s,d,f,b,h,B,g,p,v;return{setters:[function(n){e=n.applyDecoratedDescriptor,i=n.inheritsLoose,t=n.initializerDefineProperty,l=n.assertThisInitialized},function(n){o=n.cclegacy,u=n._decorator,r=n.Node,a=n.Button,c=n.instantiate,s=n.MeshRenderer},function(n){d=n.ReactiveProperty},function(n){f=n.nullifySubscription},function(n){b=n.dm},function(n){h=n.bam},function(n){B=n.GameConfig},function(n){g=n.gm},function(n){p=n.BasePanel},function(n){v=n.BindButton}],execute:function(){var y,k,m,D,C,I,P,M,w,R,U;o._RF.push({},"44c9a9FcKRMKrYdwWI6bdLU","BuildingUnlockPanel",void 0);var _=u.ccclass,z=u.property;n("BuildingUnlockPanel",(y=_("BuildingUnlockPanel"),k=z(r),m=z(a),D=z(a),C=z(a),y((M=e((P=function(n){function e(){for(var e,i=arguments.length,o=new Array(i),u=0;u<i;u++)o[u]=arguments[u];return(e=n.call.apply(n,[this].concat(o))||this).ID=d.Create(null),t(e,"container",M,l(e)),t(e,"closeButton",w,l(e)),t(e,"cancelButton",R,l(e)),t(e,"unlockButton",U,l(e)),e._loadBuilding=null,e}i(e,n);var o=e.prototype;return o.useObserves=function(){var n=this;return[this.ID.subscribe(this.refresh.bind(this)),g.choosedBuildingID.subscribe((function(e){return n.ID.value=e})),v(this.closeButton).subscribe(this.closeButtonClicked.bind(this)),v(this.cancelButton).subscribe(this.closeButtonClicked.bind(this)),v(this.unlockButton).subscribe(this.unlockButtonClicked.bind(this))]},o.refresh=function(){this.loadBuilding()},o.closeButtonClicked=function(){g.buildingUnlockEnabled.value=!1},o.unlockButtonClicked=function(){b.showAdsForBuilding(g.choosedBuildingID.value).subscribe((function(n){n&&(g.refreshBuildingIDCommand.execute({buildingID:g.choosedBuildingID.value}),g.buildingUnlockEnabled.value=!1)}))},o.loadBuilding=function(){var n=this;if(f.call(this,"_loadBuilding"),null!=this.ID.value){this.container.destroyAllChildren();var e=b.xlsx.Building.index[this.ID.value],i=e.Model;this._loadBuilding=h.loadGamePrefabs("FacilityModel/"+e.Model,(function(){for(var e=arguments.length,i=new Array(e),t=0;t<e;t++)i[t]=arguments[t];var l=i[0],o=i[1];n.log("load game prefabs",l,o)})).subscribe((function(e){var t=h.getGamePrefab(i),l=c(t);n.container.addChild(l),l.getComponentsInChildren(s).forEach((function(n){n.node.layer=B.layer.RT}))}))}},e}(p)).prototype,"container",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=e(P.prototype,"closeButton",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(P.prototype,"cancelButton",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(P.prototype,"unlockButton",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=P))||I));o._RF.pop()}}}));

System.register("chunks:///_virtual/BundleAssetsManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseManager.ts","./AssetManagerLoad.ts","./map.ts","./GameAssetsRefs.ts"],(function(e){"use strict";var s,t,a,n,r,o,i,c,u,f,l,g,d,m,p,b,h;return{setters:[function(e){s=e.inheritsLoose,t=e.createClass},function(e){a=e.cclegacy,n=e._decorator,r=e.director,o=e.System,i=e.JsonAsset,c=e.Prefab,u=e.instantiate,f=e.SpriteFrame,l=e.color},function(e){g=e.BaseManager},function(e){d=e.bundleLoadDir,m=e.bundlePreloadDir,p=e.bundleLoad},function(e){b=e.map},function(e){h=e.GameAssetsRefs}],execute:function(){var v,A;a._RF.push({},"df831NtTZpENLJRQwdd51IO","BundleAssetsManager",void 0);var y=n.ccclass,M=(n.property,e("BundleAssetsManager",y("BundleAssetsManager")(((A=function(e){function a(){for(var s,t=arguments.length,a=new Array(t),n=0;n<t;n++)a[n]=arguments[n];return(s=e.call.apply(e,[this].concat(a))||this).stageJsonAssets={},s.xlsxJsonAssets={},s.prefabs={},s.faceSpriteFrames={},s.gameAsstsRefs=null,s}s(a,e),a.registerSystem=function(){r.unregisterSystem(r.getSystem(a.ID)),r.registerSystem(a.ID,_,o.Priority.MEDIUM),_.init()};var n=a.prototype;return n.onInitManager=function(){this.log("onInitManager",this.timestamp)},n.loadStages=function(){var e=this;return d("ab_stages","Stages",i).pipe(b((function(s){s.err;s.data.forEach((function(s){e.stageJsonAssets[s.name]=s}))})))},n.loadXlsx=function(){var e=this;return d("ab_stages","Xlsx",i).pipe(b((function(s){s.err;s.data.forEach((function(s){e.xlsxJsonAssets[s.name]=s}))})))},n.loadGamePrefabs=function(e,s){var t=this;return d("ab_game",e,c,s).pipe(b((function(s){var a=s.err,n=s.data;null!=a&&t.error("loadGamePrefabs",e,a),n.forEach((function(s){console.log("ab_game",e,s.name),t.prefabs[s.name]=s}))})))},n.preloadGamePrefabs=function(e,s){return m("ab_game",e,c,s)},n.getGamePrefab=function(e){return this.prefabs[e]},n.getBlockPrefab=function(e){var s=e.substring(1),t="Block"+s,a="Block"+s+"s";return{node:u(_.prefabs[t]),shadowNode:u(_.prefabs[a])}},n.getFaceSpriteFrame=function(e){var s=this;return p("ab_game","Face/icon/"+e+"/spriteFrame",f).pipe(b((function(t){t.err;var a=t.data;s.faceSpriteFrames[e]=a})))},n.loadGameAssetsRefs=function(e){var s=this;return p("ab_game","GameAssetsRefs",c,e).pipe(b((function(e){e.err;var t=e.data,a=u(t);r.addPersistRootNode(a),s.gameAsstsRefs=a.getComponent(h)})))},t(a,[{key:"logColorOverride",get:function(){return l().fromHEX("#FFDDCC")}}]),a}(g)).instance=void 0,A.ID="bundle_assets_system",v=A))||v));globalThis.BundleAssetsManager=M;var _=e("bam",M.instance=new M);a._RF.pop()}}}));

System.register("chunks:///_virtual/ByteDanceManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var o,n,t,s,l,a,i,c,r;return{setters:[function(e){o=e.inheritsLoose},function(e){n=e.cclegacy,t=e._decorator,s=e.log,l=e.js,a=e.sys,i=e.Eventify,c=e.System,r=e.director}],execute:function(){var g,u;n._RF.push({},"6e925n1frtJEYTvkDt+HTf+","ByteDanceManager",void 0);var f=t.ccclass,m=(t.property,f("ByteDanceManager")(((u=function(e){function n(){for(var o,n=arguments.length,t=new Array(n),s=0;s<n;s++)t[s]=arguments[s];return(o=e.call.apply(e,[this].concat(t))||this).loginResolve=null,o}o(n,e),n.registerSystem=function(){r.unregisterSystem(r.getSystem(n.ID)),r.registerSystem(n.ID,y,c.Priority.MEDIUM),y.init()};var t=n.prototype;return t.init=function(){s("<"+l.getClassName(this)+">","init")},t.gameLogin=function(){var e=this;return new Promise((function(o){if(e.loginResolve=o,a.platform==a.Platform.BYTEDANCE_MINI_GAME){console.log("抖音小游戏登录");var n=e;globalThis.tt.login({force:!0,success:function(e){console.log("login 调用成功"+e.code+" "+e.anonymousCode),n.ByteDanceGameSetting()},fail:function(e){console.log("login 调是用失败")}})}else o(!0)}))},t.ByteDanceGameLogin=function(){console.log("抖音小游戏登录");var e=this;globalThis.tt.login({force:!0,success:function(o){console.log("login 调用成功"+o.code+" "+o.anonymousCode),e.ByteDanceGameSetting()},fail:function(e){console.log("login 调是用失败")}})},t.ByteDanceGameSetting=function(){console.log("抖音小游戏获取授权信息");var e=this;globalThis.tt.getSetting({success:function(o){o.authSetting["scope.userInfo"]?(console.log("已经获得用户信息授权,请求用户信息 ",o),e.ByteDanceGameGetUserInfo()):(console.log("还没有获得用户信息授权，请求用户授权",o),e.ByteDanceGameAuthorize())}})},t.ByteDanceGameAuthorize=function(){console.log("抖音小游戏获取授权信息");var e=this;globalThis.tt.authorize({scope:"scope.userInfo",success:function(o){console.log("用户授权成功",o),e.ByteDanceGameGetUserInfo()},fail:function(o){console.log("用户授权失败",o),e.loginResolve&&e.loginResolve(!1)}})},t.ByteDanceGameGetUserInfo=function(){console.log("抖音小游戏获取用户信息信息");var e=this;globalThis.tt.getUserInfo({withRealNameAuthenticationInfo:!0,success:function(o){o.userInfo;"certified"==o.realNameAuthenticationStatus?(console.log("已实名认证"),e.loginResolve&&e.loginResolve(!0)):(console.log("未实名认证"),e.ByDanceGameRealName())},fail:function(e){console.log("getUserInfo 调用失败",e.errMsg)}})},t.ByDanceGameRealName=function(){var e=this;globalThis.tt.authenticateRealName({success:function(o){console.log("用户实名认证成功",o),e.loginResolve&&e.loginResolve(!0)},fail:function(o){console.log("用户实名认证失败",o.errMsg),e.loginResolve&&e.loginResolve(!1)}}),globalThis.tt.onRealNameAuthenticationComplete((function(o){console.log("实名认证完成回调",o),e.loginResolve&&e.loginResolve(!0)}))},t.report=function(e,o){console.log("report",e,o),a.platform==a.Platform.BYTEDANCE_MINI_GAME&&globalThis.tt.reportAnalytics(e,o)},t.ImRankFuncEnabled=function(){var e,o;if("function"==typeof(null==(e=globalThis.tt)?void 0:e.setImRankData)&&"function"==typeof(null==(o=globalThis.tt)?void 0:o.getImRankList))return!0},t.setImRankData=function(e){this.ImRankFuncEnabled()&&globalThis.tt.setImRankData({dataType:e.dataType,value:e.value,priority:e.priority,extra:e.extra,success:function(e){console.log("setImRankData success res: ",e)},fail:function(e){console.log("setImRankData fail res: ",e.errMsg)}})},t.getImRankList=function(e){this.ImRankFuncEnabled()&&globalThis.tt.getImRankList({relationType:e.relationType,dataType:e.dataType,rankType:e.rankType,suffix:e.suffix,rankTitle:e.rankTitle,success:function(e){console.log("getImRankData success res: ",e)},fail:function(e){console.log("getImRankData fail res: ",e.errMsg)}})},t.checkShortcut=function(){globalThis.tt.checkShortcut({success:function(e){console.log("检查快捷方式",e.status)},fail:function(e){console.log("检查快捷方式失败",e.errMsg)}})},t.addShortcut=function(){globalThis.tt.addShortcut({success:function(){console.log("添加桌面成功")},fail:function(e){console.log("添加桌面失败",e.errMsg)}})},n}(i(c))).instance=void 0,u.ID="bytedance_system",g=u))||g);globalThis.ByteDanceManager=m;var y=e("bdm",m.instance=new m);n._RF.pop()}}}));

System.register("chunks:///_virtual/ByteDanceRecorderManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./index.ts","./i18n.ts","./Observable2.ts","./of.ts","./LanguageData.ts"],(function(r){"use strict";var e,t,o,i,n,s,a,c,l,h,d,u,f;return{setters:[function(r){e=r.inheritsLoose},function(r){t=r.cclegacy,o=r._decorator,i=r.log,n=r.js,s=r.sys,a=r.Eventify,c=r.System,l=r.director},function(r){h=r.gm},null,null,function(r){d=r.Observable},function(r){u=r.of},function(r){f=r.t}],execute:function(){var g,E;t._RF.push({},"014b9SwZwJO8KS94PWfTxco","ByteDanceRecorderManager",void 0);var m=o.ccclass,p=(o.property,m("ByteDanceRecorderManager")(((E=function(r){function t(){for(var e,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return(e=r.call.apply(r,[this].concat(o))||this).callBackBegin=null,e.callBackEnd=null,e.callBackErr=null,e.recorder=null,e.res=null,e.time=0,e.recording=!1,e.isError=!1,e.alreadyStop=!1,e.sharing=!1,e}e(t,r),t.registerSystem=function(){l.unregisterSystem(l.getSystem(t.ID)),l.registerSystem(t.ID,B,c.Priority.MEDIUM),B.init()};var o=t.prototype;return o.init=function(){i("<"+n.getClassName(this)+">","init"),s.platform==s.Platform.BYTEDANCE_MINI_GAME&&this.ByteDanceRecorderInit()},o.recorderBegin=function(){null!=this.callBackBegin&&this.callBackBegin.call(this)},o.recorderEnd=function(r){null!=this.callBackEnd&&this.callBackEnd.call(this,r)},o.recorderErr=function(){null!=this.callBackErr&&this.callBackErr.call(this)},o.update=function(r){this.recording&&(this.time+=r,this.time>60&&(this.stopRecoder((function(){})),this.alreadyStop=!0))},o.ByteDanceRecorderInit=function(){console.log("抖音录屏组件初始化");var r=this;s.platform==s.Platform.BYTEDANCE_MINI_GAME&&(this.recorder=globalThis.tt.getGameRecorderManager(),this.recorder.onStart((function(e){console.log("=========> 开始录屏：",e),r.recorderBegin()})),this.recorder.onStop((function(e){console.log("=========> 录屏结束：",e),this.alreadyStop=!0,B.res=e,r.recorderEnd(e)})),this.recorder.onError((function(e){console.log("=========> 录屏出错：",e),r.isError=!0,r.recorderErr()})))},o.startRecoder=function(r){if(s.platform==s.Platform.BYTEDANCE_MINI_GAME){var e=65,t=24;s.os==s.OS.ANDROID?(e=65,t=24):s.os==s.OS.IOS&&(e=65,t=15),null!=this.recorder&&(this.callBackBegin=r,this.alreadyStop=!1,this.time=0,this.recording=!0,this.isError=!1,this.recorder.start({duration:e,frameRate:t}))}else r(!0)},o.stopRecoder=function(r){s.platform==s.Platform.BYTEDANCE_MINI_GAME?this.alreadyStop?r(!0):null!=this.recorder&&(this.callBackEnd=r,this.recorder.stop(),this.recording=!1,console.log("record time",this.time)):r(!0)},o.pauseRecorder=function(){s.platform==s.Platform.BYTEDANCE_MINI_GAME&&(this.recorder.pause(),this.recording=!1)},o.resumeRecorder=function(){s.platform==s.Platform.BYTEDANCE_MINI_GAME&&(this.recorder.resume(),this.recording=!0)},o.share=function(){var r=this;return s.platform!=s.Platform.BYTEDANCE_MINI_GAME?(h.frontTipShow("分享成功",1).subscribe(),u(!0)):this.sharing?void h.frontTipShow(""+f("_.wait"),1).subscribe():new d((function(e){r.sharing=!0,globalThis.tt.shareAppMessage({title:"小屋惊魂",channel:"video",extra:{videoPath:B.res.videoPath,withVideoId:!0},success:function(t){r.sharing=!1,globalThis.tt.showToast({title:f("f.sharesuc")}),e.next(!0),e.complete()},fail:function(t){r.sharing=!1,globalThis.tt.showToast({title:f("f.sharefail"),icon:"fail"}),e.next(!1),e.complete()}})}))},t}(a(c))).instance=void 0,E.ID="bytedance_recorder_system",g=E))||g);globalThis.ByteDanceRecorderManager=p;var B=r("bdrm",p.instance=new p);t._RF.pop()}}}));

System.register("chunks:///_virtual/ByteDanceVideoAdManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataConfig.ts","./ReactiveProperty.ts","./index.ts","./utils.ts","./i18n.ts","./of.ts","./Observable2.ts","./concat2.ts","./map.ts","./defer.ts","./LanguageData.ts"],(function(t){"use strict";var n,e,i,o,s,r,a,l,c,u,d,f,h,g,A,v,m,p;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy,i=t._decorator,o=t.log,s=t.js,r=t.sys,a=t.Eventify,l=t.System,c=t.director},function(t){u=t.DevConfig},function(t){d=t.ReactiveProperty},null,function(t){f=t.nullifySubscription},null,function(t){h=t.of},function(t){g=t.Observable},function(t){A=t.concat},function(t){v=t.map},function(t){m=t.defer},function(t){p=t.t}],execute:function(){var y,D;e._RF.push({},"4d31eMjBXBNqYhfmWCLJ3te","ByteDanceVideoAdManager",void 0);var w=i.ccclass,b=(i.property,w("ByteDanceVideoAdManager")(((D=function(t){function e(){for(var n,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(n=t.call.apply(t,[this].concat(i))||this).running=(new d).init(!1),n.callBackSuccess=null,n.callBackFailed=null,n.rewardedVideoAd=null,n.interstitiaAd=null,n.firstLaunchTs=null,n.lastVideoAdTs=null,n.interstitia_running=!1,n.interstitialLimitDate=new Date("2023/03/26 00:00:00"),n._interstitia_sub=null,n}n(e,t),e.registerSystem=function(){c.unregisterSystem(c.getSystem(e.ID)),c.registerSystem(e.ID,B,l.Priority.MEDIUM),B.init()};var i=e.prototype;return i.init=function(){o("<"+s.getClassName(this)+">","init"),r.platform==r.Platform.BYTEDANCE_MINI_GAME&&this.ByteDanceVideoAdInit()},i.showAds=function(){var t=this;return this.running.value?h(null):new g((function(n){r.platform!=r.Platform.BYTEDANCE_MINI_GAME||u.adFakeProcess?(t.running.value=!0,globalThis.GameManager.instance.frontTipShow(p("f.adholder")).subscribe(),setTimeout((function(){t.running.value=!1,n.next(!0),n.complete()}),500)):(t.running.value=!0,B.videoAdInit((function(){t.running.value=!1,t.lastVideoAdTs=Date.parse((new Date).toString()),n.next(!0),n.complete()}),(function(){t.running.value=!1,t.lastVideoAdTs=Date.parse((new Date).toString()),n.next(!1),n.complete()})),B.ByteDanceVideoAdShow())}))},i.videoAdInit=function(t,n){this.callBackSuccess=t,this.callBackFailed=n},i.videoAdSuccess=function(){null!=this.callBackSuccess&&this.callBackSuccess.call(this)},i.videoAdFailed=function(){null!=this.callBackFailed&&this.callBackFailed.call(this)},i.ByteDanceVideoAdInit=function(){console.log("抖音广告组件初始化");var t=this;this.rewardedVideoAd=globalThis.tt.createRewardedVideoAd({adUnitId:"d7d75a7cf5kk2ou81e"}),this.rewardedVideoAd.onError((function(t){console.log("播放广告失败:",t.errCode,t.errMsg)})),this.rewardedVideoAd.onClose((function(n){console.log("播放广告结束:",n),n.isEnded?(console.log("播放广告结束,可以领取奖励"),t.videoAdSuccess()):(console.log("播放广告结束,不可以领取奖励"),t.callBackFailed.call(this),t.videoAdFailed())}))},i.ByteDanceVideoAdLoad=function(){this.rewardedVideoAd.load().then((function(){console.log("手动独立加载成功")}))},i.ByteDanceVideoAdShow=function(){var t=this;this.rewardedVideoAd.show().then((function(){console.log("视频广告展示")})).catch((function(n){console.log("广告组件出现问题",n),t.rewardedVideoAd.load().then((function(){console.log("手动加载成功"),t.rewardedVideoAd.show()}))}))},i.isOverLimitDate=function(){return(new Date).valueOf()-this.interstitialLimitDate.valueOf()>=0},i.isTimeEnough=function(){return!0},i.firstLaunchEnough=function(){return!0},i.showInterstitial=function(t,n){var e=this;if(r.platform==r.Platform.BYTEDANCE_MINI_GAME){if(this.interstitia_running)return t(!1),!1;if(!this.isOverLimitDate())return!1;if(!this.firstLaunchEnough())return t(!1),!1;if(!this.isTimeEnough())return t(!1),!1;f.call(this,"_interstitia_sub"),null!=this.interstitiaAd&&this.interstitiaAd.destroy(),this._interstitia_sub=A(h(null).pipe(v((function(n){e.interstitia_running=!0,e.interstitiaAd=globalThis.tt.createInterstitialAd({adUnitId:"c0dfar5m20pad1ahbb"}),e.interstitiaAd.onError((function(n){console.error("插屏广告报错",n,n.errCode,n.errMsg),e.interstitia_running=!1,t(!1)})),e.interstitiaAd.onClose((function(){console.log("插屏广告关闭"),e.lastVideoAdTs=Date.parse((new Date).toString()),e.interstitia_running=!1,t(!0)}))}))),m((function(){return e.interstitialOnLoadObserve(e.interstitiaAd)})),m((function(){return new g((function(t){e.interstitiaAd.show().then((function(){console.log("插屏广告 展示成功"),n(),t.next("success"),t.complete()})).catch((function(t){console.error("插屏广告组件出现问题",t)}))}))}))).subscribe()}else globalThis.GameManager.instance.frontTipShow("插屏替代流程，返回成功").subscribe(),n(),t(!0)},i.destroyInterstitial=function(){f.call(this,"_interstitia_sub"),null!=this.interstitiaAd?(this.interstitiaAd.destroy(),this.interstitiaAd=null):console.error("没有创建插屏广告实例")},i.interstitialOnLoadObserve=function(t){return new g((function(n){return t.onLoad((function(){console.log("插屏广告加载成功"),n.next(null),n.complete()})),function(){}}))},e}(a(l))).instance=void 0,D.ID="bytedance_system",y=D))||y);globalThis.ByteDanceVideoAdManager=b;var B=t("bdadm",b.instance=new b);e._RF.pop()}}}));

System.register("chunks:///_virtual/catchError.ts",["cc","./innerFrom.ts","./OperatorSubscriber.ts","./lift.ts"],(function(r){"use strict";var c,t,n,u;return{setters:[function(r){c=r.cclegacy},function(r){t=r.innerFrom},function(r){n=r.createOperatorSubscriber},function(r){u=r.operate}],execute:function(){r("catchError",(function r(c){return u((function(u,e){var i,s=null,o=!1;s=u.subscribe(n(e,void 0,void 0,(function(n){i=t(c(n,r(c)(u))),s?(s.unsubscribe(),s=null,i.subscribe(e)):o=!0}))),o&&(s.unsubscribe(),s=null,i.subscribe(e))}))})),c._RF.push({},"facbbVh+S9O+5a+WrmMwzvl","catchError",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/Ceiling.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReactiveProperty.ts","./BaseView.ts","./BindCollider.ts","./index.ts","./utils.ts","./TweenStart.ts","./Observable2.ts"],(function(e){"use strict";var t,n,i,r,o,s,c,u,a,l,p,b,f,h,y,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){s=e.cclegacy,c=e._decorator,u=e.Collider,a=e.MeshRenderer,l=e.v4},function(e){p=e.ReactiveProperty},function(e){b=e.BaseView},function(e){f=e.BindColliderTrigger},null,function(e){h=e.nullifySubscription},function(e){y=e.TweenToStart},function(e){d=e.Observable}],execute:function(){var g,v,w,C,_;s._RF.push({},"03b6b+rEwFLTYA7epgRN9Cn","Ceiling",void 0);var m=c.ccclass,T=c.property;e("Ceiling",(g=m("Ceiling"),v=T({slide:!0,range:[0,1,.01]}),g((_=t((C=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))||this).showed=p.Create(!0),i(t,"_opacity",_,r(t)),t._sub=null,t}n(t,e);var s=t.prototype;return s.useObserves=function(){var e=this;return[this.showed.subscribeUntilChanged((function(t){t?e.show():e.hide()}))]},s.start=function(){var e=this;this.getMainSubscription().add(f(this.getComponent(u)).subscribe((function(t){"player"==t.event.otherCollider.node.name&&("onTriggerEnter"==t.event.type?e.showed.value=!1:"onTriggerExit"==t.event.type&&(e.showed.value=!0))})))},s.show=function(){var e=this;h.bind(this,"_sub"),this._sub=new d((function(t){var n=y(e,.4,{opacity:1}).subscribe({next:function(e){return t.next(e)},complete:function(){return t.complete()}});return function(){return n.unsubscribe()}})).subscribe()},s.hide=function(){var e=this;h.bind(this,"_sub"),this._sub=new d((function(t){var n=y(e,.4,{opacity:0}).subscribe({next:function(e){return t.next(e)},complete:function(){return t.complete()}});return function(){return n.unsubscribe()}})).subscribe()},o(t,[{key:"opacity",get:function(){return this._opacity},set:function(e){this._opacity=e,this.getComponent(a).getMaterialInstance(0).setProperty("mainColor",l(1,1,1,e))}}]),t}(b)).prototype,"_opacity",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),t(C.prototype,"opacity",[v],Object.getOwnPropertyDescriptor(C.prototype,"opacity"),C.prototype),w=C))||w));s._RF.pop()}}}));

System.register("chunks:///_virtual/CloudManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReactiveProperty.ts","./BaseManager.ts","./fetch.ts","./index.ts","./Observable2.ts","./throwError.ts","./lastValueFrom.ts"],(function(e){"use strict";var t,r,n,o,s,a,c,i,u,l,g,f,h,p,d;return{setters:[function(e){t=e.inheritsLoose,r=e.createClass,n=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,a=e._decorator,c=e.director,i=e.System,u=e.color},function(e){l=e.ReactiveProperty},function(e){g=e.BaseManager},function(e){f=e.fromFetch},null,function(e){h=e.Observable},function(e){p=e.throwError},function(e){d=e.lastValueFrom}],execute:function(){var v,m;s._RF.push({},"2d166fkVjBMEIJ3LVg1zWhJ","CloudManager",void 0);var y=a.ccclass,w=(a.property,"http://www.bmma.top:13010/api"),S=y("CloudManager")(((m=function(e){function s(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(t=e.call.apply(e,[this].concat(n))||this).checkPassed=l.Create(!1),t}t(s,e),s.registerSystem=function(){c.unregisterSystem(c.getSystem(s.ID)),c.registerSystem(s.ID,k,i.Priority.MEDIUM),k.init()};var a=s.prototype;return a.onInitManager=function(){this.log("onInitManager",this.timestamp),this.checkCloud()},a.checkCloud=function(){var e=n(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,d(this.setStage(0,{hi:100}));case 3:return e.next=5,d(this.getStage(0));case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.warn("checkCloud",e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),a.getStage=function(e){var t=this;return new h((function(r){f(w+"/get/"+e,{selector:function(e){return e.ok?e.json():p((function(){return new Error("Error: "+e.status)}))}}).subscribe({next:function(e){t.log("getStage:",e),t.checkPassed.value=!0,r.next(e.stage),r.complete()},error:function(e){t.warn("getStage:",e),t.checkPassed.value=!1,r.error(e)}})}))},a.setStage=function(e,t){var r=this;return new h((function(n){f(w+"/set",{method:"POST",body:JSON.stringify({stageNum:e,data:t}),headers:{"Content-Type":"application/json"},selector:function(e){return e.ok?e.json():p((function(){return new Error("Error: "+e.status+", "+e.statusText)}))}}).subscribe({next:function(e){r.log("setStage:",e),r.checkPassed.value=!0,n.next(e.stage),n.complete()},error:function(e){r.warn("setStage:",e),r.checkPassed.value=!1,n.error(e)}})}))},r(s,[{key:"logColorOverride",get:function(){return u().fromHEX("#CCEEDD")}}]),s}(g)).instance=void 0,m.ID="cloud_system",v=m))||v;globalThis.CloudManager=S;var k=e("cm",S.instance=new S);s._RF.pop()}}}));

System.register("chunks:///_virtual/CocosTools.ts",["cc"],(function(n){"use strict";var t,e;return{setters:[function(n){t=n.cclegacy,e=n.director}],execute:function(){var o,r;n("CocosTools",void 0),t._RF.push({},"fb88c98RO1ORZ4H+2bGUmtJ","CocosTools",void 0),(r=o||(o=n("CocosTools",{}))).findRecursive=function(n,t){var o;t=null!=(o=t)?o:e.getScene();var r=[];return t.walk((function(t){return t.name==n&&r.push(t)})),r},r.path=function n(t,e){return void 0===e&&(e=[]),e.unshift(t.name),t.parent&&n(t.parent,e),e.join("/")},r.nextEnumItem=function(n,t){return(n+1)%Object.values(t).length},r.isSameColor=function(n,t){return n.r==t.r&&n.g==t.g&&n.b==t.b},t._RF.pop()}}}));

System.register("chunks:///_virtual/CodeChestButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts","./ReactiveProperty.ts","./DataManager.ts","./GameManager.ts","./GameAssetsRefs.ts","./BindButton.ts","./AssetsRefs.ts","./utils.ts","./AnimationPlay.ts"],(function(e){"use strict";var t,n,i,o,s,r,a,c,u,l,d,p,f,h,b,m,y,C,v,B,g,N,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,a=e.Button,c=e.Node,u=e.UIOpacity,l=e.instantiate,d=e.find,p=e.Sprite,f=e.Label,h=e.Animation},function(e){b=e.BaseView},function(e){m=e.ReactiveProperty},function(e){y=e.dm},function(e){C=e.gm},function(e){v=e.GameAssetsRefs},function(e){B=e.BindButton},function(e){g=e.AssetsRefs},function(e){N=e.nullifySubscription},function(e){w=e.AnimationPlay}],execute:function(){var I,D,R,_,x,A,k,P,T;s._RF.push({},"848fcFvvR9IHbMWQmXwmCuq","CodeChestButton",void 0);var z=r.ccclass,F=r.property;e("CodeChestButton",(I=z("CodeChestButton"),D=F(a),R=F(c),_=F(c),I((k=t((A=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=e.call.apply(e,[this].concat(s))||this).idx=null,t.rewardID=m.Create(null),i(t,"selfButton",k,o(t)),i(t,"closedNode",P,o(t)),i(t,"openedNode",T,o(t)),t._sub_anim=null,t}n(t,e);var s=t.prototype;return s.useObserves=function(){return[this.rewardID.subscribe(this.refresh.bind(this)),B(this.selfButton).subscribe(this.selfButtonClicked.bind(this))]},s.selfButtonClicked=function(){C.codeChest.codeChestClicked(this.idx)},s.refresh=function(){if(N.call(this,"_sub_anim"),this.openedNode.destroyAllChildren(),null==this.rewardID.value)this.closedNode.active=!0,this.openedNode.active=!1;else{this.closedNode.active=!0,this.openedNode.active=!0,this.closedNode.getComponent(u).opacity=255,this.openedNode.getComponent(u).opacity=0;var e=y.xlsx.Reward.index[this.rewardID.value],t=y.xlsx.Item.index[e.ItemID],n=l(C.codeChest.prefabType[t.Type]);switch(t.Type){case 0:case 1:d("label",n).getComponent(f).string=""+e.Num;break;case 2:d("icon",n).getComponent(p).spriteFrame=v.instance.playerSkinIcon.getIcons(t.SkinID)}n.setParent(this.openedNode);var i=g.instance.codeChest.getBoardByType(t.Type);this.openedNode.getComponent(p).spriteFrame=i,this._sub_anim=w(this.getComponent(h),"CodeChestButtonOpen").subscribe()}},t}(b)).prototype,"selfButton",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(A.prototype,"closedNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(A.prototype,"openedNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=A))||x));s._RF.pop()}}}));

System.register("chunks:///_virtual/CodeChestPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePanel.ts","./BindButton.ts","./GameManager.ts","./UserDataManager.ts","./DataManager.ts","./GameAssetsRefs.ts","./CodeChestButton.ts","./CreatorSchedule.ts","./i18n.ts","./LanguageData.ts"],(function(e){"use strict";var t,n,r,i,a,s,o,l,u,c,d,h,p,b,f,C,g,v,m,y,w,B;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,o=e.Prefab,l=e.Label,u=e.Button,c=e.Node,d=e.instantiate,h=e.find,p=e.Sprite},function(e){b=e.BasePanel},function(e){f=e.BindButton},function(e){C=e.gm},function(e){g=e.udm},function(e){v=e.dm},function(e){m=e.GameAssetsRefs},function(e){y=e.CodeChestButton},function(e){w=e.Timer},null,function(e){B=e.t}],execute:function(){var P,I,S,x,L,_,k,D,z,N,R,T,G,M,A,F,O;a._RF.push({},"11229e8PfpLWJshZGCWsrsz","CodeChestPanel",void 0);var E=s.ccclass,W=s.property;e("CodeChestPanel",(P=E("CodeChestPanel"),I=W([o]),S=W(o),x=W(l),L=W(u),_=W(u),k=W(c),D=W(c),P((R=t((N=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,r(t,"prefabType",R,i(t)),r(t,"codeChestButtonPrefab",T,i(t)),r(t,"remainLabel",G,i(t)),r(t,"adButton",M,i(t)),r(t,"cancelButton",A,i(t)),r(t,"bestNode",F,i(t)),r(t,"gridLayoutNode",O,i(t)),t.step=0,t.innerStep=0,t.rewardIds=[],t._playing_ad=!1,t}n(t,e);var a=t.prototype;return a.willBind=function(){C.codeChest=this,this.step=1,this.rewardIds=C.chestRow.value["G"+this.step],this.rewardIds.sort((function(e,t){return Math.random()-.5})),this.innerStep=0},a.useObserves=function(){var e=this;return[f(this.adButton).subscribe(this.adButtonClicked.bind(this)),f(this.cancelButton).subscribe(this.cancelButtonClicked.bind(this)),g.goldCard.subscribe((function(t){e.remainLabel.string=""+t})),C.chestRow.subscribe(this.refresh.bind(this))]},a.refresh=function(){this.bestNode.destroyAllChildren();var e=C.chestRow.value.Best,t=v.xlsx.Reward.index[e],n=v.xlsx.Item.index[t.ItemID],r=d(this.prefabType[n.Type]);switch(n.Type){case 0:case 1:h("label",r).getComponent(l).string=""+t.Num;break;case 2:h("icon",r).getComponent(p).spriteFrame=m.instance.playerSkinIcon.getIcons(n.SkinID)}r.setParent(this.bestNode);for(var i=0;i<9;i++){var a=d(this.codeChestButtonPrefab);a.setParent(this.gridLayoutNode);var s=a.getComponent(y);s.idx=i,s.rewardID.value=null}},a.adButtonClicked=function(){var e=this;this._playing_ad||(this.step>=3?C.frontTipShow(B("f.complete")).subscribe():g.goldCard.value>0?C.frontTipShow(B("f.extragold").replace("{}",""+g.goldCard.value)).subscribe():(this._playing_ad=!0,v.showAdsForExtraGoldCard().subscribe((function(t){e._playing_ad=!1,t&&(e.step++,e.rewardIds=C.chestRow.value["G"+e.step],e.rewardIds.sort((function(e,t){return Math.random()-.5})),e.innerStep=0)}))))},a.cancelButtonClicked=function(){C.codeChestEnabled.value=!1,g.goldCard.value=0,g.save(),null!=C.codeChestPanelObserver&&(C.codeChestPanelObserver.next("@codeChestProcess next"),C.codeChestPanelObserver.complete())},a.codeChestClicked=function(e){var t=this;this.log("codeChestClicked",e);var n=this.gridLayoutNode.children[e].getComponent(y);if(null==n.rewardID.value)if(g.goldCard.value>0){g.goldCard.value--,g.save();var r=this.rewardIds[this.innerStep];n.rewardID.value=r,v.distributeReward(r),this.innerStep++,this.step>=3&&this.innerStep>=3&&this.getMainSubscription().add(w(1,this.node).subscribe((function(e){t.cancelButtonClicked()})))}else C.frontTipShow(B("f.goldnotenough")).subscribe()},t}(b)).prototype,"prefabType",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(N.prototype,"codeChestButtonPrefab",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(N.prototype,"remainLabel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(N.prototype,"adButton",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(N.prototype,"cancelButton",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(N.prototype,"bestNode",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(N.prototype,"gridLayoutNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=N))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/CodeChestRefs.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,n,o;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.initializerDefineProperty},function(e){i=e.cclegacy,n=e._decorator,o=e.SpriteFrame}],execute:function(){var s,a,c,u,l,p,f;i._RF.push({},"7a372mKnv9PS7wTB/2uFqhY","CodeChestRefs",void 0);var d=n.ccclass,h=n.property;e("CodeChestRefs",(s=d("CodeChestRefs"),a=h(o),c=h(o),s((p=t((l=function(){function e(){r(this,"jinseBoard",p,this),r(this,"lanseBoard",f,this)}return e.prototype.getBoardByType=function(e){switch(e){case 0:case 1:return this.lanseBoard;case 2:return this.jinseBoard}},e}()).prototype,"jinseBoard",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=t(l.prototype,"lanseBoard",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=l))||u));i._RF.pop()}}}));

System.register("chunks:///_virtual/ColdObservable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Observable2.ts","./Subscription.ts","./SubscriptionLoggable.ts","./applyMixins.ts","./Notification.ts"],(function(e){"use strict";var s,i,t,n,r,o,c;return{setters:[function(e){s=e.inheritsLoose},function(e){i=e.cclegacy},function(e){t=e.Observable},function(e){n=e.Subscription},function(e){r=e.SubscriptionLoggable},function(e){o=e.applyMixins},function(e){c=e.observeNotification}],execute:function(){i._RF.push({},"416fdPHbjlLN6V4opBpW22D","ColdObservable",void 0);var u=e("ColdObservable",function(e){function i(s,i){var t;return(t=e.call(this,(function(e){var s=this,i=s.logSubscribedFrame(),t=new n;return t.add(new n((function(){s.logUnsubscribedFrame(i)}))),s.scheduleMessages(e),t}))||this).subscriptions=[],t.scheduler=void 0,t.logSubscribedFrame=void 0,t.logUnsubscribedFrame=void 0,t.messages=s,t.scheduler=i,t}return s(i,e),i.prototype.scheduleMessages=function(e){for(var s=this.messages.length,i=0;i<s;i++){var t=this.messages[i];e.add(this.scheduler.schedule((function(e){var s=e,i=s.message.notification,t=s.subscriber;c(i,t)}),t.frame,{message:t,subscriber:e}))}},i}(t));o(u,[r]),i._RF.pop()}}}));

System.register("chunks:///_virtual/combineAll.ts",["cc","./combineLatestAll.ts"],(function(t){"use strict";var e,c;return{setters:[function(t){e=t.cclegacy},function(t){c=t.combineLatestAll}],execute:function(){e._RF.push({},"7bdadww5UtJqKtaa8jm+Dw3","combineAll",void 0);t("combineAll",c);e._RF.pop()}}}));

System.register("chunks:///_virtual/combineLatest.ts",["cc","./combineLatest2.ts","./lift.ts","./argsOrArgArray.ts","./mapOneOrManyArgs.ts","./pipe.ts","./args.ts"],(function(t){"use strict";var n,e,r,c,s,i,o;return{setters:[function(t){n=t.cclegacy},function(t){e=t.combineLatestInit},function(t){r=t.operate},function(t){c=t.argsOrArgArray},function(t){s=t.mapOneOrManyArgs},function(t){i=t.pipe},function(t){o=t.popResultSelector}],execute:function(){t("combineLatest",(function t(){for(var n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];var p=o(a);return p?i(t.apply(void 0,a),s(p)):r((function(t,n){e([t].concat(c(a)))(n)}))})),n._RF.push({},"56ec7zjHMRMS7DUrZABO6eE","combineLatest",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/combineLatest2.ts",["cc","./Observable2.ts","./argsArgArrayOrObject.ts","./from.ts","./identity.ts","./mapOneOrManyArgs.ts","./args.ts","./createObject.ts","./OperatorSubscriber.ts","./executeSchedule.ts"],(function(t){"use strict";var e,n,r,c,i,u,o,s,a,f,b;return{setters:[function(t){e=t.cclegacy},function(t){n=t.Observable},function(t){r=t.argsArgArrayOrObject},function(t){c=t.from},function(t){i=t.identity},function(t){u=t.mapOneOrManyArgs},function(t){o=t.popScheduler,s=t.popResultSelector},function(t){a=t.createObject},function(t){f=t.createOperatorSubscriber},function(t){b=t.executeSchedule}],execute:function(){function p(t,e,n){return void 0===n&&(n=i),function(r){l(e,(function(){for(var i=t.length,u=new Array(i),o=i,s=i,a=function(i){l(e,(function(){var a=c(t[i],e),b=!1;a.subscribe(f(r,(function(t){u[i]=t,b||(b=!0,s--),s||r.next(n(u.slice()))}),(function(){--o||r.complete()})))}),r)},b=0;b<i;b++)a(b)}),r)}}function l(t,e,n){t?b(n,t,e):e()}t({combineLatest:function(){for(var t=arguments.length,e=new Array(t),f=0;f<t;f++)e[f]=arguments[f];var b=o(e),l=s(e),O=r(e),g=O.args,v=O.keys;if(0===g.length)return c([],b);var y=new n(p(g,b,v?function(t){return a(v,t)}:i));return l?y.pipe(u(l)):y},combineLatestInit:p}),e._RF.push({},"be1d3NwdkpLRoarC3M0Fz8Q","combineLatest",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/combineLatestAll.ts",["cc","./combineLatest2.ts","./joinAllInternals.ts"],(function(t){"use strict";var n,e,c;return{setters:[function(t){n=t.cclegacy},function(t){e=t.combineLatest},function(t){c=t.joinAllInternals}],execute:function(){t("combineLatestAll",(function(t){return c(e,t)})),n._RF.push({},"43ac6gKiEdAGJO1pep6NrY1","combineLatestAll",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/combineLatestWith.ts",["cc","./combineLatest.ts"],(function(t){"use strict";var e,c;return{setters:[function(t){e=t.cclegacy},function(t){c=t.combineLatest}],execute:function(){t("combineLatestWith",(function(){return c.apply(void 0,arguments)})),e._RF.push({},"16835X++aFEeoGyR4t60Hxq","combineLatestWith",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/CommonObservable.ts",["cc","./index.ts","./of.ts","./map.ts"],(function(n){"use strict";var t,e,c;return{setters:[function(n){t=n.cclegacy},null,function(n){e=n.of},function(n){c=n.map}],execute:function(){n("instantFunc",(function(n){return e(null).pipe(c((function(t){return n()})))})),t._RF.push({},"07dc3UIK3NKoL6jcbKqyv8A","CommonObservable",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/CommonRefs.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,i,r,n,o;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.initializerDefineProperty},function(e){r=e.cclegacy,n=e._decorator,o=e.SpriteFrame}],execute:function(){var a,u,l,s,c,f,p,m,b,d,h;r._RF.push({},"42299ZikalOGbKR04B8fGZc","CommonRefs",void 0);var y=n.ccclass,g=n.property;e("CommonRefs",(a=y("CommonRefs"),u=g(o),l=g(o),s=g(o),c=g(o),a((m=t((p=function(){i(this,"startGamePop",m,this),i(this,"startGamePressed",b,this),i(this,"audioOnSF",d,this),i(this,"audioOffSF",h,this)}).prototype,"startGamePop",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(p.prototype,"startGamePressed",[l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=t(p.prototype,"audioOnSF",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=t(p.prototype,"audioOffSF",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=p))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/concat.ts",["cc","./lift.ts","./concatAll.ts","./args.ts","./from.ts"],(function(c){"use strict";var t,n,o,r,e;return{setters:[function(c){t=c.cclegacy},function(c){n=c.operate},function(c){o=c.concatAll},function(c){r=c.popScheduler},function(c){e=c.from}],execute:function(){c("concat",(function(){for(var c=arguments.length,t=new Array(c),u=0;u<c;u++)t[u]=arguments[u];var s=r(t);return n((function(c,n){o()(e([c].concat(t),s)).subscribe(n)}))})),t._RF.push({},"6c5caxbtbBJf6FbZ6MyxZc9","concat",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/concat2.ts",["cc","./concatAll.ts","./args.ts","./from.ts"],(function(c){"use strict";var t,n,o,r;return{setters:[function(c){t=c.cclegacy},function(c){n=c.concatAll},function(c){o=c.popScheduler},function(c){r=c.from}],execute:function(){c("concat",(function(){for(var c=arguments.length,t=new Array(c),e=0;e<c;e++)t[e]=arguments[e];return n()(r(t,o(t)))})),t._RF.push({},"c4cf8XVm5tAcaSqsSfFL+2E","concat",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/concatAll.ts",["cc","./mergeAll.ts"],(function(t){"use strict";var c,e;return{setters:[function(t){c=t.cclegacy},function(t){e=t.mergeAll}],execute:function(){t("concatAll",(function(){return e(1)})),c._RF.push({},"eb2f8jN2adFx5GTENDvDZNU","concatAll",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/concatMap.ts",["cc","./mergeMap.ts","./isFunction.ts"],(function(t){"use strict";var c,n,e;return{setters:[function(t){c=t.cclegacy},function(t){n=t.mergeMap},function(t){e=t.isFunction}],execute:function(){t("concatMap",(function(t,c){return e(c)?n(t,c,1):n(t,1)})),c._RF.push({},"5c1b2O3WMlOyqJHKWVDpPOV","concatMap",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/concatMapTo.ts",["cc","./concatMap.ts","./isFunction.ts"],(function(n){"use strict";var t,c,o;return{setters:[function(n){t=n.cclegacy},function(n){c=n.concatMap},function(n){o=n.isFunction}],execute:function(){n("concatMapTo",(function(n,t){return o(t)?c((function(){return n}),t):c((function(){return n}))})),t._RF.push({},"965947s5nFIq674xlSODQae","concatMapTo",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/concatWith.ts",["cc","./concat.ts"],(function(c){"use strict";var t,n;return{setters:[function(c){t=c.cclegacy},function(c){n=c.concat}],execute:function(){c("concatWith",(function(){return n.apply(void 0,arguments)})),t._RF.push({},"6c8fcR0/WxBpL7BXl/iA+IH","concatWith",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/config.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"f5f97OvKq9BkIPCky2aWQCX","config",void 0);e("config",{onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1});n._RF.pop()}}}));

System.register("chunks:///_virtual/connect.ts",["cc","./Subject.ts","./innerFrom.ts","./lift.ts","./fromSubscribable.ts"],(function(n){"use strict";var t,c,e,r,o;return{setters:[function(n){t=n.cclegacy},function(n){c=n.Subject},function(n){e=n.innerFrom},function(n){r=n.operate},function(n){o=n.fromSubscribable}],execute:function(){n("connect",(function(n,t){void 0===t&&(t=u);var c=t.connector;return r((function(t,r){var u=c();e(n(o(u))).subscribe(r),r.add(t.subscribe(u))}))})),t._RF.push({},"283b2kdduxJTYrOCmxxsr0e","connect",void 0);var u={connector:function(){return new c}};t._RF.pop()}}}));

System.register("chunks:///_virtual/connectable.ts",["cc","./Subject.ts","./Observable2.ts","./defer.ts"],(function(n){"use strict";var e,t,c,r;return{setters:[function(n){e=n.cclegacy},function(n){t=n.Subject},function(n){c=n.Observable},function(n){r=n.defer}],execute:function(){n("connectable",(function(n,e){void 0===e&&(e=u);var t=null,o=e,s=o.connector,i=o.resetOnDisconnect,f=void 0===i||i,b=s(),a=new c((function(n){return b.subscribe(n)}));return a.connect=function(){return t&&!t.closed||(t=r((function(){return n})).subscribe(b),f&&t.add((function(){return b=s()}))),t},a})),e._RF.push({},"9bacfAm0fpAqbMpmtRkAsGf","connectable",void 0);var u={connector:function(){return new t},resetOnDisconnect:!0};e._RF.pop()}}}));

System.register("chunks:///_virtual/ConnectableObservable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Observable2.ts","./Subscription.ts","./refCount.ts","./OperatorSubscriber.ts","./lift.ts"],(function(t){"use strict";var n,e,c,r,i,o,s;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){c=t.Observable},function(t){r=t.Subscription},function(t){i=t.refCount},function(t){o=t.createOperatorSubscriber},function(t){s=t.hasLift}],execute:function(){e._RF.push({},"55d59Y1jPlFTqV7UcqaJA9m","ConnectableObservable",void 0);t("ConnectableObservable",function(t){function e(n,e){var c;return(c=t.call(this)||this)._subject=null,c._refCount=0,c._connection=null,c.source=n,c.subjectFactory=e,s(n)&&(c.lift=n.lift),c}n(e,t);var c=e.prototype;return c._subscribe=function(t){return this.getSubject().subscribe(t)},c.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},c._teardown=function(){this._refCount=0;var t=this._connection;this._subject=this._connection=null,null==t||t.unsubscribe()},c.connect=function(){var t=this,n=this._connection;if(!n){n=this._connection=new r;var e=this.getSubject();n.add(this.source.subscribe(o(e,void 0,(function(){t._teardown(),e.complete()}),(function(n){t._teardown(),e.error(n)}),(function(){return t._teardown()})))),n.closed&&(this._connection=null,n=r.EMPTY)}return n},c.refCount=function(){return i()(this)},e}(c));e._RF.pop()}}}));

System.register("chunks:///_virtual/count.ts",["cc","./reduce.ts"],(function(t){"use strict";var c,n;return{setters:[function(t){c=t.cclegacy},function(t){n=t.reduce}],execute:function(){t("count",(function(t){return n((function(c,n,u){return!t||t(n,u)?c+1:c}),0)})),c._RF.push({},"faca3zLyRpBPZs/4/iv7Dxw","count",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/createErrorClass.ts",["cc"],(function(r){"use strict";var t;return{setters:[function(r){t=r.cclegacy}],execute:function(){r("createErrorClass",(function(r){var t=r((function(r){Error.call(r),r.stack=(new Error).stack}));return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t})),t._RF.push({},"3ac74LxHLJH/5C25ugHIrC+","createErrorClass",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/createObject.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){e("createObject",(function(e,t){return e.reduce((function(e,c,r){return e[c]=t[r],e}),{})})),t._RF.push({},"8922cqQENJGAYQAGdBIdv9s","createObject",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/creator.ts",["cc","./CreatorAction.ts","./CreatorScheduler.ts"],(function(e){"use strict";var t,r,c;return{setters:[function(e){t=e.cclegacy},function(e){r=e.CreatorAction},function(e){c=e.CreatorScheduler}],execute:function(){t._RF.push({},"67235y0hGJJ74oKmxvZc7x7","creator",void 0);e("sceneScheduler",new c(r)),e("nodeScheduler",(function(e,t,n,o){var u=new c(r);return u.node=e,u.needValid=!0,u.needActive=!0,u.needCache=!1,u}));t._RF.pop()}}}));

System.register("chunks:///_virtual/CreatorAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AsyncAction.ts","./creatorIntervalProvider.ts"],(function(t){"use strict";var n,e,r,o;return{setters:[function(t){n=t.inheritsLoose},function(t){e=t.cclegacy},function(t){r=t.AsyncAction},function(t){o=t.creatorIntervalProvider}],execute:function(){e._RF.push({},"9a491KKwgFJeJtIxfv2kq36","CreatorAction",void 0);t("CreatorAction",function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var r=e.prototype;return r.requestAsyncId=function(t,n,e){return void 0===e&&(e=0),o.setInterval(t.flush.bind(t,this),e,t.node)},r.recycleAsyncId=function(t,n,e){if(void 0===e&&(e=0),null!=e&&this.delay===e&&!1===this.pending)return n;o.clearInterval(n,t.node)},e}(r));e._RF.pop()}}}));

System.register("chunks:///_virtual/creatorIntervalProvider.ts",["cc"],(function(e){"use strict";var r,t;return{setters:[function(e){r=e.cclegacy,t=e.director}],execute:function(){r._RF.push({},"14dadx0AVxPP6CxlCUCttAU","creatorIntervalProvider",void 0);e("creatorIntervalProvider",{setInterval:function(){for(var e=this,r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];var u=n[0],l=n[1],a=n[2],i=n.slice(3),o=function(){return u.apply(e,i)};return t.getScheduler().schedule(o,null!=a?a:t.getScene(),l/1e3),o},clearInterval:function(e,r){t.getScheduler().unschedule(e,null!=r?r:t.getScene())}});r._RF.pop()}}}));

System.register("chunks:///_virtual/CreatorSchedule.ts",["cc","./index.ts","./creator.ts","./timer.ts","./asap.ts","./async.ts","./interval.ts","./startWith.ts","./map.ts"],(function(t){"use strict";var n,e,r,u,c,i,a,o,s,f;return{setters:[function(t){n=t.cclegacy,e=t.game},null,function(t){r=t.sceneScheduler,u=t.nodeScheduler},function(t){c=t.timer},function(t){i=t.asapScheduler},function(t){a=t.asyncScheduler},function(t){o=t.interval},function(t){s=t.startWith},function(t){f=t.map}],execute:function(){function l(t,n){var e=null==n?r:u(n);return o(1e3*t,e)}function p(t,n){return l(t,n).pipe(s(-1),f((function(t){return t+1})))}t({Asap:function(){return c(0,i)},Async:function(){return c(0,a)},EveryFrame:function(){return p(0).pipe(f((function(t){return e.deltaTime})))},Interval:l,IntervalStartNow:p,NextFrame:function(){return c(0,r)},Timer:function(t,n){"number"==typeof t&&(t*=1e3);if(null==n)return c(t,r);return c(t,u(n))}}),n._RF.push({},"63ae4Q9ipVCY4bHaOmRy0qG","CreatorSchedule",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/CreatorScheduler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AsyncScheduler.ts"],(function(e){"use strict";var t,i,n,s;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy,n=e.isValid},function(e){s=e.AsyncScheduler}],execute:function(){i._RF.push({},"53576bTEqtJFJaC8uf5FSCp","CreatorScheduler",void 0);e("CreatorScheduler",function(e){function i(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this).node=null,t.needValid=!1,t.needActive=!1,t.needCache=!1,t.actions=[],t}return t(i,e),i.prototype.flush=function(e){var t=this.actions;if(this._active)t.push(e);else{var i=!0;if(this.needValid&&!n(this.node)&&(i=!1),this.needActive&&n(this.node)&&!this.node.active&&(i=!1),i){var s;this._active=!0;do{if(s=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,s){for(;e=t.shift();)e.unsubscribe();throw s}}else this.needCache&&t.push(e)}},i}(s));i._RF.pop()}}}));

System.register("chunks:///_virtual/Dart.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var r,n,e,o;return{setters:[function(t){r=t.inheritsLoose},function(t){n=t.cclegacy,e=t._decorator,o=t.Component}],execute:function(){var c;n._RF.push({},"01f91C1Ha5L0ajMN6ErFJBN","Dart",void 0);var u=e.ccclass;e.property,t("Dart",u("Dart")(c=function(t){function n(){return t.apply(this,arguments)||this}r(n,t);var e=n.prototype;return e.start=function(){},e.update=function(t){},n}(o))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/DataConfig.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"1d27c7Gmv5P24CQcyOrLx9h","DataConfig",void 0);var a=t("DevConfig",{isEditor:!1,adFakeProcess:!1,get godButton(){return!1},editorGoldCard:1});globalThis.DevConfig=a;var n=t("DataConfig",{language:"en",shareAddStep:5,AdOnceStep:5,infNeedAdCount:3,maxStageCount:100,interstitialWhenLose:3,interstitialWhenWinAfterStage:3,goldCardMax:3});globalThis.DataConfig=n,e._RF.pop()}}}));

System.register("chunks:///_virtual/DataManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataConfig.ts","./BundleAssetsManager.ts","./BaseManager.ts","./XlsxArrayTools.ts","./JsonFromNodeXlsxTools.ts","./UserDataManager.ts","./date.ts","./ByteDanceVideoAdManager.ts","./ByteDanceManager.ts","./map.ts","./RandomChooseTools.ts","./GameManager.ts"],(function(t){"use strict";var e,a,s,r,n,o,u,l,i,c,v,p,m,d,f,h,x,g,C;return{setters:[function(t){e=t.inheritsLoose,a=t.createClass},function(t){s=t.cclegacy,r=t._decorator,n=t.director,o=t.System,u=t.color},function(t){l=t.DataConfig},function(t){i=t.bam},function(t){c=t.BaseManager},function(t){v=t.xlsxArrayToMap},function(t){p=t.jsonObjectTree},function(t){m=t.udm},function(t){d=t.MSResolve},function(t){f=t.bdadm},function(t){h=t.bdm},function(t){x=t.map},function(t){g=t.randomChoose},function(t){C=t.gm}],execute:function(){var w,k;s._RF.push({},"684c8SqStdFsprxU4yCBOaa","DataManager",void 0);var y=r.ccclass,S=(r.property,y("DataManager")(((k=function(t){function s(){for(var e,a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))||this).stages=null,e.xlsx=null,e.remainInfMs=0,e.prewarPropsIdList=[],e.adSkinIds=[],e.luckySkinIDs=[],e.chestSkinIDs=[],e}e(s,t),s.registerSystem=function(){n.unregisterSystem(n.getSystem(s.ID)),n.registerSystem(s.ID,A,o.Priority.MEDIUM),A.init()};var r=s.prototype;return r.onInitManager=function(){this.log("onInitManager",this.timestamp)},r.stageNumberToStageKey=function(t){return"stage_"+(""+t).padStart(3,"0")},r.playerSkinNumToSkinKey=function(t){return"playerSkin-"+(""+t).padStart(3,"0")},r.trailNumToTrailKey=function(t){return"Trail"+(""+t)},r.initStages=function(){for(var t in this.stages={},i.stageJsonAssets){var e=i.stageJsonAssets[t].json;for(var a in e)this.stages[a]=e[a]}},r.initXlsx=function(){var t=this;this.xlsx={};var e=function(e){switch(t.xlsx[e]={},e){case"Level":i.xlsxJsonAssets[e].json.forEach((function(a){var s=a.name,r=a.data;switch(s){case"index":t.xlsx[e][s]=v(r);break;case"main":t.xlsx[e][s]=p(r)}})),l.maxStageCount=t.xlsx.Level.main.totalCount;break;case"PS":i.xlsxJsonAssets[e].json.forEach((function(a){var s=a.name,r=a.data;t.xlsx[e][s]=p(r)}));break;case"Tool":i.xlsxJsonAssets[e].json.forEach((function(a){var s=a.name,r=a.data;t.xlsx[e][s]=v(r)})),t.prewarPropInit();break;case"Skin":i.xlsxJsonAssets[e].json.forEach((function(a){var s=a.name,r=a.data;switch(s){case"index":t.xlsx[e][s]=v(r);break;case"main":t.xlsx[e][s]=p(r)}}));break;case"SkinOrder":i.xlsxJsonAssets[e].json.forEach((function(a){var s=a.name,r=a.data;switch(s){case"order":t.xlsx[e][s]=v(r)}})),t.skinInit();break;case"Group":i.xlsxJsonAssets[e].json.forEach((function(a){var s=a.name,r=a.data;switch(s){case"index":t.xlsx[e][s]=v(r)}})),t.groupInit();break;case"Building":i.xlsxJsonAssets[e].json.forEach((function(a){var s=a.name,r=a.data;switch(s){case"index":t.xlsx[e][s]=v(r)}}));break;case"HomeChest":i.xlsxJsonAssets[e].json.forEach((function(a){var s=a.name,r=a.data;t.xlsx[e][s]=p(r)}));break;case"Reward":case"Item":i.xlsxJsonAssets[e].json.forEach((function(a){var s=a.name,r=a.data;switch(s){case"index":t.xlsx[e][s]=v(r)}}));break;case"Chest":i.xlsxJsonAssets[e].json.forEach((function(a){var s=a.name,r=a.data;switch(s){case"index":t.xlsx[e][s]=v(r)}})),t.initChest();break;case"Task":i.xlsxJsonAssets[e].json.forEach((function(a){var s=a.name,r=a.data;switch(s){case"stage":case"home":case"sign":case"type":t.xlsx[e][s]=v(r)}})),t.initTask()}};for(var a in i.xlsxJsonAssets)e(a)},r.initTask=function(){for(var t in this.xlsx.Task.signLength=Object.keys(this.xlsx.Task.sign).length,this.xlsx.Task.stage){var e=this.xlsx.Task.stage[t];e.Param=e.Param.toString().split(",").map((function(t){return Number(t)}))}for(var a in this.xlsx.Task.taskStageIDList=Object.keys(this.xlsx.Task.stage).map((function(t){return Number(t)})),this.xlsx.Task.home){var s=this.xlsx.Task.home[a];s.Param=s.Param.toString().split(",").map((function(t){return Number(t)}))}this.xlsx.Task.taskHomeIDList=Object.keys(this.xlsx.Task.home).map((function(t){return Number(t)}))},r.getStageInfoByKey=function(t){return this.stages[t]},r.getStageInfoByNumber=function(t){return{stageNum:t,prefabName:this.stageNumberToStageKey(t)}},r.refreshPs=function(){var t=this.xlsx.PS.main,e=m.ps.value,a=new Date,s={};if(e.cur<t.maxCount){var r,n=new Date(null!=(r=e.updAt)?r:0),o=a.valueOf()-n.valueOf();if(o>0){var u=Math.floor(o/1e3/t.recoverInterval);if(u>0&&(e.cur+=u*t.recoverCount,e.cur=Math.min(e.cur,t.maxCount),n.setSeconds(n.getSeconds()+u*t.recoverInterval),e.updAt=n,m.save(),m.ps.again(),o-=u*t.recoverInterval*1e3),e.cur<t.maxCount){o-=1e3;var l=d(1e3*t.recoverInterval-o);s.remain=l}else{var i=d(0);s.remain=i}}}return s},r.decreasePs=function(t,e){void 0===e&&(e=!1);var a=this.xlsx.PS.main,s=m.ps.value;s.cur>=a.maxCount&&(s.updAt=new Date),s.cur-=t,s.cur=Math.max(s.cur,0),e||m.save(),m.ps.again()},r.getPs=function(){return this.refreshPs(),m.ps.value.cur},r.showAdsForInfPs=function(){var t=this,e="get_inf_ps";return null==m.stat.value[e]&&(m.stat.value[e]={start:0,complete:0}),m.stat.value[e].start++,h.report("rewardad_start",{type:e,startC:m.stat.value[e].start,completeC:m.stat.value[e].complete}),f.showAds().pipe(x((function(a){if(a){var s;m.stat.value[e].complete++;var r=t.xlsx.PS.main,n=m.ps.value;n.infAds=(null!=(s=n.infAds)?s:0)+1,n.infAds>=r.infAdsCount&&(n.infAds=0,n.infAt=new Date),m.save(),h.report("rewardad_over",{type:e,success:1,startC:m.stat.value[e].start,completeC:m.stat.value[e].complete})}else h.report("rewardad_over",{type:e,success:0,startC:m.stat.value[e].start,completeC:m.stat.value[e].complete})})))},r.showAdsForAddPs=function(){var t=this,e="add_ps";return null==m.stat.value[e]&&(m.stat.value[e]={start:0,complete:0}),m.stat.value[e].start++,h.report("rewardad_start",{type:e,startC:m.stat.value[e].start,completeC:m.stat.value[e].complete}),f.showAds().pipe(x((function(a){if(a){m.stat.value[e].complete++;var s=t.xlsx.PS.main,r=m.ps.value;r.cur+=t.xlsx.PS.main.adsAddPsCount,r.cur>=s.maxCount&&(r.updAt=new Date,r.cur=Math.min(r.cur,s.maxCount)),m.save(),h.report("rewardad_over",{type:e,success:1,startC:m.stat.value[e].start,completeC:m.stat.value[e].complete})}else h.report("rewardad_over",{type:e,success:0,startC:m.stat.value[e].start,completeC:m.stat.value[e].complete})})))},r.isInfNow=function(){var t=m.ps.value,e=new Date;if(null==t.infAt)return!1;var a=new Date(t.infAt),s=new Date(a);return s.setHours(24*this.xlsx.PS.main.infRefreshAt,0,0,0),s.valueOf()<a.valueOf()&&s.setDate(s.getDate()+1),this.remainInfMs=s.valueOf()-e.valueOf(),this.remainInfMs>=0},r.prewarPropInit=function(){this.prewarPropsIdList=Object.keys(this.xlsx.Tool.main).map((function(t){return Number(t)}))},r.getCurPrewarProp=function(){for(var t=null,e=0;e<this.prewarPropsIdList.length;e++){var a,s,r,n=this.prewarPropsIdList[e],o=null!=(a=null==(s=m.pp.value)||null==(r=s[n])?void 0:r.remain)?a:0;o>0&&(t={ID:n,remain:o})}return t},r.showAdsForPrewarProp=function(t){var e=this,a="get_prewar_prop";return null==m.stat.value[a]&&(m.stat.value[a]={start:0,complete:0}),m.stat.value[a].start++,h.report("rewardad_start",{type:a,startC:m.stat.value[a].start,completeC:m.stat.value[a].complete}),f.showAds().pipe(x((function(s){if(s){m.stat.value[a].complete++;var r=e.xlsx.Tool.main[t],n=m.pp.value[t];return null==n&&(n={ads:0,remain:0},m.pp.value[t]=n),n.ads++,n.ads>=r.Ads&&(n.ads=0,n.remain=r.Dispatch),m.save(),m.pp.again(),h.report("rewardad_over",{type:a,success:1,startC:m.stat.value[a].start,completeC:m.stat.value[a].complete}),!0}return h.report("rewardad_over",{type:a,success:0,startC:m.stat.value[a].start,completeC:m.stat.value[a].complete}),!1})))},r.decreaseProp=function(t){var e=m.pp.value[t];null!=e&&e.remain>0&&(e.remain--,m.save(),m.pp.again())},r.skinInit=function(){for(var t=101;t<110;t++){var e=this.xlsx.SkinOrder.order[t];null!=e&&this.adSkinIds.push(e.SkinID)}for(var a=201;a<210;a++){var s=this.xlsx.SkinOrder.order[a];null!=s&&this.luckySkinIDs.push(s.SkinID)}for(var r=301;r<310;r++){var n=this.xlsx.SkinOrder.order[r];null!=n&&this.chestSkinIDs.push(n.SkinID)}},r.getNextLuckySkin=function(){var t,e=new Set(m.skinGot.value),a=this.luckySkinIDs.filter((function(t){return!e.has(t)}));return this.log("cand",a),a[(null!=(t=m.luckySkinP.value)?t:0)%a.length]},r.showAdsForLuckySkin=function(t){var e="get_lucky_skin";return null==m.stat.value[e]&&(m.stat.value[e]={start:0,complete:0}),m.stat.value[e].start++,h.report("rewardad_start",{type:e,startC:m.stat.value[e].start,completeC:m.stat.value[e].complete}),f.showAds().pipe(x((function(a){return a?(m.stat.value[e].complete++,m.skinGot.value.push(t),m.skinNum.value=t,m.save(),h.report("rewardad_over",{type:e,success:1,startC:m.stat.value[e].start,completeC:m.stat.value[e].complete}),!0):(h.report("rewardad_over",{type:e,success:0,startC:m.stat.value[e].start,completeC:m.stat.value[e].complete}),!1)})))},r.getAdSkinRandom=function(){var t=new Set(m.skinGot.value),e=this.adSkinIds.filter((function(e){return!t.has(e)}));return this.log("cand",e),g(e)},r.showAdsForAdSkin=function(t){var e="get_ad_skin";return null==m.stat.value[e]&&(m.stat.value[e]={start:0,complete:0}),m.stat.value[e].start++,h.report("rewardad_start",{type:e,startC:m.stat.value[e].start,completeC:m.stat.value[e].complete}),f.showAds().pipe(x((function(a){return a?(m.stat.value[e].complete++,m.skinGot.value.push(t),m.skinNum.value=t,m.save(),h.report("rewardad_over",{type:e,success:1,startC:m.stat.value[e].start,completeC:m.stat.value[e].complete}),!0):(h.report("rewardad_over",{type:e,success:0,startC:m.stat.value[e].start,completeC:m.stat.value[e].complete}),!1)})))},r.groupInit=function(){var t=0;Object.values(this.xlsx.Group.index).forEach((function(e){e._stageCount=e.ToStageNum-t,e._FromStageNum=t+1,t=e.ToStageNum}))},r.getGroupByStageNum=function(t){return Object.values(this.xlsx.Group.index).find((function(e){return t>=e._FromStageNum&&t<=e.ToStageNum}))},r.showAdsForBuilding=function(t){var e="unlock_building";return null==m.stat.value[e]&&(m.stat.value[e]={start:0,complete:0}),m.stat.value[e].start++,h.report("rewardad_start",{type:e,startC:m.stat.value[e].start,completeC:m.stat.value[e].complete}),f.showAds().pipe(x((function(a){return a?(m.stat.value[e].complete++,null==m.building.value[t]&&(m.building.value[t]={cost:0,got:0}),m.building.value[t].got=1,m.building.again(),m.save(),h.report("rewardad_over",{type:e,success:1,startC:m.stat.value[e].start,completeC:m.stat.value[e].complete})):h.report("rewardad_over",{type:e,success:0,startC:m.stat.value[e].start,completeC:m.stat.value[e].complete}),a})))},r.refreshHomeChest=function(){var t={changed:!1,addList:[]},e=new Date,a=A.xlsx.HomeChest.main,s=a.ttl,r=m.homeChest.value.list.length,n=m.homeChest.value.list.filter((function(t){var a=new Date(t.startAt);return e.valueOf()<a.valueOf()+1e3*s}));r<n.length&&(t.changed=!0),r>=a.maxCount&&n.length<a.maxCount&&(m.homeChest.value.updAt=new Date,t.changed=!0);for(var o=new Date(m.homeChest.value.updAt);n.length<a.maxCount&&e.valueOf()>o.valueOf()+1e3*a.frequency;){var u={id:Math.floor(1e5*Math.random()),startAt:new Date};t.addList.push(u),n.push(u),o=new Date(o.valueOf()+1e3*a.frequency),t.changed=!0}return n.length>=a.maxCount&&(o=new Date),m.homeChest.value.updAt=o,m.homeChest.value.list=n,t.changed&&(m.homeChest.again(),m.save()),t},r.showAdsForHomeChest=function(t){var e="get_home_chest";return null==m.stat.value[e]&&(m.stat.value[e]={start:0,complete:0}),m.stat.value[e].start++,h.report("rewardad_start",{type:e,startC:m.stat.value[e].start,completeC:m.stat.value[e].complete}),f.showAds().pipe(x((function(a){return a?(m.stat.value[e].complete++,C.claimHomeChestIDCommand.execute({ID:t}),m.homeChest.value.list=m.homeChest.value.list.filter((function(e){return e.id!=t})),m.homeChest.again(),m.coin.value+=A.xlsx.HomeChest.main.coin,m.save(),h.report("rewardad_over",{type:e,success:1,startC:m.stat.value[e].start,completeC:m.stat.value[e].complete})):h.report("rewardad_over",{type:e,success:0,startC:m.stat.value[e].start,completeC:m.stat.value[e].complete}),a})))},r.showAdsForMultiReward=function(t){var e="get_multi_reward";return null==m.stat.value[e]&&(m.stat.value[e]={start:0,complete:0}),m.stat.value[e].start++,h.report("rewardad_start",{type:e,startC:m.stat.value[e].start,completeC:m.stat.value[e].complete}),f.showAds().pipe(x((function(a){return a?(m.stat.value[e].complete++,m.coin.value+=t,m.save(),h.report("rewardad_over",{type:e,success:1,startC:m.stat.value[e].start,completeC:m.stat.value[e].complete})):h.report("rewardad_over",{type:e,success:0,startC:m.stat.value[e].start,completeC:m.stat.value[e].complete}),a})))},r.initChest=function(){for(var t in this.xlsx.Chest.index){var e=this.xlsx.Chest.index[t];e.G1=e.G1.split(",").map((function(t){return Number(t)})),e.G2=e.G2.split(",").map((function(t){return Number(t)})),e.G3=e.G3.split(",").map((function(t){return Number(t)}))}},r.showAdsForExtraGoldCard=function(){var t="extra_gold_card";return null==m.stat.value[t]&&(m.stat.value[t]={start:0,complete:0}),m.stat.value[t].start++,h.report("rewardad_start",{type:t,startC:m.stat.value[t].start,completeC:m.stat.value[t].complete}),f.showAds().pipe(x((function(e){return e?(m.stat.value[t].complete++,m.goldCard.value=3,m.save(),h.report("rewardad_over",{type:t,success:1,startC:m.stat.value[t].start,completeC:m.stat.value[t].complete})):h.report("rewardad_over",{type:t,success:0,startC:m.stat.value[t].start,completeC:m.stat.value[t].complete}),e})))},r.distributeReward=function(t,e){void 0===e&&(e=!1);var a=A.xlsx.Reward.index[t],s=A.xlsx.Item.index[a.ItemID];if(0==s.Type)m.coin.value+=a.Num,!e&&m.save();else if(1==s.Type)m.ps.value.cur+=a.Num,m.ps.again(),!e&&m.save();else if(2==s.Type){var r=new Set(m.skinGot.value);r.add(s.SkinID),m.skinGot.value=Array.from(r),!e&&m.save()}},r.isSignRowActivated=function(t){var e,a=!1,s=!1,r=null==(e=m.sign.value)?void 0:e.startAt;if(null!=r){var n=new Date;(r=new Date(r)).setHours(24*t,0,0,0),a=n.valueOf()>r.valueOf(),r.setHours(24,0,0,0),s=a&&n.valueOf()<r.valueOf()}return{activated:a,today:s}},r.showAdsForTaskResign=function(t){var e=this,a="task_resign";return null==m.stat.value[a]&&(m.stat.value[a]={start:0,complete:0}),m.stat.value[a].start++,h.report("rewardad_start",{type:a,startC:m.stat.value[a].start,completeC:m.stat.value[a].complete}),f.showAds().pipe(x((function(s){return s?(m.stat.value[a].complete++,e.claimTaskSign(t),h.report("rewardad_over",{type:a,success:1,startC:m.stat.value[a].start,completeC:m.stat.value[a].complete})):h.report("rewardad_over",{type:a,success:0,startC:m.stat.value[a].start,completeC:m.stat.value[a].complete}),s})))},r.claimTaskSign=function(t){var e=A.xlsx.Task.sign[t];this.distributeReward(e.RewardID,!0),null==m.sign.value.got&&(m.sign.value.got=[]),m.sign.value.got.push(t),m.sign.again(),m.save()},r.isTaskStageCompleted=function(t){var e=!1,a=A.xlsx.Task.stage[t];return 0==a.TypeID&&(e=m.maxStage.value>=a.Param[0]),{finished:e,completed:m.taskStageGotSet.value.has(t)}},r.claimTaskStage=function(t){var e=A.xlsx.Task.stage[t];this.distributeReward(e.RewardID,!0),null==m.taskStage.value.got&&(m.taskStage.value.got=[]),m.taskStage.value.got.push(t),m.taskStage.again(),m.save()},r.isTaskHomeCompleted=function(t){var e=!1,a=A.xlsx.Task.home[t];return 1==a.TypeID&&(e=m.buildingGotSet.value.size>=a.Param[0]),{finished:e,completed:m.taskHomeGotSet.value.has(t)}},r.claimTaskHome=function(t){var e=A.xlsx.Task.home[t];this.distributeReward(e.RewardID,!0),null==m.taskHome.value.got&&(m.taskHome.value.got=[]),m.taskHome.value.got.push(t),m.taskHome.again(),m.save()},a(s,[{key:"logColorOverride",get:function(){return u().fromHEX("#EEDDCC")}}]),s}(c)).instance=void 0,k.ID="data_system",w=k))||w);globalThis.DataManager=S;var A=t("dm",S.instance=new S);s._RF.pop()}}}));

System.register("chunks:///_virtual/DataModel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReactiveCommand.ts","./ReactiveProperty.ts"],(function(t){"use strict";var e,o,r,n,a;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,r=t._decorator},function(t){n=t.ReactiveCommand},function(t){a=t.ReactiveProperty}],execute:function(){var i,s,c;t("BlockStatus",void 0),o._RF.push({},"5181bT1E81D5ouaHIYj1c6y","DataModel",void 0);var l,u=r.ccclass,p=(r.property,t("BaseDataModel",function(){function t(){this.destroyCommand=n.Create()}return t.prototype.reset=function(t){t&&t.withDestroy&&this.destroyCommand.execute()},t}()));t("Map",u(i=function(){function t(){this.floors=[],this.blocks={}}return t.prototype.reset=function(t){for(var e=0;e<this.floors.length;e++){this.floors[e].reset(t)}for(var o in this.floors=[],this.blocks){this.blocks[o].reset(t)}this.floors=[],this.blocks={}},t}())||i),t("Floor",u(s=function(t){function o(){for(var e,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this).idx=a.Create(null),e.aim=a.Create(!1),e.occupy=a.Create(!1),e.blockKey=a.Create(null),e}return e(o,t),o}(p))||s);!function(t){t[t.Standby=0]="Standby",t[t.Moving=1]="Moving",t[t.Rotating=2]="Rotating",t[t.Dropping=3]="Dropping",t[t.Dropped=4]="Dropped"}(l||(l=t("BlockStatus",{})));t("Block",u(c=function(t){function o(){for(var e,o=arguments.length,r=new Array(o),n=0;n<o;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this).idx=a.Create(null),e.key=a.Create(null),e.dir=a.Create(0),e.status=a.Create(l.Standby),e.blockIdx=a.Create(null),e}return e(o,t),o}(p))||c);o._RF.pop()}}}));

System.register("chunks:///_virtual/date.ts",["cc"],(function(t){"use strict";var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){t({MSRToString_th_m_s:function(t){return t.th.toString().padStart(2,"0")+":"+t.m.toString().padStart(2,"0")+":"+t.s.toString().padStart(2,"0")},MSRToString_tm_s:function(t){return t.tm.toString().padStart(2,"0")+":"+t.s.toString().padStart(2,"0")},MSResolve:function(t){var r=Math.sign(t),n=t%1e3,e=Math.floor(t/1e3),a=e%60,o=Math.floor(e/60),i=o%60,s=Math.floor(o/60),u=s%24,g=Math.floor(s/24);return{sign:r,td:g,th:s,tm:o,ts:e,tms:t,h:u,m:i,s:a,ms:n}},isSameDay:function(t,r){return null!=t&&null!=r&&(t.getFullYear()==r.getFullYear()&&t.getMonth()==r.getMonth()&&t.getDate()==r.getDate())}}),r._RF.push({},"754cajwky9GkqQZKITb0QI0","date",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/dateTimestampProvider.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"2c7c72aDjJE/q82ZB6va7CR","dateTimestampProvider",void 0);var r=e("dateTimestampProvider",{now:function(){return(r.delegate||Date).now()},delegate:void 0});t._RF.pop()}}}));

System.register("chunks:///_virtual/debounce.ts",["cc","./lift.ts","./noop.ts","./OperatorSubscriber.ts","./innerFrom.ts"],(function(n){"use strict";var u,e,t,c,r;return{setters:[function(n){u=n.cclegacy},function(n){e=n.operate},function(n){t=n.noop},function(n){c=n.createOperatorSubscriber},function(n){r=n.innerFrom}],execute:function(){n("debounce",(function(n){return e((function(u,e){var o=!1,i=null,s=null,l=function(){var n;if(null==(n=s)||n.unsubscribe(),s=null,o){o=!1;var u=i;i=null,e.next(u)}};u.subscribe(c(e,(function(u){var b;null==(b=s)||b.unsubscribe(),o=!0,i=u,s=c(e,l,t),r(n(u)).subscribe(s)}),(function(){l(),e.complete()}),void 0,(function(){i=s=null})))}))})),u._RF.push({},"c2aa24b20lMHbkXfAWKmMlE","debounce",void 0),u._RF.pop()}}}));

System.register("chunks:///_virtual/debounceTime.ts",["cc","./async.ts","./lift.ts","./OperatorSubscriber.ts"],(function(n){"use strict";var e,u,t,c;return{setters:[function(n){e=n.cclegacy},function(n){u=n.asyncScheduler},function(n){t=n.operate},function(n){c=n.createOperatorSubscriber}],execute:function(){n("debounceTime",(function(n,e){void 0===e&&(e=u);return t((function(u,t){var i=null,r=null,o=null,s=function(){if(i){i.unsubscribe(),i=null;var n=r;r=null,t.next(n)}};function l(){var u=o+n,c=e.now();if(c<u)return i=this.schedule(void 0,u-c),void t.add(i);s()}u.subscribe(c(t,(function(u){r=u,o=e.now(),i||(i=e.schedule(l,n),t.add(i))}),(function(){s(),t.complete()}),void 0,(function(){r=i=null})))}))})),e._RF.push({},"b3308hBfTxPn6YLi2XSrRfb","debounceTime",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/defaultIfEmpty.ts",["cc","./lift.ts","./OperatorSubscriber.ts"],(function(t){"use strict";var e,n,c;return{setters:[function(t){e=t.cclegacy},function(t){n=t.operate},function(t){c=t.createOperatorSubscriber}],execute:function(){t("defaultIfEmpty",(function(t){return n((function(e,n){var r=!1;e.subscribe(c(n,(function(t){r=!0,n.next(t)}),(function(){r||n.next(t),n.complete()})))}))})),e._RF.push({},"1b2cfqiHilHHYsYbUvFnPfm","defaultIfEmpty",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/defer.ts",["cc","./Observable2.ts","./innerFrom.ts"],(function(e){"use strict";var n,t,r;return{setters:[function(e){n=e.cclegacy},function(e){t=e.Observable},function(e){r=e.innerFrom}],execute:function(){e("defer",(function(e){return new t((function(n){r(e()).subscribe(n)}))})),n._RF.push({},"fcec9jtGDBJDI3Eul6s87hp","defer",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/delay.ts",["cc","./async.ts","./delayWhen.ts","./timer.ts"],(function(t){"use strict";var e,n,c,u;return{setters:[function(t){e=t.cclegacy},function(t){n=t.asyncScheduler},function(t){c=t.delayWhen},function(t){u=t.timer}],execute:function(){t("delay",(function(t,e){void 0===e&&(e=n);var r=u(t,e);return c((function(){return r}))})),e._RF.push({},"d1b00xAO1JDPaTJHSWQyfMz","delay",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/delayWhen.ts",["cc","./concat2.ts","./take.ts","./ignoreElements.ts","./mapTo.ts","./mergeMap.ts"],(function(e){"use strict";var n,t,c,i,u,r;return{setters:[function(e){n=e.cclegacy},function(e){t=e.concat},function(e){c=e.take},function(e){i=e.ignoreElements},function(e){u=e.mapTo},function(e){r=e.mergeMap}],execute:function(){e("delayWhen",(function e(n,o){if(o)return function(u){return t(o.pipe(c(1),i()),u.pipe(e(n)))};return r((function(e,t){return n(e,t).pipe(c(1),u(e))}))})),n._RF.push({},"9b531kpm0xCyqvSleW1qQql","delayWhen",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/dematerialize.ts",["cc","./Notification.ts","./lift.ts","./OperatorSubscriber.ts"],(function(t){"use strict";var e,i,r,n;return{setters:[function(t){e=t.cclegacy},function(t){i=t.observeNotification},function(t){r=t.operate},function(t){n=t.createOperatorSubscriber}],execute:function(){t("dematerialize",(function(){return r((function(t,e){t.subscribe(n(e,(function(t){return i(t,e)})))}))})),e._RF.push({},"b868aasU3NN/puyKGQJg5gA","dematerialize",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/DetectorEx.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConfig.ts","./Enemy.ts","./Player.ts","./BaseView.ts","./CreatorSchedule.ts","./GameManager.ts","./Enums.ts"],(function(e){"use strict";var t,i,n,s,r,o,a,l,h,u,c,d,m,y,f,g,R,p,v,E,_,P,C,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized,r=e.createClass},function(e){o=e.cclegacy,a=e._decorator,l=e.v3,h=e.Camera,u=e.Node,c=e.MeshRenderer,d=e.color,m=e.geometry,y=e.Vec3,f=e.Color,g=e.PhysicsSystem,R=e.utils},function(e){p=e.GameConfig},function(e){v=e.Enemy},function(e){E=e.Player},function(e){_=e.BaseView},function(e){P=e.IntervalStartNow},function(e){C=e.gm},function(e){b=e.GameStatus}],execute:function(){var w,x,L,M,z,O,D,S,I,Z,B;o._RF.push({},"35b34JZxmVLzJgyKSMGycCg","DetectorEx",void 0);var k=a.ccclass,A=a.property,G=a.executeInEditMode,N=l(),T=l();e("DetectorEx",(w=k("DetectorEx"),x=G(!0),L=A(h),M=A(u),z=A(c),w(O=x((S=t((D=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"isBedEnemy",S,s(t)),n(t,"mainCamera",I,s(t)),n(t,"enemyRoot",Z,s(t)),n(t,"meshRender",B,s(t)),t._rad=2*Math.PI/3,t._rayCount=9,t._rays=null,t._radius=1.5,t._mask=0,t._c0=d(255,0,0,50),t._c1=d(255,0,0,220),t}i(t,e);var o=t.prototype;return o.resetInEditor=function(){this.meshRender=this.getComponent(c),this.refreshRay()},o.willBind=function(){this.meshRender=this.getComponent(c),this._mask=p.masks.PLAYER|p.masks.WALL|p.masks.DOOR|p.masks.WALL2,this.refreshRay()},o.useObserves=function(){var e=this;return[P(.2,this.node).subscribe((function(t){e.refreshRay()}))]},o.refreshRay=function(){var e,t,i,n,s;if(null==this._rays){this._rays=[],this.node.getWorldPosition(N);for(var r=0;r<this._rayCount;r++){var o=new m.Ray(N.x,N.y,N.z);this._rays.push(o)}}N.set(this.node.right),null==(e=this.gr)||e.addLine(y.ZERO,y.UNIT_X,f.RED),null==(t=this.gr)||t.addLine(y.ZERO,y.UNIT_Y,f.GREEN),null==(i=this.gr)||i.addLine(y.ZERO,y.UNIT_Z,f.BLUE),null==(n=this.gr)||n.addLine(this.node.worldPosition,N.set(0,1,0).add(this.node.worldPosition),f.WHITE),null==(s=this.gr)||s.addLine(this.node.worldPosition,N.set(this.node.worldPosition).add(this.node.right),f.GRAY),y.rotateY(N,N,y.ZERO,(Math.PI-this._rad)/2);var a=this._rad/(this._rayCount-1),h=[];this.node.getWorldPosition(T);for(var u=0;u<this._rayCount;u++){var c,d=this._rays[u];if(d.o.x=this.node.worldPosition.x,d.o.y=this.node.worldPosition.y+.5,d.o.z=this.node.worldPosition.z,d.d.x=N.x,d.d.y=N.y,d.d.z=N.z,g.instance.raycastClosest(d,this._mask,this._radius)&&!this.isBedEnemy){var R=g.instance.raycastClosestResult;if(T.set(R.hitPoint),C.gameStatus.value!=b.StartPause){var p=R.collider.getComponent(E);if(p){if(p.invisableEffect.value)return;if(p.touchBedEnemy)return;this.log("@catch player!!"),p.isDead.value||(p.isDead.value=!0,this.enemyRoot.getComponent(v)._rigidBody.isStatic=!0)}}}else d.computeHit(T,this._radius);null==(c=this.gr)||c.addLine(d.o,T,f.YELLOW),this.node.inverseTransformPoint(T,T),T.y=0,h.push(l(T)),y.rotateY(N,N,y.ZERO,a)}this.refreshMesh(y.ZERO,h)},o.setPosition=function(e,t,i){i[t]=e.x,i[t+1]=e.y,i[t+2]=e.z},o.setColors=function(e,t,i){i[t]=e.r/255,i[t+1]=e.g/255,i[t+2]=e.b/255,i[t+3]=e.a/255},o.refreshMesh=function(e,t){var i={maxSubMeshes:1,maxSubMeshVertices:t.length+1,maxSubMeshIndices:3*(t.length-1)},n=new Float32Array(3*(t.length+1)),s=new Float32Array(4*(t.length+1)),r=new Uint32Array(3*(t.length-1)),o=l(1/0,1/0,1/0),a=l(-1/0,-1/0,-1/0);this.setPosition(y.ZERO,0,n),this.setColors(this._c0,0,s),y.min(o,o,y.ZERO),y.max(a,a,y.ZERO);for(var h=0;h<t.length;h++)N.set(t[h]),this.setPosition(N,3*(h+1),n),this.setColors(this._c1,4*(h+1),s),y.min(o,o,N),y.max(a,a,N);for(var u=0,c=0;c<t.length-1;c++)r[u]=0,r[++u]=c+1,r[++u]=c+1+1,u++;var d={positions:n,minPos:o,maxPos:a,colors:s,indices32:r},m=R.MeshUtils.createDynamicMesh(0,d,this.meshRender.mesh,i);this.meshRender.mesh=m,this.meshRender.onGeometryChanged()},r(t,[{key:"gr",get:function(){var e,t;return null==(e=this.mainCamera)||null==(t=e.camera)?void 0:t.geometryRenderer}}]),t}(_)).prototype,"isBedEnemy",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),I=t(D.prototype,"mainCamera",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=t(D.prototype,"enemyRoot",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(D.prototype,"meshRender",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=D))||O)||O));o._RF.pop()}}}));

System.register("chunks:///_virtual/dev.ts",["cc","./GameManager.ts","./UserDataManager.ts"],(function(){"use strict";var e,t,a,o;return{setters:[function(a){e=a.cclegacy,t=a.sys},function(e){a=e.gm},function(e){o=e.udm}],execute:function(){e._RF.push({},"0b726Q3+dFF/ZZMQWDeZGXc","dev",void 0),globalThis.dev={save:function(e){void 0===e&&(e="1");var s=t.localStorage.getItem(o.localstorageKey);t.localStorage.setItem("profile"+e,s),a.frontTipShow("已保存:"+e).subscribe()},load:function(e){void 0===e&&(e="1");var s=t.localStorage.getItem("profile"+e);t.localStorage.setItem(o.localstorageKey,s),a.frontTipShow("已读取:"+e+" 请重启").subscribe()},stagelock:function(){o.curStage.value=1,o.save()},stageset:function(e){o.curStage.value=e,o.save()},resetps:function(){o.ps.value={},o.save()},resetpp:function(){o.pp.value={},o.save()},win:function(){a.gameRoot3D.player.isComplete.value=!0},lose:function(){a.gameRoot3D.player.isDead.value=!0},homeclear:function(){o.building.value={},o.save()}},e._RF.pop()}}}));

System.register("chunks:///_virtual/distinct.ts",["cc","./lift.ts","./OperatorSubscriber.ts","./noop.ts"],(function(t){"use strict";var n,c,r,e;return{setters:[function(t){n=t.cclegacy},function(t){c=t.operate},function(t){r=t.createOperatorSubscriber},function(t){e=t.noop}],execute:function(){t("distinct",(function(t,n){return c((function(c,i){var u=new Set;c.subscribe(r(i,(function(n){var c=t?t(n):n;u.has(c)||(u.add(c),i.next(n))}))),null==n||n.subscribe(r(i,(function(){return u.clear()}),e))}))})),n._RF.push({},"9930cEaO1hDoqGrtNm4GgFB","distinct",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/distinctUntilChanged.ts",["cc","./identity.ts","./lift.ts","./OperatorSubscriber.ts"],(function(t){"use strict";var n,i,e,r;return{setters:[function(t){n=t.cclegacy},function(t){i=t.identity},function(t){e=t.operate},function(t){r=t.createOperatorSubscriber}],execute:function(){function c(t,n){return t===n}t("distinctUntilChanged",(function(t,n){var u;void 0===n&&(n=i);return t=null!=(u=t)?u:c,e((function(i,e){var c,u=!0;i.subscribe(r(e,(function(i){var r=n(i);!u&&t(c,r)||(u=!1,c=r,e.next(i))})))}))})),n._RF.push({},"7d13e0kN49A94UAEQIy48CZ","distinctUntilChanged",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/distinctUntilKeyChanged.ts",["cc","./distinctUntilChanged.ts"],(function(t){"use strict";var n,i;return{setters:[function(t){n=t.cclegacy},function(t){i=t.distinctUntilChanged}],execute:function(){t("distinctUntilKeyChanged",(function(t,n){return i((function(i,e){return n?n(i[t],e[t]):i[t]===e[t]}))})),n._RF.push({},"f098diZEKxNmqlo/GXBROVu","distinctUntilKeyChanged",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/Door.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameConfig.ts","./BaseView.ts","./math.ts"],(function(o){"use strict";var t,i,r,n,e,s,a,c,u,l;return{setters:[function(o){t=o.inheritsLoose},function(o){i=o.cclegacy,r=o._decorator,n=o.quat,e=o.v3,s=o.RigidBody,a=o.Quat},function(o){c=o.GameConfig},function(o){u=o.BaseView},function(o){l=o.linearClamp}],execute:function(){var d;i._RF.push({},"326dcGWuNRAsLOz4vnU/coa","Door",void 0);var p=r.ccclass,g=(r.property,n()),h=n(),f=n(),y=e();o("Door",p("Door")(d=function(o){function i(){for(var t,i=arguments.length,r=new Array(i),e=0;e<i;e++)r[e]=arguments[e];return(t=o.call.apply(o,[this].concat(r))||this)._rigidbody=null,t._oriRot=n(),t}t(i,o);var r=i.prototype;return r.willBind=function(){this._rigidbody=this.getComponent(s),this.node.getWorldRotation(this._oriRot),a.normalize(this._oriRot,this._oriRot)},r.update=function(o){this.node.getWorldRotation(g),a.conjugate(h,this._oriRot),a.multiply(f,g,h),f.getEulerAngles(y);var t=l(-60,60,c.DoorForce,-c.DoorForce,y.y);this._rigidbody.applyLocalTorque(e(0,t,0))},i}(u))||d);i._RF.pop()}}}));

System.register("chunks:///_virtual/Dozer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts","./math.ts","./TweenStart.ts","./index.ts","./BindCollider.ts","./Enums.ts","./GameManager.ts","./Npc.ts","./concat2.ts"],(function(e){"use strict";var t,r,s,i,n,o,l,u,p,c,h,a,g,d,f,_,y,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,s=e.initializerDefineProperty,i=e.assertThisInitialized,n=e.createClass},function(e){o=e.cclegacy,l=e._decorator,u=e.v3,p=e.find,c=e.Collider},function(e){h=e.BaseView},function(e){a=e.linearClamp},function(e){g=e.TweenToStart},null,function(e){d=e.BindColliderCollision},function(e){f=e.GameStatus},function(e){_=e.gm},function(e){y=e.Npc},function(e){m=e.concat}],execute:function(){var b,x,v,L,w,C;o._RF.push({},"55910/jSbNNWI8ETbIgxLur","Dozer",void 0);var D=l.ccclass,z=l.property,S=l.executeInEditMode,B=u();e("Dozer",(b=D("Dozer"),x=z({slide:!0,range:[0,1,.01]}),b(v=S((w=t((L=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,s(t,"_maxLength",w,i(t)),s(t,"_speed",C,i(t)),t._progress=0,t._pusher=null,t._colliders=null,t._head=null,t._trigger_sub=null,t}r(t,e);var o=t.prototype;return o.willBind=function(){this.refresh()},o.refresh=function(){null==this._pusher&&(this._pusher=p("pusher",this.node)),null==this._colliders&&(this._colliders=this._pusher.getComponentsInChildren(c)),null==this._head&&(this._head=p("head",this.node)),this._pusher.getScale(B),B.x=a(0,1,.06,this.maxLength,this.progress),this._pusher.setScale(B);var e=a(0,1,0,this.maxLength-.06,this.progress);this._head.setX(e),this._colliders.forEach((function(e){e.node.setRotationFromEuler(u(0,0,0))}))},o.triggered=function(){var e=this;null==this._trigger_sub&&(this._trigger_sub=m(g(this,this.maxLength/this.speed,{progress:1}),g(this,this.maxLength/this.speed,{progress:0})).subscribe({complete:function(){e._trigger_sub=null}}))},o.start=function(){this.getMainSubscription().add(d(this._colliders[0]).subscribe((function(e){if([f.Playing,f.Win].includes(_.gameStatus.value)&&"onCollisionEnter"==e.event.type){var t=e.event.otherCollider.getComponent(y);null!=t&&t.intoDizz()}})))},n(t,[{key:"maxLength",get:function(){return this._maxLength},set:function(e){this._maxLength=e,this.refresh()}},{key:"speed",get:function(){return this._speed},set:function(e){this._speed=e}},{key:"progress",get:function(){return this._progress},set:function(e){this._progress=e,this.refresh()}}]),t}(h)).prototype,"_maxLength",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),t(L.prototype,"maxLength",[z],Object.getOwnPropertyDescriptor(L.prototype,"maxLength"),L.prototype),C=t(L.prototype,"_speed",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 10}}),t(L.prototype,"speed",[z],Object.getOwnPropertyDescriptor(L.prototype,"speed"),L.prototype),t(L.prototype,"progress",[x],Object.getOwnPropertyDescriptor(L.prototype,"progress"),L.prototype),v=L))||v)||v));o._RF.pop()}}}));

System.register("chunks:///_virtual/EditorClientManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataConfig.ts","./ReactiveProperty.ts","./BaseManager.ts","./fetch.ts","./index.ts","./Observable2.ts","./lastValueFrom.ts"],(function(e){"use strict";var t,r,n,a,s,o,i,c,u,l,g,f,h,v,p;return{setters:[function(e){t=e.inheritsLoose,r=e.createClass,n=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,o=e._decorator,i=e.director,c=e.System,u=e.color},function(e){l=e.DevConfig},function(e){g=e.ReactiveProperty},function(e){f=e.BaseManager},function(e){h=e.fromFetch},null,function(e){v=e.Observable},function(e){p=e.lastValueFrom}],execute:function(){var d,m;s._RF.push({},"4a9c2noFD9BrbEy8XXkVa67","EditorClientManager",void 0);var y=o.ccclass,S=(o.property,"http://localhost:3000"),b=y("EditorClientManager")(((m=function(e){function s(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).checkPassed=g.Create(!1),t}t(s,e),s.registerSystem=function(){i.unregisterSystem(i.getSystem(s.ID)),i.registerSystem(s.ID,k,c.Priority.MEDIUM),k.init()};var o=s.prototype;return o.onInitManager=function(){this.log("onInitManager",this.timestamp),this.checkServer()},o.checkServer=function(){var e=n(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!l.isDev){e.next=12;break}return e.prev=1,e.next=4,p(this.setStage({stageNum:0,hi:100}));case 4:return e.next=6,p(this.getStage(0));case 6:e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),this.warn("checkServer",e.t0),this.warn("请检查服务端是否开启,详见:EditorServer/readme.md");case 12:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),o.getStage=function(e){var t=this;return new v((function(r){h(S+"/stage/"+e,{selector:function(e){return e.json()}}).subscribe({next:function(e){t.log("getStage:",e),t.checkPassed.value=!0,r.next(e),r.complete()},error:function(e){t.warn("getStage:",e),t.checkPassed.value=!1,r.error(e)}})}))},o.setStage=function(e){var t=this;return new v((function(r){h(S+"/stage",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"},selector:function(e){return e.json()}}).subscribe({next:function(e){t.log("setStage:",e),t.checkPassed.value=!0,r.next(e),r.complete()},error:function(e){t.warn("setStage:",e),t.checkPassed.value=!1,r.error(e)}})}))},r(s,[{key:"logColorOverride",get:function(){return u().fromHEX("#CCEEDD")}}]),s}(f)).instance=void 0,m.ID="editor_client_system",d=m))||d;globalThis.EditorClientManager=b;var k=e("ecm",b.instance=new b);s._RF.pop()}}}));

System.register("chunks:///_virtual/EditorGrid.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Visualization.ts"],(function(t){"use strict";var i,r,e,n,o,s,u,c,a,p,l;return{setters:[function(t){i=t.applyDecoratedDescriptor,r=t.inheritsLoose,e=t.initializerDefineProperty,n=t.assertThisInitialized,o=t.createClass},function(t){s=t.cclegacy,u=t._decorator,c=t.v3,a=t.utils,p=t.Vec3},function(t){l=t.Visualization}],execute:function(){var h,f,d;s._RF.push({},"fc3c6fzY/9ByJ1EM4VAOnTh","EditorGrid",void 0);var y=u.ccclass,v=u.property,g=u.executeInEditMode;t("EditorGrid",y("EditorGrid")(h=g((d=i((f=function(t){function i(){for(var i,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return i=t.call.apply(t,[this].concat(o))||this,e(i,"_unit",d,n(i)),i}return r(i,t),i.prototype._updateMesh=function(t){var i=[],r=[],e=[.1,.1,.1,1],n=[.6,.4,.4,1],o=[.7,.7,.7,1];function s(t,e,n){t&&e&&(p.toArray(i,t,i.length),p.toArray(i,e,i.length),r.push(n[0],n[1],n[2],n[3]),r.push(n[0],n[1],n[2],n[3]))}for(var u=-37;u<=37;u++){var l=u%10==0?e:u%5==0?n:o;s(c(u*this.unit,2,-7),c(u*this.unit,2,7),l)}for(var h=-54;h<=54;h++){var f=h%10==0?e:h%5==0?n:o;s(c(-5,2,h*this.unit),c(5,2,h*this.unit),f)}return a.MeshUtils.createMesh({positions:i,colors:r},t)},o(i,[{key:"unit",get:function(){return this._unit},set:function(t){this._unit=t,this._modelChanged=!0}}]),i}(l)).prototype,"_unit",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.1}}),i(f.prototype,"unit",[v],Object.getOwnPropertyDescriptor(f.prototype,"unit"),f.prototype),h=f))||h)||h);s._RF.pop()}}}));

System.register("chunks:///_virtual/Effect3_4.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"17083IxS2xLXotBuoqqA0ZE","Effect3_4",void 0);e("Effect3_4",{name:"../cinestation/examples/art/Shaders/View",techniques:[{name:"transparent",passes:[{blendState:{targets:[{blend:!0,blendSrc:2,blendDst:4,blendSrcAlpha:2,blendDstAlpha:4}]},program:"../cinestation/examples/art/Shaders/View|view-vs:vert|view-fs:frag",properties:{lookatPoint:{value:[.5,.5],type:14},deadZoneWidth:{value:[.1],type:13,handleInfo:["viewParams",0,13]},deadZoneHeight:{value:[.1],type:13,handleInfo:["viewParams",1,13]},softZoneWidth:{value:[.8],type:13,handleInfo:["viewParams",2,13]},softZoneHeight:{value:[.8],type:13,handleInfo:["viewParams",3,13]},viewParams:{type:16,editor:{visible:!1,deprecated:!0},value:[0,0,.8,.8]}}}]}],shaders:[{blocks:[{name:"Constant",members:[{name:"viewParams",type:16,count:1},{name:"lookatPoint",type:14,count:1}],defines:[],stageFlags:16,binding:0}],samplerTextures:[],samplers:[],textures:[],buffers:[],images:[],subpassInputs:[],attributes:[{name:"a_position",defines:[],format:32,location:0},{name:"a_normal",defines:[],format:32,location:1},{name:"a_texCoord",defines:[],format:21,location:2},{name:"a_tangent",defines:[],format:44,location:3},{name:"a_vertexId",defines:["CC_USE_MORPH"],format:11,location:6},{name:"a_joints",defines:["CC_USE_SKINNING"],location:4},{name:"a_weights",defines:["CC_USE_SKINNING"],format:44,location:5},{name:"a_jointAnimInfo",defines:["CC_USE_SKINNING","CC_USE_BAKED_ANIMATION","USE_INSTANCING"],format:44,isInstanced:!0,location:7},{name:"a_matWorld0",defines:["USE_INSTANCING"],format:44,isInstanced:!0,location:8},{name:"a_matWorld1",defines:["USE_INSTANCING"],format:44,isInstanced:!0,location:9},{name:"a_matWorld2",defines:["USE_INSTANCING"],format:44,isInstanced:!0,location:10},{name:"a_lightingMapUVParam",defines:["USE_INSTANCING","USE_LIGHTMAP"],format:44,isInstanced:!0,location:11},{name:"a_dyn_batch_id",defines:["!USE_INSTANCING","USE_BATCHING"],format:11,location:12}],varyings:[],fragColors:[{name:"cc_FragColor",typename:"vec4",type:16,count:1,defines:[],stageFlags:16,location:0}],hash:3775263886,glsl4:{vert:"#extension GL_EXT_shader_explicit_arithmetic_types_int32: require\nprecision highp float;\nhighp float decode32 (highp vec4 rgba) {\n  rgba = rgba * 255.0;\n  highp float Sign = 1.0 - (step(128.0, (rgba[3]) + 0.5)) * 2.0;\n  highp float Exponent = 2.0 * (mod(float(int((rgba[3]) + 0.5)), 128.0)) + (step(128.0, (rgba[2]) + 0.5)) - 127.0;\n  highp float Mantissa = (mod(float(int((rgba[2]) + 0.5)), 128.0)) * 65536.0 + rgba[1] * 256.0 + rgba[0] + 8388608.0;\n  return Sign * exp2(Exponent - 23.0) * Mantissa;\n}\nstruct StandardVertInput {\n  highp vec4 position;\n  vec3 normal;\n  vec4 tangent;\n};\nlayout(location = 0) in vec3 a_position;\nlayout(location = 1) in vec3 a_normal;\nlayout(location = 2) in vec2 a_texCoord;\nlayout(location = 3) in vec4 a_tangent;\n#if CC_USE_MORPH\n    int getVertexId() {\n      return gl_VertexIndex;\n    }\n  layout(set = 2, binding = 4) uniform CCMorph {\n    vec4 cc_displacementWeights[15];\n    vec4 cc_displacementTextureInfo;\n  };\n  vec2 getPixelLocation(vec2 textureResolution, int pixelIndex) {\n    float pixelIndexF = float(pixelIndex);\n    float x = mod(pixelIndexF, textureResolution.x);\n    float y = floor(pixelIndexF / textureResolution.x);\n    return vec2(x, y);\n  }\n  vec2 getPixelCoordFromLocation(vec2 location, vec2 textureResolution) {\n    return (vec2(location.x, location.y) + .5) / textureResolution;\n  }\n  #if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\n      vec4 fetchVec3ArrayFromTexture(sampler2D tex, int pixelIndex) {\n        ivec2 texSize = textureSize(tex, 0);\n        return texelFetch(tex, ivec2(pixelIndex % texSize.x, pixelIndex / texSize.x), 0);\n      }\n  #else\n    vec4 fetchVec3ArrayFromTexture(sampler2D tex, int elementIndex) {\n      int pixelIndex = elementIndex * 4;\n      vec2 location = getPixelLocation(cc_displacementTextureInfo.xy, pixelIndex);\n      vec2 x = getPixelCoordFromLocation(location + vec2(0.0, 0.0), cc_displacementTextureInfo.xy);\n      vec2 y = getPixelCoordFromLocation(location + vec2(1.0, 0.0), cc_displacementTextureInfo.xy);\n      vec2 z = getPixelCoordFromLocation(location + vec2(2.0, 0.0), cc_displacementTextureInfo.xy);\n      return vec4(\n        decode32(texture(tex, x)),\n        decode32(texture(tex, y)),\n        decode32(texture(tex, z)),\n        1.0\n      );\n    }\n  #endif\n  float getDisplacementWeight(int index) {\n    int quot = index / 4;\n    int remainder = index - quot * 4;\n    if (remainder == 0) {\n      return cc_displacementWeights[quot].x;\n    } else if (remainder == 1) {\n      return cc_displacementWeights[quot].y;\n    } else if (remainder == 2) {\n      return cc_displacementWeights[quot].z;\n    } else {\n      return cc_displacementWeights[quot].w;\n    }\n  }\n  vec3 getVec3DisplacementFromTexture(sampler2D tex, int vertexIndex) {\n  #if CC_MORPH_PRECOMPUTED\n    return fetchVec3ArrayFromTexture(tex, vertexIndex).rgb;\n  #else\n    vec3 result = vec3(0, 0, 0);\n    int nVertices = int(cc_displacementTextureInfo.z);\n    for (int iTarget = 0; iTarget < CC_MORPH_TARGET_COUNT; ++iTarget) {\n      result += (fetchVec3ArrayFromTexture(tex, nVertices * iTarget + vertexIndex).rgb * getDisplacementWeight(iTarget));\n    }\n    return result;\n  #endif\n  }\n  #if CC_MORPH_TARGET_HAS_POSITION\n    layout(set = 2, binding = 7) uniform sampler2D cc_PositionDisplacements;\n    vec3 getPositionDisplacement(int vertexId) {\n      return getVec3DisplacementFromTexture(cc_PositionDisplacements, vertexId);\n    }\n  #endif\n  #if CC_MORPH_TARGET_HAS_NORMAL\n    layout(set = 2, binding = 8) uniform sampler2D cc_NormalDisplacements;\n    vec3 getNormalDisplacement(int vertexId) {\n      return getVec3DisplacementFromTexture(cc_NormalDisplacements, vertexId);\n    }\n  #endif\n  #if CC_MORPH_TARGET_HAS_TANGENT\n    layout(set = 2, binding = 9) uniform sampler2D cc_TangentDisplacements;\n    vec3 getTangentDisplacement(int vertexId) {\n      return getVec3DisplacementFromTexture(cc_TangentDisplacements, vertexId);\n    }\n  #endif\n  void applyMorph (inout StandardVertInput attr) {\n    int vertexId = getVertexId();\n  #if CC_MORPH_TARGET_HAS_POSITION\n    attr.position.xyz = attr.position.xyz + getPositionDisplacement(vertexId);\n  #endif\n  #if CC_MORPH_TARGET_HAS_NORMAL\n    attr.normal.xyz = attr.normal.xyz + getNormalDisplacement(vertexId);\n  #endif\n  #if CC_MORPH_TARGET_HAS_TANGENT\n    attr.tangent.xyz = attr.tangent.xyz + getTangentDisplacement(vertexId);\n  #endif\n  }\n  void applyMorph (inout vec4 position) {\n  #if CC_MORPH_TARGET_HAS_POSITION\n    position.xyz = position.xyz + getPositionDisplacement(getVertexId());\n  #endif\n  }\n#endif\n#if CC_USE_SKINNING\n    layout(location = 4) in u32vec4 a_joints;\n  layout(location = 5) in vec4 a_weights;\n  #if CC_USE_BAKED_ANIMATION\n    #if USE_INSTANCING\n      layout(location = 7) in highp vec4 a_jointAnimInfo;\n    #endif\n    layout(set = 2, binding = 3) uniform CCSkinningTexture {\n      highp vec4 cc_jointTextureInfo;\n    };\n    layout(set = 2, binding = 2) uniform CCSkinningAnimation {\n      highp vec4 cc_jointAnimInfo;\n    };\n    layout(set = 2, binding = 6) uniform highp sampler2D cc_jointTexture;\n      #else\n    layout(set = 2, binding = 3) uniform CCSkinning {\n      highp vec4 cc_joints[30 * 3];\n    };\n  #endif\n  #if CC_USE_BAKED_ANIMATION\n    #if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\n      mat4 getJointMatrix (float i) {\n              #if USE_INSTANCING\n                highp float j = 3.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n              #else\n                highp float j = 3.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n              #endif\n              highp float invSize = cc_jointTextureInfo.w;\n              highp float y = floor(j * invSize);\n              highp float x = floor(j - y * cc_jointTextureInfo.x);\n              y = (y + 0.5) * invSize;\n        vec4 v1 = texture(cc_jointTexture, vec2((x + 0.5) * invSize, y));\n        vec4 v2 = texture(cc_jointTexture, vec2((x + 1.5) * invSize, y));\n        vec4 v3 = texture(cc_jointTexture, vec2((x + 2.5) * invSize, y));\n        return mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n      }\n    #else\n      mat4 getJointMatrix (float i) {\n              #if USE_INSTANCING\n                highp float j = 12.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n              #else\n                highp float j = 12.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n              #endif\n              highp float invSize = cc_jointTextureInfo.w;\n              highp float y = floor(j * invSize);\n              highp float x = floor(j - y * cc_jointTextureInfo.x);\n              y = (y + 0.5) * invSize;\n        vec4 v1 = vec4(\n          decode32(texture(cc_jointTexture, vec2((x + 0.5) * invSize, y))),\n          decode32(texture(cc_jointTexture, vec2((x + 1.5) * invSize, y))),\n          decode32(texture(cc_jointTexture, vec2((x + 2.5) * invSize, y))),\n          decode32(texture(cc_jointTexture, vec2((x + 3.5) * invSize, y)))\n        );\n        vec4 v2 = vec4(\n          decode32(texture(cc_jointTexture, vec2((x + 4.5) * invSize, y))),\n          decode32(texture(cc_jointTexture, vec2((x + 5.5) * invSize, y))),\n          decode32(texture(cc_jointTexture, vec2((x + 6.5) * invSize, y))),\n          decode32(texture(cc_jointTexture, vec2((x + 7.5) * invSize, y)))\n        );\n        vec4 v3 = vec4(\n          decode32(texture(cc_jointTexture, vec2((x + 8.5) * invSize, y))),\n          decode32(texture(cc_jointTexture, vec2((x + 9.5) * invSize, y))),\n          decode32(texture(cc_jointTexture, vec2((x + 10.5) * invSize, y))),\n          decode32(texture(cc_jointTexture, vec2((x + 11.5) * invSize, y)))\n        );\n        return mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n      }\n    #endif\n  #else\n    mat4 getJointMatrix (float i) {\n      int idx = int(i);\n      vec4 v1 = cc_joints[idx * 3];\n      vec4 v2 = cc_joints[idx * 3 + 1];\n      vec4 v3 = cc_joints[idx * 3 + 2];\n      return mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n    }\n  #endif\n  mat4 skinMatrix () {\n    vec4 joints = vec4(a_joints);\n    return getJointMatrix(joints.x) * a_weights.x\n         + getJointMatrix(joints.y) * a_weights.y\n         + getJointMatrix(joints.z) * a_weights.z\n         + getJointMatrix(joints.w) * a_weights.w;\n  }\n  void CCSkin (inout vec4 position) {\n    mat4 m = skinMatrix();\n    position = m * position;\n  }\n  void CCSkin (inout StandardVertInput attr) {\n    mat4 m = skinMatrix();\n    attr.position = m * attr.position;\n    attr.normal = (m * vec4(attr.normal, 0.0)).xyz;\n    attr.tangent.xyz = (m * vec4(attr.tangent.xyz, 0.0)).xyz;\n  }\n#endif\n#if USE_INSTANCING\n  layout(location = 8) in vec4 a_matWorld0;\n  layout(location = 9) in vec4 a_matWorld1;\n  layout(location = 10) in vec4 a_matWorld2;\n  #if USE_LIGHTMAP\n    layout(location = 11) in vec4 a_lightingMapUVParam;\n  #endif\n#elif USE_BATCHING\n  layout(location = 12) in float a_dyn_batch_id;\n  layout(set = 2, binding = 0) uniform CCLocalBatched {\n    highp mat4 cc_matWorlds[10];\n  };\n#else\n  layout(set = 2, binding = 0) uniform CCLocal {\n    highp mat4 cc_matWorld;\n    highp mat4 cc_matWorldIT;\n    highp vec4 cc_lightingMapUVParam;\n  };\n#endif\nvec4 vert() {\n  vec4 position;\n      position = vec4(a_position, 1.0);\n    #if CC_USE_MORPH\n      applyMorph(position);\n    #endif\n    #if CC_USE_SKINNING\n      CCSkin(position);\n    #endif\n  return vec4(position.xyz * 2., 1.0);\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision highp float;\nlayout(set = 0, binding = 0) uniform CCGlobal {\n  highp   vec4 cc_time;\n  mediump vec4 cc_screenSize;\n  mediump vec4 cc_nativeSize;\n};\nlayout(set = 0, binding = 1) uniform CCCamera {\n  highp   mat4 cc_matView;\n  highp   mat4 cc_matViewInv;\n  highp   mat4 cc_matProj;\n  highp   mat4 cc_matProjInv;\n  highp   mat4 cc_matViewProj;\n  highp   mat4 cc_matViewProjInv;\n  highp   vec4 cc_cameraPos;\n  mediump vec4 cc_screenScale;\n  mediump vec4 cc_exposure;\n  mediump vec4 cc_mainLitDir;\n  mediump vec4 cc_mainLitColor;\n  mediump vec4 cc_ambientSky;\n  mediump vec4 cc_ambientGround;\n  mediump vec4 cc_fogColor;\n  mediump vec4 cc_fogBase;\n  mediump vec4 cc_fogAdd;\n  mediump vec4 cc_nearFar;\n  mediump vec4 cc_viewPort;\n};\nlayout(set = 1, binding = 0) uniform Constant {\n  vec4 viewParams;\n  vec2 lookatPoint;\n};\nfloat sdf_union(float a, float b) {\n  return min(a, b);\n}\nfloat sdf_intersect(float a, float b) {\n  return max(a, b);\n}\nvec4 frag () {\n  vec2  uv = gl_FragCoord.xy * cc_screenSize.zw;\n  float dx = abs(uv.x - 0.5) * 2.;\n  float dy = abs(uv.y - 0.5) * 2.;\n  float dpx = abs(uv.x - lookatPoint.x) * 2.;\n  float dpy = abs(uv.y - lookatPoint.y) * 2.;\n  float softZoneWidth = max(viewParams.x, viewParams.z);\n  float softZoneHeight = max(viewParams.y, viewParams.w);\n  float deadZone = sdf_intersect(step(viewParams.x, dx), step(viewParams.y, dy));\n  float softZone = sdf_intersect(step(softZoneWidth, dx), step(softZoneHeight, dy));\n  float deadZoneLine0 = sdf_intersect(1. - step(viewParams.x, dx), step(viewParams.x + 7. * cc_screenSize.z, dx));\n  float deadZoneLine1 = sdf_intersect(1. - step(viewParams.y, dy), step(viewParams.y + 7. * cc_screenSize.w, dy));\n  float softZoneLine0 = sdf_intersect(1. - step(softZoneWidth, dx), step(softZoneWidth + 7. * cc_screenSize.z, dx));\n  float softZoneLine1 = sdf_intersect(1. - step(softZoneHeight, dy), step(softZoneHeight + 7. * cc_screenSize.w, dy));\n  vec4  color = vec4(1,0,0,0.15);\n  color = mix(vec4(0,0.7,1,0.15), color, softZone);\n  color = mix(vec4(0), color, deadZone);\n  color = mix(vec4(0,0.7,1,0.3), color, sdf_union(deadZoneLine0, deadZoneLine1));\n  color = mix(vec4(1,0,0,0.3), color, sdf_union(softZoneLine0, softZoneLine1));\n  color = mix(vec4(1,1,0,1), color, sdf_intersect(step(10. * cc_screenSize.z, dpx), step(10. * cc_screenSize.z, dpy * cc_screenSize.y/cc_screenSize.x)));\n  return color;\n}\nlayout(location = 0) out vec4 cc_FragColor;\nvoid main() { cc_FragColor = frag(); }"},glsl3:{vert:"\nprecision highp float;\nhighp float decode32 (highp vec4 rgba) {\n  rgba = rgba * 255.0;\n  highp float Sign = 1.0 - (step(128.0, (rgba[3]) + 0.5)) * 2.0;\n  highp float Exponent = 2.0 * (mod(float(int((rgba[3]) + 0.5)), 128.0)) + (step(128.0, (rgba[2]) + 0.5)) - 127.0;\n  highp float Mantissa = (mod(float(int((rgba[2]) + 0.5)), 128.0)) * 65536.0 + rgba[1] * 256.0 + rgba[0] + 8388608.0;\n  return Sign * exp2(Exponent - 23.0) * Mantissa;\n}\nstruct StandardVertInput {\n  highp vec4 position;\n  vec3 normal;\n  vec4 tangent;\n};\nin vec3 a_position;\nin vec3 a_normal;\nin vec2 a_texCoord;\nin vec4 a_tangent;\n#if CC_USE_MORPH\n    in float a_vertexId;\n    int getVertexId() {\n      return int(a_vertexId);\n    }\n  layout(std140) uniform CCMorph {\n    vec4 cc_displacementWeights[15];\n    vec4 cc_displacementTextureInfo;\n  };\n  vec2 getPixelLocation(vec2 textureResolution, int pixelIndex) {\n    float pixelIndexF = float(pixelIndex);\n    float x = mod(pixelIndexF, textureResolution.x);\n    float y = floor(pixelIndexF / textureResolution.x);\n    return vec2(x, y);\n  }\n  vec2 getPixelCoordFromLocation(vec2 location, vec2 textureResolution) {\n    return (vec2(location.x, location.y) + .5) / textureResolution;\n  }\n  #if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\n      vec4 fetchVec3ArrayFromTexture(sampler2D tex, int pixelIndex) {\n        ivec2 texSize = textureSize(tex, 0);\n        return texelFetch(tex, ivec2(pixelIndex % texSize.x, pixelIndex / texSize.x), 0);\n      }\n  #else\n    vec4 fetchVec3ArrayFromTexture(sampler2D tex, int elementIndex) {\n      int pixelIndex = elementIndex * 4;\n      vec2 location = getPixelLocation(cc_displacementTextureInfo.xy, pixelIndex);\n      vec2 x = getPixelCoordFromLocation(location + vec2(0.0, 0.0), cc_displacementTextureInfo.xy);\n      vec2 y = getPixelCoordFromLocation(location + vec2(1.0, 0.0), cc_displacementTextureInfo.xy);\n      vec2 z = getPixelCoordFromLocation(location + vec2(2.0, 0.0), cc_displacementTextureInfo.xy);\n      return vec4(\n        decode32(texture(tex, x)),\n        decode32(texture(tex, y)),\n        decode32(texture(tex, z)),\n        1.0\n      );\n    }\n  #endif\n  float getDisplacementWeight(int index) {\n    int quot = index / 4;\n    int remainder = index - quot * 4;\n    if (remainder == 0) {\n      return cc_displacementWeights[quot].x;\n    } else if (remainder == 1) {\n      return cc_displacementWeights[quot].y;\n    } else if (remainder == 2) {\n      return cc_displacementWeights[quot].z;\n    } else {\n      return cc_displacementWeights[quot].w;\n    }\n  }\n  vec3 getVec3DisplacementFromTexture(sampler2D tex, int vertexIndex) {\n  #if CC_MORPH_PRECOMPUTED\n    return fetchVec3ArrayFromTexture(tex, vertexIndex).rgb;\n  #else\n    vec3 result = vec3(0, 0, 0);\n    int nVertices = int(cc_displacementTextureInfo.z);\n    for (int iTarget = 0; iTarget < CC_MORPH_TARGET_COUNT; ++iTarget) {\n      result += (fetchVec3ArrayFromTexture(tex, nVertices * iTarget + vertexIndex).rgb * getDisplacementWeight(iTarget));\n    }\n    return result;\n  #endif\n  }\n  #if CC_MORPH_TARGET_HAS_POSITION\n    uniform sampler2D cc_PositionDisplacements;\n    vec3 getPositionDisplacement(int vertexId) {\n      return getVec3DisplacementFromTexture(cc_PositionDisplacements, vertexId);\n    }\n  #endif\n  #if CC_MORPH_TARGET_HAS_NORMAL\n    uniform sampler2D cc_NormalDisplacements;\n    vec3 getNormalDisplacement(int vertexId) {\n      return getVec3DisplacementFromTexture(cc_NormalDisplacements, vertexId);\n    }\n  #endif\n  #if CC_MORPH_TARGET_HAS_TANGENT\n    uniform sampler2D cc_TangentDisplacements;\n    vec3 getTangentDisplacement(int vertexId) {\n      return getVec3DisplacementFromTexture(cc_TangentDisplacements, vertexId);\n    }\n  #endif\n  void applyMorph (inout StandardVertInput attr) {\n    int vertexId = getVertexId();\n  #if CC_MORPH_TARGET_HAS_POSITION\n    attr.position.xyz = attr.position.xyz + getPositionDisplacement(vertexId);\n  #endif\n  #if CC_MORPH_TARGET_HAS_NORMAL\n    attr.normal.xyz = attr.normal.xyz + getNormalDisplacement(vertexId);\n  #endif\n  #if CC_MORPH_TARGET_HAS_TANGENT\n    attr.tangent.xyz = attr.tangent.xyz + getTangentDisplacement(vertexId);\n  #endif\n  }\n  void applyMorph (inout vec4 position) {\n  #if CC_MORPH_TARGET_HAS_POSITION\n    position.xyz = position.xyz + getPositionDisplacement(getVertexId());\n  #endif\n  }\n#endif\n#if CC_USE_SKINNING\n    in vec4 a_joints;\n  in vec4 a_weights;\n  #if CC_USE_BAKED_ANIMATION\n    #if USE_INSTANCING\n      in highp vec4 a_jointAnimInfo;\n    #endif\n    layout(std140) uniform CCSkinningTexture {\n      highp vec4 cc_jointTextureInfo;\n    };\n    layout(std140) uniform CCSkinningAnimation {\n      highp vec4 cc_jointAnimInfo;\n    };\n    uniform highp sampler2D cc_jointTexture;\n      #else\n    layout(std140) uniform CCSkinning {\n      highp vec4 cc_joints[30 * 3];\n    };\n  #endif\n  #if CC_USE_BAKED_ANIMATION\n    #if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\n      mat4 getJointMatrix (float i) {\n              #if USE_INSTANCING\n                highp float j = 3.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n              #else\n                highp float j = 3.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n              #endif\n              highp float invSize = cc_jointTextureInfo.w;\n              highp float y = floor(j * invSize);\n              highp float x = floor(j - y * cc_jointTextureInfo.x);\n              y = (y + 0.5) * invSize;\n        vec4 v1 = texture(cc_jointTexture, vec2((x + 0.5) * invSize, y));\n        vec4 v2 = texture(cc_jointTexture, vec2((x + 1.5) * invSize, y));\n        vec4 v3 = texture(cc_jointTexture, vec2((x + 2.5) * invSize, y));\n        return mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n      }\n    #else\n      mat4 getJointMatrix (float i) {\n              #if USE_INSTANCING\n                highp float j = 12.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n              #else\n                highp float j = 12.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n              #endif\n              highp float invSize = cc_jointTextureInfo.w;\n              highp float y = floor(j * invSize);\n              highp float x = floor(j - y * cc_jointTextureInfo.x);\n              y = (y + 0.5) * invSize;\n        vec4 v1 = vec4(\n          decode32(texture(cc_jointTexture, vec2((x + 0.5) * invSize, y))),\n          decode32(texture(cc_jointTexture, vec2((x + 1.5) * invSize, y))),\n          decode32(texture(cc_jointTexture, vec2((x + 2.5) * invSize, y))),\n          decode32(texture(cc_jointTexture, vec2((x + 3.5) * invSize, y)))\n        );\n        vec4 v2 = vec4(\n          decode32(texture(cc_jointTexture, vec2((x + 4.5) * invSize, y))),\n          decode32(texture(cc_jointTexture, vec2((x + 5.5) * invSize, y))),\n          decode32(texture(cc_jointTexture, vec2((x + 6.5) * invSize, y))),\n          decode32(texture(cc_jointTexture, vec2((x + 7.5) * invSize, y)))\n        );\n        vec4 v3 = vec4(\n          decode32(texture(cc_jointTexture, vec2((x + 8.5) * invSize, y))),\n          decode32(texture(cc_jointTexture, vec2((x + 9.5) * invSize, y))),\n          decode32(texture(cc_jointTexture, vec2((x + 10.5) * invSize, y))),\n          decode32(texture(cc_jointTexture, vec2((x + 11.5) * invSize, y)))\n        );\n        return mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n      }\n    #endif\n  #else\n    mat4 getJointMatrix (float i) {\n      int idx = int(i);\n      vec4 v1 = cc_joints[idx * 3];\n      vec4 v2 = cc_joints[idx * 3 + 1];\n      vec4 v3 = cc_joints[idx * 3 + 2];\n      return mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n    }\n  #endif\n  mat4 skinMatrix () {\n    vec4 joints = vec4(a_joints);\n    return getJointMatrix(joints.x) * a_weights.x\n         + getJointMatrix(joints.y) * a_weights.y\n         + getJointMatrix(joints.z) * a_weights.z\n         + getJointMatrix(joints.w) * a_weights.w;\n  }\n  void CCSkin (inout vec4 position) {\n    mat4 m = skinMatrix();\n    position = m * position;\n  }\n  void CCSkin (inout StandardVertInput attr) {\n    mat4 m = skinMatrix();\n    attr.position = m * attr.position;\n    attr.normal = (m * vec4(attr.normal, 0.0)).xyz;\n    attr.tangent.xyz = (m * vec4(attr.tangent.xyz, 0.0)).xyz;\n  }\n#endif\n#if USE_INSTANCING\n  in vec4 a_matWorld0;\n  in vec4 a_matWorld1;\n  in vec4 a_matWorld2;\n  #if USE_LIGHTMAP\n    in vec4 a_lightingMapUVParam;\n  #endif\n#elif USE_BATCHING\n  in float a_dyn_batch_id;\n  layout(std140) uniform CCLocalBatched {\n    highp mat4 cc_matWorlds[10];\n  };\n#else\n  layout(std140) uniform CCLocal {\n    highp mat4 cc_matWorld;\n    highp mat4 cc_matWorldIT;\n    highp vec4 cc_lightingMapUVParam;\n  };\n#endif\nvec4 vert() {\n  vec4 position;\n      position = vec4(a_position, 1.0);\n    #if CC_USE_MORPH\n      applyMorph(position);\n    #endif\n    #if CC_USE_SKINNING\n      CCSkin(position);\n    #endif\n  return vec4(position.xyz * 2., 1.0);\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision highp float;\nlayout(std140) uniform CCGlobal {\n  highp   vec4 cc_time;\n  mediump vec4 cc_screenSize;\n  mediump vec4 cc_nativeSize;\n};\nlayout(std140) uniform CCCamera {\n  highp   mat4 cc_matView;\n  highp   mat4 cc_matViewInv;\n  highp   mat4 cc_matProj;\n  highp   mat4 cc_matProjInv;\n  highp   mat4 cc_matViewProj;\n  highp   mat4 cc_matViewProjInv;\n  highp   vec4 cc_cameraPos;\n  mediump vec4 cc_screenScale;\n  mediump vec4 cc_exposure;\n  mediump vec4 cc_mainLitDir;\n  mediump vec4 cc_mainLitColor;\n  mediump vec4 cc_ambientSky;\n  mediump vec4 cc_ambientGround;\n  mediump vec4 cc_fogColor;\n  mediump vec4 cc_fogBase;\n  mediump vec4 cc_fogAdd;\n  mediump vec4 cc_nearFar;\n  mediump vec4 cc_viewPort;\n};\nlayout(std140) uniform Constant {\n  vec4 viewParams;\n  vec2 lookatPoint;\n};\nfloat sdf_union(float a, float b) {\n  return min(a, b);\n}\nfloat sdf_intersect(float a, float b) {\n  return max(a, b);\n}\nvec4 frag () {\n  vec2  uv = gl_FragCoord.xy * cc_screenSize.zw;\n  float dx = abs(uv.x - 0.5) * 2.;\n  float dy = abs(uv.y - 0.5) * 2.;\n  float dpx = abs(uv.x - lookatPoint.x) * 2.;\n  float dpy = abs(uv.y - lookatPoint.y) * 2.;\n  float softZoneWidth = max(viewParams.x, viewParams.z);\n  float softZoneHeight = max(viewParams.y, viewParams.w);\n  float deadZone = sdf_intersect(step(viewParams.x, dx), step(viewParams.y, dy));\n  float softZone = sdf_intersect(step(softZoneWidth, dx), step(softZoneHeight, dy));\n  float deadZoneLine0 = sdf_intersect(1. - step(viewParams.x, dx), step(viewParams.x + 7. * cc_screenSize.z, dx));\n  float deadZoneLine1 = sdf_intersect(1. - step(viewParams.y, dy), step(viewParams.y + 7. * cc_screenSize.w, dy));\n  float softZoneLine0 = sdf_intersect(1. - step(softZoneWidth, dx), step(softZoneWidth + 7. * cc_screenSize.z, dx));\n  float softZoneLine1 = sdf_intersect(1. - step(softZoneHeight, dy), step(softZoneHeight + 7. * cc_screenSize.w, dy));\n  vec4  color = vec4(1,0,0,0.15);\n  color = mix(vec4(0,0.7,1,0.15), color, softZone);\n  color = mix(vec4(0), color, deadZone);\n  color = mix(vec4(0,0.7,1,0.3), color, sdf_union(deadZoneLine0, deadZoneLine1));\n  color = mix(vec4(1,0,0,0.3), color, sdf_union(softZoneLine0, softZoneLine1));\n  color = mix(vec4(1,1,0,1), color, sdf_intersect(step(10. * cc_screenSize.z, dpx), step(10. * cc_screenSize.z, dpy * cc_screenSize.y/cc_screenSize.x)));\n  return color;\n}\nlayout(location = 0) out vec4 cc_FragColor;\nvoid main() { cc_FragColor = frag(); }"},glsl1:{vert:"\nprecision highp float;\nhighp float decode32 (highp vec4 rgba) {\n  rgba = rgba * 255.0;\n  highp float Sign = 1.0 - (step(128.0, (rgba[3]) + 0.5)) * 2.0;\n  highp float Exponent = 2.0 * (mod(float(int((rgba[3]) + 0.5)), 128.0)) + (step(128.0, (rgba[2]) + 0.5)) - 127.0;\n  highp float Mantissa = (mod(float(int((rgba[2]) + 0.5)), 128.0)) * 65536.0 + rgba[1] * 256.0 + rgba[0] + 8388608.0;\n  return Sign * exp2(Exponent - 23.0) * Mantissa;\n}\nstruct StandardVertInput {\n  highp vec4 position;\n  vec3 normal;\n  vec4 tangent;\n};\nattribute vec3 a_position;\nattribute vec3 a_normal;\nattribute vec2 a_texCoord;\nattribute vec4 a_tangent;\n#if CC_USE_MORPH\n    attribute float a_vertexId;\n    int getVertexId() {\n      return int(a_vertexId);\n    }\n  uniform vec4 cc_displacementWeights[15];\n  uniform vec4 cc_displacementTextureInfo;\n  vec2 getPixelLocation(vec2 textureResolution, int pixelIndex) {\n    float pixelIndexF = float(pixelIndex);\n    float x = mod(pixelIndexF, textureResolution.x);\n    float y = floor(pixelIndexF / textureResolution.x);\n    return vec2(x, y);\n  }\n  vec2 getPixelCoordFromLocation(vec2 location, vec2 textureResolution) {\n    return (vec2(location.x, location.y) + .5) / textureResolution;\n  }\n  #if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\n      vec4 fetchVec3ArrayFromTexture(sampler2D tex, int elementIndex) {\n        int pixelIndex = elementIndex;\n        vec2 location = getPixelLocation(cc_displacementTextureInfo.xy, pixelIndex);\n        vec2 uv = getPixelCoordFromLocation(location, cc_displacementTextureInfo.xy);\n        return texture2D(tex, uv);\n      }\n  #else\n    vec4 fetchVec3ArrayFromTexture(sampler2D tex, int elementIndex) {\n      int pixelIndex = elementIndex * 4;\n      vec2 location = getPixelLocation(cc_displacementTextureInfo.xy, pixelIndex);\n      vec2 x = getPixelCoordFromLocation(location + vec2(0.0, 0.0), cc_displacementTextureInfo.xy);\n      vec2 y = getPixelCoordFromLocation(location + vec2(1.0, 0.0), cc_displacementTextureInfo.xy);\n      vec2 z = getPixelCoordFromLocation(location + vec2(2.0, 0.0), cc_displacementTextureInfo.xy);\n      return vec4(\n        decode32(texture2D(tex, x)),\n        decode32(texture2D(tex, y)),\n        decode32(texture2D(tex, z)),\n        1.0\n      );\n    }\n  #endif\n  float getDisplacementWeight(int index) {\n    int quot = index / 4;\n    int remainder = index - quot * 4;\n    if (remainder == 0) {\n      return cc_displacementWeights[quot].x;\n    } else if (remainder == 1) {\n      return cc_displacementWeights[quot].y;\n    } else if (remainder == 2) {\n      return cc_displacementWeights[quot].z;\n    } else {\n      return cc_displacementWeights[quot].w;\n    }\n  }\n  vec3 getVec3DisplacementFromTexture(sampler2D tex, int vertexIndex) {\n  #if CC_MORPH_PRECOMPUTED\n    return fetchVec3ArrayFromTexture(tex, vertexIndex).rgb;\n  #else\n    vec3 result = vec3(0, 0, 0);\n    int nVertices = int(cc_displacementTextureInfo.z);\n    for (int iTarget = 0; iTarget < CC_MORPH_TARGET_COUNT; ++iTarget) {\n      result += (fetchVec3ArrayFromTexture(tex, nVertices * iTarget + vertexIndex).rgb * getDisplacementWeight(iTarget));\n    }\n    return result;\n  #endif\n  }\n  #if CC_MORPH_TARGET_HAS_POSITION\n    uniform sampler2D cc_PositionDisplacements;\n    vec3 getPositionDisplacement(int vertexId) {\n      return getVec3DisplacementFromTexture(cc_PositionDisplacements, vertexId);\n    }\n  #endif\n  #if CC_MORPH_TARGET_HAS_NORMAL\n    uniform sampler2D cc_NormalDisplacements;\n    vec3 getNormalDisplacement(int vertexId) {\n      return getVec3DisplacementFromTexture(cc_NormalDisplacements, vertexId);\n    }\n  #endif\n  #if CC_MORPH_TARGET_HAS_TANGENT\n    uniform sampler2D cc_TangentDisplacements;\n    vec3 getTangentDisplacement(int vertexId) {\n      return getVec3DisplacementFromTexture(cc_TangentDisplacements, vertexId);\n    }\n  #endif\n  void applyMorph (inout StandardVertInput attr) {\n    int vertexId = getVertexId();\n  #if CC_MORPH_TARGET_HAS_POSITION\n    attr.position.xyz = attr.position.xyz + getPositionDisplacement(vertexId);\n  #endif\n  #if CC_MORPH_TARGET_HAS_NORMAL\n    attr.normal.xyz = attr.normal.xyz + getNormalDisplacement(vertexId);\n  #endif\n  #if CC_MORPH_TARGET_HAS_TANGENT\n    attr.tangent.xyz = attr.tangent.xyz + getTangentDisplacement(vertexId);\n  #endif\n  }\n  void applyMorph (inout vec4 position) {\n  #if CC_MORPH_TARGET_HAS_POSITION\n    position.xyz = position.xyz + getPositionDisplacement(getVertexId());\n  #endif\n  }\n#endif\n#if CC_USE_SKINNING\n    attribute vec4 a_joints;\n  attribute vec4 a_weights;\n  #if CC_USE_BAKED_ANIMATION\n    #if USE_INSTANCING\n      attribute highp vec4 a_jointAnimInfo;\n    #endif\n    uniform highp vec4 cc_jointTextureInfo;\n    uniform highp vec4 cc_jointAnimInfo;\n    uniform highp sampler2D cc_jointTexture;\n      #else\n    uniform highp vec4 cc_joints[90];\n  #endif\n  #if CC_USE_BAKED_ANIMATION\n    #if CC_DEVICE_SUPPORT_FLOAT_TEXTURE\n      mat4 getJointMatrix (float i) {\n              #if USE_INSTANCING\n                highp float j = 3.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n              #else\n                highp float j = 3.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n              #endif\n              highp float invSize = cc_jointTextureInfo.w;\n              highp float y = floor(j * invSize);\n              highp float x = floor(j - y * cc_jointTextureInfo.x);\n              y = (y + 0.5) * invSize;\n        vec4 v1 = texture2D(cc_jointTexture, vec2((x + 0.5) * invSize, y));\n        vec4 v2 = texture2D(cc_jointTexture, vec2((x + 1.5) * invSize, y));\n        vec4 v3 = texture2D(cc_jointTexture, vec2((x + 2.5) * invSize, y));\n        return mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n      }\n    #else\n      mat4 getJointMatrix (float i) {\n              #if USE_INSTANCING\n                highp float j = 12.0 * (a_jointAnimInfo.x * a_jointAnimInfo.y + i) + a_jointAnimInfo.z;\n              #else\n                highp float j = 12.0 * (cc_jointAnimInfo.x * cc_jointTextureInfo.y + i) + cc_jointTextureInfo.z;\n              #endif\n              highp float invSize = cc_jointTextureInfo.w;\n              highp float y = floor(j * invSize);\n              highp float x = floor(j - y * cc_jointTextureInfo.x);\n              y = (y + 0.5) * invSize;\n        vec4 v1 = vec4(\n          decode32(texture2D(cc_jointTexture, vec2((x + 0.5) * invSize, y))),\n          decode32(texture2D(cc_jointTexture, vec2((x + 1.5) * invSize, y))),\n          decode32(texture2D(cc_jointTexture, vec2((x + 2.5) * invSize, y))),\n          decode32(texture2D(cc_jointTexture, vec2((x + 3.5) * invSize, y)))\n        );\n        vec4 v2 = vec4(\n          decode32(texture2D(cc_jointTexture, vec2((x + 4.5) * invSize, y))),\n          decode32(texture2D(cc_jointTexture, vec2((x + 5.5) * invSize, y))),\n          decode32(texture2D(cc_jointTexture, vec2((x + 6.5) * invSize, y))),\n          decode32(texture2D(cc_jointTexture, vec2((x + 7.5) * invSize, y)))\n        );\n        vec4 v3 = vec4(\n          decode32(texture2D(cc_jointTexture, vec2((x + 8.5) * invSize, y))),\n          decode32(texture2D(cc_jointTexture, vec2((x + 9.5) * invSize, y))),\n          decode32(texture2D(cc_jointTexture, vec2((x + 10.5) * invSize, y))),\n          decode32(texture2D(cc_jointTexture, vec2((x + 11.5) * invSize, y)))\n        );\n        return mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n      }\n    #endif\n  #else\n    mat4 getJointMatrix (float i) {\n      int idx = int(i);\n      vec4 v1 = cc_joints[idx * 3];\n      vec4 v2 = cc_joints[idx * 3 + 1];\n      vec4 v3 = cc_joints[idx * 3 + 2];\n      return mat4(vec4(v1.xyz, 0.0), vec4(v2.xyz, 0.0), vec4(v3.xyz, 0.0), vec4(v1.w, v2.w, v3.w, 1.0));\n    }\n  #endif\n  mat4 skinMatrix () {\n    vec4 joints = vec4(a_joints);\n    return getJointMatrix(joints.x) * a_weights.x\n         + getJointMatrix(joints.y) * a_weights.y\n         + getJointMatrix(joints.z) * a_weights.z\n         + getJointMatrix(joints.w) * a_weights.w;\n  }\n  void CCSkin (inout vec4 position) {\n    mat4 m = skinMatrix();\n    position = m * position;\n  }\n  void CCSkin (inout StandardVertInput attr) {\n    mat4 m = skinMatrix();\n    attr.position = m * attr.position;\n    attr.normal = (m * vec4(attr.normal, 0.0)).xyz;\n    attr.tangent.xyz = (m * vec4(attr.tangent.xyz, 0.0)).xyz;\n  }\n#endif\n#if USE_INSTANCING\n  attribute vec4 a_matWorld0;\n  attribute vec4 a_matWorld1;\n  attribute vec4 a_matWorld2;\n  #if USE_LIGHTMAP\n    attribute vec4 a_lightingMapUVParam;\n  #endif\n#elif USE_BATCHING\n  attribute float a_dyn_batch_id;\n  #else\n  #endif\nvec4 vert() {\n  vec4 position;\n      position = vec4(a_position, 1.0);\n    #if CC_USE_MORPH\n      applyMorph(position);\n    #endif\n    #if CC_USE_SKINNING\n      CCSkin(position);\n    #endif\n  return vec4(position.xyz * 2., 1.0);\n}\nvoid main() { gl_Position = vert(); }",frag:"\nprecision highp float;\nuniform mediump vec4 cc_screenSize;\nuniform vec4 viewParams;\n           uniform vec2 lookatPoint;\nfloat sdf_union(float a, float b) {\n  return min(a, b);\n}\nfloat sdf_intersect(float a, float b) {\n  return max(a, b);\n}\nvec4 frag () {\n  vec2  uv = gl_FragCoord.xy * cc_screenSize.zw;\n  float dx = abs(uv.x - 0.5) * 2.;\n  float dy = abs(uv.y - 0.5) * 2.;\n  float dpx = abs(uv.x - lookatPoint.x) * 2.;\n  float dpy = abs(uv.y - lookatPoint.y) * 2.;\n  float softZoneWidth = max(viewParams.x, viewParams.z);\n  float softZoneHeight = max(viewParams.y, viewParams.w);\n  float deadZone = sdf_intersect(step(viewParams.x, dx), step(viewParams.y, dy));\n  float softZone = sdf_intersect(step(softZoneWidth, dx), step(softZoneHeight, dy));\n  float deadZoneLine0 = sdf_intersect(1. - step(viewParams.x, dx), step(viewParams.x + 7. * cc_screenSize.z, dx));\n  float deadZoneLine1 = sdf_intersect(1. - step(viewParams.y, dy), step(viewParams.y + 7. * cc_screenSize.w, dy));\n  float softZoneLine0 = sdf_intersect(1. - step(softZoneWidth, dx), step(softZoneWidth + 7. * cc_screenSize.z, dx));\n  float softZoneLine1 = sdf_intersect(1. - step(softZoneHeight, dy), step(softZoneHeight + 7. * cc_screenSize.w, dy));\n  vec4  color = vec4(1,0,0,0.15);\n  color = mix(vec4(0,0.7,1,0.15), color, softZone);\n  color = mix(vec4(0), color, deadZone);\n  color = mix(vec4(0,0.7,1,0.3), color, sdf_union(deadZoneLine0, deadZoneLine1));\n  color = mix(vec4(1,0,0,0.3), color, sdf_union(softZoneLine0, softZoneLine1));\n  color = mix(vec4(1,1,0,1), color, sdf_intersect(step(10. * cc_screenSize.z, dpx), step(10. * cc_screenSize.z, dpy * cc_screenSize.y/cc_screenSize.x)));\n  return color;\n}\nvoid main() { gl_FragColor = frag(); }"},builtins:{globals:{blocks:[{name:"CCGlobal",defines:[]},{name:"CCCamera",defines:[]}],samplerTextures:[],buffers:[],images:[]},locals:{blocks:[{name:"CCMorph",defines:["CC_USE_MORPH"]},{name:"CCSkinningTexture",defines:["CC_USE_SKINNING","CC_USE_BAKED_ANIMATION"]},{name:"CCSkinningAnimation",defines:["CC_USE_SKINNING","CC_USE_BAKED_ANIMATION"]},{name:"CCSkinning",defines:["CC_USE_SKINNING","!CC_USE_BAKED_ANIMATION"]},{name:"CCLocalBatched",defines:["!USE_INSTANCING","USE_BATCHING"]},{name:"CCLocal",defines:["!USE_INSTANCING","!USE_BATCHING"]}],samplerTextures:[{name:"cc_PositionDisplacements",defines:["CC_USE_MORPH","CC_MORPH_TARGET_HAS_POSITION"]},{name:"cc_NormalDisplacements",defines:["CC_USE_MORPH","CC_MORPH_TARGET_HAS_NORMAL"]},{name:"cc_TangentDisplacements",defines:["CC_USE_MORPH","CC_MORPH_TARGET_HAS_TANGENT"]},{name:"cc_jointTexture",defines:["CC_USE_SKINNING","CC_USE_BAKED_ANIMATION"]}],buffers:[],images:[]},statistics:{CC_EFFECT_USED_VERTEX_UNIFORM_VECTORS:157,CC_EFFECT_USED_FRAGMENT_UNIFORM_VECTORS:41}},defines:[{name:"CC_USE_MORPH",type:"boolean",defines:[],_offset:0},{name:"CC_MORPH_TARGET_COUNT",type:"number",defines:["CC_USE_MORPH"],range:[2,8],_offset:1},{name:"CC_MORPH_PRECOMPUTED",type:"boolean",defines:["CC_USE_MORPH"],_offset:4},{name:"CC_MORPH_TARGET_HAS_POSITION",type:"boolean",defines:["CC_USE_MORPH"],_offset:5},{name:"CC_MORPH_TARGET_HAS_NORMAL",type:"boolean",defines:["CC_USE_MORPH"],_offset:6},{name:"CC_MORPH_TARGET_HAS_TANGENT",type:"boolean",defines:["CC_USE_MORPH"],_offset:7},{name:"CC_USE_SKINNING",type:"boolean",defines:[],_offset:8},{name:"CC_USE_BAKED_ANIMATION",type:"boolean",defines:["CC_USE_SKINNING"],_offset:9},{name:"USE_INSTANCING",type:"boolean",defines:[],editor:{elevated:!0},_offset:10},{name:"USE_BATCHING",type:"boolean",defines:["!USE_INSTANCING"],editor:{elevated:!0},_offset:11},{name:"USE_LIGHTMAP",type:"boolean",defines:["USE_INSTANCING"],_offset:12}],name:"../cinestation/examples/art/Shaders/View|view-vs:vert|view-fs:frag"}]});n._RF.pop()}}}));

System.register("chunks:///_virtual/elementAt.ts",["cc","./ArgumentOutOfRangeError.ts","./filter.ts","./throwIfEmpty.ts","./defaultIfEmpty.ts","./take.ts"],(function(t){"use strict";var n,e,r,u,f,i;return{setters:[function(t){n=t.cclegacy},function(t){e=t.ArgumentOutOfRangeError},function(t){r=t.filter},function(t){u=t.throwIfEmpty},function(t){f=t.defaultIfEmpty},function(t){i=t.take}],execute:function(){t("elementAt",(function(t,n){if(t<0)throw new e;var c=arguments.length>=2;return function(o){return o.pipe(r((function(n,e){return e===t})),i(1),c?f(n):u((function(){return new e})))}})),n._RF.push({},"6daffKPpRBNGL0BUPfrihKn","elementAt",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/empty.ts",["cc","./Observable2.ts"],(function(e){"use strict";var t,n;return{setters:[function(e){t=e.cclegacy},function(e){n=e.Observable}],execute:function(){e("empty",(function(e){return e?function(e){return new n((function(t){return e.schedule((function(){return t.complete()}))}))}(e):u})),t._RF.push({},"d3ddfuOCVFForiQqtbJcuXO","empty",void 0);var u=e("EMPTY",new n((function(e){return e.complete()})));t._RF.pop()}}}));

System.register("chunks:///_virtual/EmptyError.ts",["cc","./createErrorClass.ts"],(function(r){"use strict";var t,e;return{setters:[function(r){t=r.cclegacy},function(r){e=r.createErrorClass}],execute:function(){t._RF.push({},"bb3aaTFpLNLBq0tXFAvi6KB","EmptyError",void 0);r("EmptyError",e((function(r){return function(){r(this),this.name="EmptyError",this.message="no elements in sequence"}})));t._RF.pop()}}}));

System.register("chunks:///_virtual/en.ts",["cc"],(function(e){"use strict";var i;return{setters:[function(e){i=e.cclegacy}],execute:function(){i._RF.push({},"dc878MJNC9BSq0rgTm+43OI","en",void 0);var n=window,t=e("languages",{_:{f:"F",sn:"Level {}",wait:"Please wait..."},waitingp:{label:"Loading"},bup:{title:"Facility Unlock",tip:"Unlock the facility now for free",nexttime:"Next Time",unlock:"Unlock"},ccp:{highreward:"JACKPOT",ccb:"BOX",cancel:"No,thanks"},gsp:{tip:"Click Start"},gpp:{title:"More Vis",inf:"Vigor+∞({})",addps:"+{}Vigor",infnow:"+∞"},lp:{start:"Start"},losep:{title:"Failure",back:"Back",retry:"Retry"},lsp:{title:"Lucky Skin",conceal:"Hidden Skin",get:"Get",giveup:"Give Up",tip:"Miss may never again！"},mmp:{task:"Task",skin:"Skin",infps:"Energy+∞",home:"Home"},ohcp:{title:"BOX",openfor:"Turn on Get",next:"Give Up",unlock:"Get"},tool:{id1:{name:"Shuriken",des:"3 shurikens,kill the enemy"},id2:{name:"Speed up",des:"Within {0} levels,speed increases"},id3:{name:"Cloaking",des:"Gain Cloaking at the current level"}},sp:{title:"Options",bgm:"BGM",sfx:"SFX"},skinp:{skin:"Skin",random:"Get"},tp:{stage:"Clear",home:"Home",sign:"Sign in"},tsi:{claim:"Claim",resign:"Re-sign",day:"Day {}"},task:{id0:{text:"Leave {0}"},id1:{text:"{0} buildings unlocked"}},tutorialp:{label:"Hold and slide"},wp:{title:"SUCCESS",luckySkin:"Lucky Skin",share:"Share"},f:{coinnotenough:"Gold coin shortage",sharesuc:"Share success",sharefail:"Share failure",adholder:"Success!",complete:"Clear",extragold:"{}gold cards left",goldnotenough:"There are not enough gold cards",alreadyinfps:"Void",fullps:"Vigor are full",claimsucc:"Successful claim",recerr:"Error recording",recshort:"Too short video"}});n.languages||(n.languages={}),n.languages.en=t,i._RF.pop()}}}));

System.register("chunks:///_virtual/endWith.ts",["cc","./concat2.ts","./of.ts"],(function(t){"use strict";var n,c,e;return{setters:[function(t){n=t.cclegacy},function(t){c=t.concat},function(t){e=t.of}],execute:function(){t("endWith",(function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(t){return c(t,e.apply(void 0,n))}})),n._RF.push({},"f318eyaPFtJBLJDm3rwlF7c","endWith",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/Enemy.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./GameConfig.ts","./Enums.ts","./ReactiveProperty.ts","./PathPoint.ts","./BaseView.ts","./ReactiveCommand.ts","./CreatorSchedule.ts","./Observable2.ts","./utils.ts","./BundleAssetsManager.ts","./TweenStart.ts","./UserDataManager.ts","./DataManager.ts","./index.ts","./CommonObservable.ts","./concat2.ts"],(function(t){"use strict";var e,a,i,n,r,s,o,l,u,h,c,d,p,y,g,m,P,v,f,_,b,D,S,z,T,x,C,I,k,R,w,W,E,B,N,F,L,V,O;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,o=t.v3,l=t.quat,u=t.Node,h=t.Enum,c=t.find,d=t.RigidBody,p=t.Vec3,y=t.Quat,g=t.geometry,m=t.PhysicsSystem,P=t.instantiate,v=t.isValid},function(t){f=t.gm},function(t){_=t.GameConfig},function(t){b=t.PatrolType,D=t.EndTurnDirection,S=t.EnemyStatus,z=t.GameStatus,T=t.PrewarPropId},function(t){x=t.ReactiveProperty},function(t){C=t.PathPoint},function(t){I=t.BaseView},function(t){k=t.ReactiveCommand},function(t){R=t.IntervalStartNow,w=t.Timer},function(t){W=t.Observable},function(t){E=t.nullifySubscription},function(t){B=t.bam},function(t){N=t.TweenToStart},function(t){F=t.udm},function(t){L=t.dm},null,function(t){V=t.instantFunc},function(t){O=t.concat}],execute:function(){var M,G,A,q,U,J,K,X,Y,j,H;r._RF.push({},"644cdvPPrVGO6qMXa6JVPXJ","Enemy",void 0);var Q=s.ccclass,Z=s.property,$=(s.menu,o()),tt=o(),et=l(),at=l();t("Enemy",(M=Q("Enemy"),G=Z(u),A=Z({type:h(b)}),q=Z({type:h(D)}),M((K=e((J=function(t){function e(){for(var e,a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return e=t.call.apply(t,[this].concat(r))||this,i(e,"pathNode",K,n(e)),i(e,"patrolType",X,n(e)),e.patrolTypeBak=b.PingPong,i(e,"endTurnDirection",Y,n(e)),i(e,"patrolSpeed",j,n(e)),i(e,"firstDelay",H,n(e)),e._meshNode=null,e._rigidBody=null,e._sphereCollider=null,e._coneCollider=null,e._detector=null,e._dizz=null,e.paths=null,e.pathsBak=null,e.enemyStatus=x.Create(S.Empty),e.targetPathIdx=x.Create(0),e.targetPathIdxBak=0,e.curPathIdx=x.Create(null),e.curFirstWait=x.Create(0),e.curPreWait=x.Create(1/0),e.curPostWait=x.Create(0),e.curDizzWait=x.Create(0),e.patrolPause=x.Create(!1),e.arrivedEndPointCommand=k.Create(),e._lastPreDelay=null,e._lastPostDelay=null,e._pingpong_reverse=!1,e._pingpong_reverse_bak=!1,e._pingpong_end=!1,e._pingpong_end_bak=!1,e._pingpong_cur_loop=0,e._mask=0,e._radius=3,e._dart_flying=!1,e._eshock_sub=null,e._eshockNode=null,e}a(e,t);var r=e.prototype;return r.willBind=function(){this._meshNode=c("mesh",this.node),this._dizz=c("dizz",this.node),this._rigidBody=this.getComponent(d),this._detector=c("mesh/DetectorEx",this.node),this.initPath()},r.onDestroyView=function(){E.call(this,"_eshock_sub")},r.initPath=function(){if(!CC_EDITOR){var t=this.pathNode;null==t&&(t=c("path",this.node)),this.refreshPath(t)}},r.refreshPath=function(t,e){if(void 0===e&&(e=!1),null==t)this.paths=[{preDelay:0,pos:o(this.node.worldPosition),postDelay:0}],e||(this.pathsBak=[this.paths[0]]);else{var a=t.getComponent(C).getPathPointInfo();this.paths=[a],e||(this.pathsBak=[a]);for(var i=0;i<t.children.length;i++){var n=t.children[i].getComponent(C).getPathPointInfo();this.paths.push(n),e||this.pathsBak.push(n)}e||t.destroy()}},r.useObserves=function(){var t=this;return[f.gameStatus.subscribe((function(e){f.gameStatus.value==z.StartPause&&(t._detector.active=!0),f.gameStatus.value==z.Playing&&(t.enemyStatus.value=S.Patrol)})),this.enemyStatus.subscribe((function(e){f.gameStatus.value!=z.StartPause&&(t._detector.active=[S.Patrol,S.FaceToPlayer].includes(e),t._dizz.active=e==S.Dizz),t.enemyStatus.value==S.Dead&&($.set(t._rigidBody.angularFactor),$.x=1,$.z=1,t._rigidBody.angularFactor=$)})),this.targetPathIdx.subscribePairWise((function(e){t.curPathIdx.value=e[0],t.patrolType==b.PingPong?0==t.curPathIdx.value&&(t._pingpong_cur_loop++,t._pingpong_cur_loop%2==0&&t.arrivedEndPointCommand.execute()):t.patrolType==b.Once&&t.curPathIdx.value==t.paths.length-1&&t.arrivedEndPointCommand.execute()})),R(.2,this.node).subscribe((function(e){t.refreshRayToPlayer()}))]},r.start=function(){},r.nextTargetPathIdx=function(){if(1==this.paths.length)return 0;switch(this.patrolType){case b.Loop:return(this.targetPathIdx.value+1)%this.paths.length;case b.PingPong:if(this._pingpong_reverse){var t=this.targetPathIdx.value-1;return t<=0?(this._pingpong_reverse=!1,this._pingpong_end=!0):this._pingpong_end=!1,t}var e=this.targetPathIdx.value+1;return e>=this.paths.length-1?(this._pingpong_reverse=!0,this._pingpong_end=!0):this._pingpong_end=!1,e;case b.Once:return this.targetPathIdx.value==this.paths.length-1?this.targetPathIdx.value:this.targetPathIdx.value+1}},r.update=function(t){if(this.enemyStatus.value==S.Patrol){if(this.patrolPause.value)return;if(this.patrolType==b.Lazy)return;if(this.curFirstWait.value<this.firstDelay)this.curFirstWait.value+=t;else{var e=this.paths[this.targetPathIdx.value];$.set(e.pos),$.y=0,this.node.getWorldPosition(tt),tt.y=0;var a=!1;if(p.distance($,tt)<.1){this._lastPreDelay=e.preDelay,this._lastPostDelay=e.postDelay,this._pingpong_end&&(this.endTurnDirection==D.Left?this._rigidBody.applyLocalTorque(o(0,3,0)):this.endTurnDirection==D.Right&&this._rigidBody.applyLocalTorque(o(0,-3,0)));var i=this.targetPathIdx.value;this.targetPathIdx.value=this.nextTargetPathIdx(),a=i==this.targetPathIdx.value,this.curPreWait.value=0,this.curPostWait.value=0,e=this.paths[this.targetPathIdx.value]}if(a)0==this.targetPathIdx.value&&(et.set(y.IDENTITY),this._meshNode.getRotation(at),at.slerp(et,_.enemyRotateLerpRatio),this._meshNode.setRotation(at));else if(this.curPreWait.value<this._lastPreDelay)this.curPreWait.value+=t;else if($.set(e.pos.x-tt.x,0,e.pos.z-tt.z),$.normalize().multiplyScalar(_.enemyMoveImpulse*t),tt.set($).normalize(),y.fromViewUp(et,tt,o(0,1,0)),this._meshNode.getWorldRotation(at),at.slerp(et,_.enemyRotateLerpRatio),this._meshNode.setWorldRotation(at),this.curPostWait.value<this._lastPostDelay)this.curPostWait.value+=t;else{this._rigidBody.applyImpulse($,o(0,-.01,0)),this._rigidBody.getLinearVelocity($);var n=$.y;$.y=0;var r=$.length(),s=this.patrolSpeed;r>s&&($.multiplyScalar(s/r),$.y=n,this._rigidBody.setLinearVelocity($))}}}else this.enemyStatus.value==S.Dizz?(this.curDizzWait.value+=t,this.curDizzWait.value>=_.enemyDizzTime&&(this.enemyStatus.value=S.Patrol)):this.enemyStatus.value==S.FaceToPlayer&&(tt.set(f.playerPosCache.value),tt.subtract(this.node.worldPosition),tt.y=0,y.fromViewUp(et,tt),this._meshNode.getWorldRotation(at),at.slerp(et,_.enemyRotateLerpRatio),this._meshNode.setWorldRotation(at))},r.intoDizz=function(){this.enemyStatus.value!=S.Patrol&&this.enemyStatus.value!=S.Dizz||(this.enemyStatus.value=S.Dizz,this.curDizzWait.value=0)},r.intoFaceToPlayer=function(){this.enemyStatus.value==S.Patrol&&(this.enemyStatus.value=S.FaceToPlayer)},r.outFromFaceToPlayer=function(){this.enemyStatus.value==S.FaceToPlayer&&(this.enemyStatus.value=S.Patrol)},r.refreshRayToPlayer=function(){var t,a;if(this.enemyStatus.value!=S.Dead&&null!=(t=null==(a=F.pp.value[T.Kill])?void 0:a.remain)&&t){this.node.getWorldPosition($);var i=new g.Ray($.x,$.y,$.z);if(g.Ray.fromPoints(i,f.playerPosCache.value,$),this._mask=_.masks.WALL|_.masks.DOOR|_.masks.ENEMY,m.instance.raycastClosest(i,this._mask,this._radius)){var n=m.instance.raycastClosestResult;if(f.gameStatus.value!=z.StartPause){var r=n.collider.getComponent(e);r&&(this.log("@小于触发距离",this._radius),this._dart_flying||(L.decreaseProp(T.Kill),this.makeDartAnim().subscribe((function(t){r.enemyStatus.value=S.Dead,p.random($,30),r.getComponent(d).applyTorque($)}))))}}}},r.makeDartAnim=function(){var t=this;return new W((function(e){t._dart_flying=!0;var a=P(B.prefabs.Dart);a.setParent(f.curStage.node),a.setWorldPosition(f.playerPosCache.value);var i=N(a,.2,{worldPosition:t.node.worldPosition}).subscribe({complete:function(){t._dart_flying=!1,a.destroy(),e.next(null),e.complete()}});return function(){return i.unsubscribe()}}))},r.addEShockEffect=function(){var t=this;E.call(this,"_eshock_sub"),this._eshock_sub=O(B.loadGamePrefabs("Particles/EShock",(function(){for(var e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];var n=a[0],r=a[1];t.log("load game prefabs",n,r)})),V((function(){var e=B.getGamePrefab("EShock");t._eshockNode=P(e),t._meshNode.addChild(t._eshockNode)})),w(2,this.node),V((function(){v(t._eshockNode)&&t._eshockNode.destroy()}))).subscribe()},e}(I)).prototype,"pathNode",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(J.prototype,"patrolType",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.PingPong}}),Y=e(J.prototype,"endTurnDirection",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return D.Empty}}),j=e(J.prototype,"patrolSpeed",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),H=e(J.prototype,"firstDelay",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),U=J))||U));r._RF.pop()}}}));

System.register("chunks:///_virtual/Enums.ts",["cc"],(function(e){"use strict";var t,i;return{setters:[function(e){t=e.cclegacy,i=e.Enum}],execute:function(){var n,a,o,r,s,u,c,d,y,m,S,l,p,T,P,g;e({EndTurnDirection:void 0,EnemyStatus:void 0,FlowStatus:void 0,GameResult:void 0,GameStatus:void 0,NpcStatus:void 0,PatrolType:void 0,PrewarPropId:void 0,SkinTab:void 0,SkinType:void 0,TaskHomeStatus:void 0,TaskSignStatus:void 0,TaskStageStatus:void 0,TaskTab:void 0,TriggerInfoType:void 0,TriggerType:void 0}),t._RF.push({},"00f59yEG+FN5Z01Le90Xs3q","Enums",void 0),function(e){e[e.Empty=0]="Empty",e[e.Logo=1]="Logo",e[e.Menu=2]="Menu",e[e.StageSelect=3]="StageSelect",e[e.Prewar=4]="Prewar",e[e.Game=5]="Game",e[e.Win=6]="Win",e[e.Lose=7]="Lose"}(n||(n=e("FlowStatus",{}))),i(n),function(e){e[e.Empty=0]="Empty",e[e.Prestart=1]="Prestart",e[e.StartPause=2]="StartPause",e[e.Playing=3]="Playing",e[e.Win=4]="Win",e[e.Lose=5]="Lose"}(a||(a=e("GameStatus",{}))),function(e){e[e.Empty=0]="Empty",e[e.Win=1]="Win",e[e.Lose=2]="Lose"}(o||(o=e("GameResult",{}))),function(e){e[e.Empty=0]="Empty",e[e.Patrol=1]="Patrol",e[e.Dizz=2]="Dizz",e[e.Dead=3]="Dead",e[e.FaceToPlayer=4]="FaceToPlayer"}(r||(r=e("EnemyStatus",{}))),function(e){e[e.Empty=0]="Empty",e[e.Patrol=1]="Patrol",e[e.Dizz=2]="Dizz",e[e.Dead=3]="Dead",e[e.FaceToPlayer=4]="FaceToPlayer"}(s||(s=e("NpcStatus",{}))),function(e){e[e.PingPong=0]="PingPong",e[e.Loop=1]="Loop",e[e.Once=2]="Once",e[e.Lazy=3]="Lazy"}(u||(u=e("PatrolType",{}))),i(u),function(e){e[e.Empty=0]="Empty",e[e.Left=1]="Left",e[e.Right=2]="Right"}(c||(c=e("EndTurnDirection",{}))),i(c),function(e){e[e.Once=0]="Once",e[e.EveryEnter=1]="EveryEnter",e[e.EveryExit=2]="EveryExit"}(d||(d=e("TriggerType",{}))),i(d),function(e){e[e.Delay=0]="Delay",e[e.MakeAFace=1]="MakeAFace",e[e.FaceToPlayer=2]="FaceToPlayer",e[e.Jump=3]="Jump",e[e.Pause=4]="Pause",e[e.Resume=5]="Resume",e[e.NewPathTime=6]="NewPathTime",e[e.NewPathArrived=7]="NewPathArrived"}(y||(y=e("TriggerInfoType",{}))),i(y),function(e){e[e.Kill=1]="Kill",e[e.Speed=2]="Speed",e[e.Invisable=3]="Invisable"}(m||(m=e("PrewarPropId",{}))),i(m),function(e){e[e.AdSkin=0]="AdSkin",e[e.LuckySkin=1]="LuckySkin",e[e.ChestSkin=2]="ChestSkin"}(S||(S=e("SkinType",{}))),i(S),function(e){e[e.Skin=0]="Skin",e[e.Trail=1]="Trail"}(l||(l=e("SkinTab",{}))),i(l),function(e){e[e.Stage=0]="Stage",e[e.Home=1]="Home",e[e.Sign=2]="Sign"}(p||(p=e("TaskTab",{}))),i(p),function(e){e[e.Future=0]="Future",e[e.Today=1]="Today",e[e.Missed=2]="Missed",e[e.Completed=3]="Completed"}(T||(T=e("TaskSignStatus",{}))),i(T),function(e){e[e.Unfinished=0]="Unfinished",e[e.Unclaimed=1]="Unclaimed",e[e.Completed=2]="Completed"}(P||(P=e("TaskStageStatus",{}))),i(P),function(e){e[e.Unfinished=0]="Unfinished",e[e.Unclaimed=1]="Unclaimed",e[e.Completed=2]="Completed"}(g||(g=e("TaskHomeStatus",{}))),i(g),t._RF.pop()}}}));

System.register("chunks:///_virtual/errorContext.ts",["cc","./config.ts"],(function(r){"use strict";var e,n;return{setters:[function(r){e=r.cclegacy},function(r){n=r.config}],execute:function(){r({captureError:function(r){n.useDeprecatedSynchronousErrorHandling&&o&&(o.errorThrown=!0,o.error=r)},errorContext:function(r){if(n.useDeprecatedSynchronousErrorHandling){var e=!o;if(e&&(o={errorThrown:!1,error:null}),r(),e){var t=o,c=t.errorThrown,u=t.error;if(o=null,c)throw u}}else r()}}),e._RF.push({},"b380bqROiFGR4K+LSz67dZw","errorContext",void 0);var o=null;e._RF.pop()}}}));

System.register("chunks:///_virtual/errors.ts",["cc","./getXHRResponse.ts","./createErrorClass.ts"],(function(t){"use strict";var r,e,s;return{setters:[function(t){r=t.cclegacy},function(t){e=t.getXHRResponse},function(t){s=t.createErrorClass}],execute:function(){r._RF.push({},"a0292S1dhhJgKSKbMyU0Ovx","errors",void 0);var o=t("AjaxError",s((function(t){return function(t,r,s){var o;this.message=t,this.name="AjaxError",this.xhr=r,this.request=s,this.status=r.status,this.responseType=r.responseType;try{o=e(r)}catch(t){o=r.responseText}this.response=o}})));t("AjaxTimeoutError",function(){function t(t,r){return o.call(this,"ajax timeout",t,r),this.name="AjaxTimeoutError",this}return t.prototype=Object.create(o.prototype),t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/ethanLibs.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"6a9d1osLTpLeoJjRDIeDQDy","ethanLibs",void 0);var s=e("ethanLibs",{version:"1.0.6",lastUpdateAt:new Date("2023/04/28")});console.log("ethanLibs. "+s.version+" "+s.lastUpdateAt),t._RF.pop()}}}));

System.register("chunks:///_virtual/every.ts",["cc","./lift.ts","./OperatorSubscriber.ts"],(function(e){"use strict";var t,r,c;return{setters:[function(e){t=e.cclegacy},function(e){r=e.operate},function(e){c=e.createOperatorSubscriber}],execute:function(){e("every",(function(e,t){return r((function(r,n){var u=0;r.subscribe(c(n,(function(c){e.call(t,c,u++,r)||(n.next(!1),n.complete())}),(function(){n.next(!0),n.complete()})))}))})),t._RF.push({},"0ea1eZnypJHyaHHO7dReb+E","every",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/executeSchedule.ts",["cc"],(function(e){"use strict";var u;return{setters:[function(e){u=e.cclegacy}],execute:function(){e("executeSchedule",(function(e,u,c,t,i){void 0===t&&(t=0);void 0===i&&(i=!1);var n=u.schedule((function(){c(),i?e.add(this.schedule(null,t)):this.unsubscribe()}),t);if(e.add(n),!i)return n})),u._RF.push({},"e51086eqeVLvbDE5DWIJ/42","executeSchedule",void 0),u._RF.pop()}}}));

System.register("chunks:///_virtual/exhaust.ts",["cc","./exhaustAll.ts"],(function(t){"use strict";var e,s;return{setters:[function(t){e=t.cclegacy},function(t){s=t.exhaustAll}],execute:function(){e._RF.push({},"63ab24msAZF6JPoxxDp4KiH","exhaust",void 0);t("exhaust",s);e._RF.pop()}}}));

System.register("chunks:///_virtual/exhaustAll.ts",["cc","./exhaustMap.ts","./identity.ts"],(function(t){"use strict";var e,u,n;return{setters:[function(t){e=t.cclegacy},function(t){u=t.exhaustMap},function(t){n=t.identity}],execute:function(){t("exhaustAll",(function(){return u(n)})),e._RF.push({},"bd0823xXmlMoLYO37lcADBi","exhaustAll",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/exhaustMap.ts",["cc","./map.ts","./innerFrom.ts","./lift.ts","./OperatorSubscriber.ts"],(function(t){"use strict";var n,e,r,u,c;return{setters:[function(t){n=t.cclegacy},function(t){e=t.map},function(t){r=t.innerFrom},function(t){u=t.operate},function(t){c=t.createOperatorSubscriber}],execute:function(){t("exhaustMap",(function t(n,i){if(i)return function(u){return u.pipe(t((function(t,u){return r(n(t,u)).pipe(e((function(n,e){return i(t,n,u,e)})))})))};return u((function(t,e){var u=0,i=null,o=!1;t.subscribe(c(e,(function(t){i||(i=c(e,void 0,(function(){i=null,o&&e.complete()})),r(n(t,u++)).subscribe(i))}),(function(){o=!0,!i&&e.complete()})))}))})),n._RF.push({},"37307y2hGBLwraRSf6hwoQ4","exhaustMap",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/Exit.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts","./AnimationPlay.ts","./utils.ts","./ReactiveProperty.ts","./DataManager.ts","./BundleAssetsManager.ts","./GameManager.ts","./DataConfig.ts"],(function(n){"use strict";var i,e,t,s,a,r,o,u,l,c,h,f,b,p,g,m,v,y;return{setters:[function(n){i=n.applyDecoratedDescriptor,e=n.inheritsLoose,t=n.initializerDefineProperty,s=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,o=n.Node,u=n.find,l=n.Animation,c=n.instantiate},function(n){h=n.BaseView},function(n){f=n.AnimationPlay},function(n){b=n.nullifySubscription},function(n){p=n.ReactiveProperty},function(n){g=n.dm},function(n){m=n.bam},function(n){v=n.gm},function(n){y=n.DevConfig}],execute:function(){var d,k,_,C,x;a._RF.push({},"820daTVLsBK3LRO/acawHaL","Exit",void 0);var N=r.ccclass,S=r.property;n("Exit",(d=N("Exit"),k=S(o),d((x=i((C=function(n){function i(){for(var i,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return(i=n.call.apply(n,[this].concat(a))||this)._playerContainer=null,t(i,"bossMeshContainer",x,s(i)),i.skinNum=p.Create(null),i._sub=null,i._changeSkinSub=null,i}e(i,n);var a=i.prototype;return a.willBind=function(){this._playerContainer=u("playerContainer",this.node)},a.useObserves=function(){var n=this;return[this.skinNum.subscribe(this.skinNumChanged.bind(this)),v.stageInfo.subscribe((function(i){if(!y.isEditor){var e=g.xlsx.Level.index[i.stageNum].BossSkinID;null!=g.xlsx.Skin.index[e]&&(n.skinNum.value=e)}}))]},a.onDestroyView=function(){b.call(this,"_sub")},a.trigger=function(){if(b.call(this,"_sub"),null==this.skinNum.value){var n=this._playerContainer.getComponent(l);this._sub=f(n,"player_exit").subscribe()}else{var i=this.getComponent(l);this._sub=f(i,"player_exit_boss").subscribe()}},a.skinNumChanged=function(){var n=this;if(this.log("changeSkinNum",this.skinNum.value),b.call(this,"_changeSkinSub"),this.bossMeshContainer.destroyAllChildren(),null!=this.skinNum.value){var i=g.playerSkinNumToSkinKey(this.skinNum.value);this._changeSkinSub=m.loadGamePrefabs("GameObjects/player/"+i,(function(){for(var i=arguments.length,e=new Array(i),t=0;t<i;t++)e[t]=arguments[t];var s=e[0],a=e[1];n.log("load game prefabs",s,a)})).subscribe((function(e){var t=m.getGamePrefab(i);n.bossMeshContainer.addChild(c(t))}))}},i}(h)).prototype,"bossMeshContainer",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=C))||_));a._RF.pop()}}}));

System.register("chunks:///_virtual/ExitStep.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var t,r,i,s,n,o,a,l,c,u,p,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,s=e.assertThisInitialized,n=e.createClass},function(e){o=e.cclegacy,a=e._decorator,l=e.v4,c=e.color,u=e.MeshRenderer,p=e.Color,h=e.Component}],execute:function(){var y,f,m;o._RF.push({},"b984bVOPIJEcrQE5UIDm56o","ExitStep",void 0);var v=a.ccclass,_=a.property,d=l(),g=c();e("ExitStep",v("ExitStep")((m=t((f=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,i(t,"_shineValue",m,s(t)),t._meshRenderer=null,t.emissive0=c(0,0,0),t.emissive1=c(85,48,48),t}return r(t,e),t.prototype.refresh=function(){null==this._meshRenderer&&(this._meshRenderer=this.getComponent(u));var e=this._meshRenderer.getMaterialInstance(0);p.lerp(g,this.emissive0,this.emissive1,this.shineValue),d.x=g.r/255,d.y=g.g/255,d.z=g.b/255,d.w=1,e.setProperty("emissive",d)},n(t,[{key:"shineValue",get:function(){return this._shineValue},set:function(e){this._shineValue=e,this.refresh()}}]),t}(h)).prototype,"_shineValue",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),t(f.prototype,"shineValue",[_],Object.getOwnPropertyDescriptor(f.prototype,"shineValue"),f.prototype),y=f))||y);o._RF.pop()}}}));

System.register("chunks:///_virtual/expand.ts",["cc","./lift.ts","./mergeInternals.ts"],(function(n){"use strict";var t,e,r;return{setters:[function(n){t=n.cclegacy},function(n){e=n.operate},function(n){r=n.mergeInternals}],execute:function(){n("expand",(function(n,t,c){void 0===t&&(t=1/0);return t=(t||0)<1?1/0:t,e((function(e,i){return r(e,i,n,t,void 0,!0,c)}))})),t._RF.push({},"404f87ib+hAm4oxLcI7zaOd","expand",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/Face.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts","./Observable2.ts","./concat2.ts","./BundleAssetsManager.ts","./CommonObservable.ts","./CreatorSchedule.ts","./TweenStart.ts","./GameManager.ts","./AnimationPlay.ts"],(function(n){"use strict";var e,t,a,i,o,r,c,s,u,l,f,d,p,b,m,g,v,y,h,w;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,a=n.initializerDefineProperty,i=n.assertThisInitialized},function(n){o=n.cclegacy,r=n._decorator,c=n.v3,s=n.Node,u=n.Vec3,l=n.Animation,f=n.instantiate},function(n){d=n.BaseView},function(n){p=n.Observable},function(n){b=n.concat},function(n){m=n.bam},function(n){g=n.instantFunc},function(n){v=n.Timer},function(n){y=n.TweenToStart},function(n){h=n.gm},function(n){w=n.AnimationPlay}],execute:function(){var C,S,F,P,O;o._RF.push({},"ce79bFjpBNHDZrOSsLwIyp0","Face",void 0);var A=r.ccclass,k=r.property,B=c();n("Face",(C=A("Face"),S=k(s),C((O=e((P=function(n){function e(){for(var e,t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];return e=n.call.apply(n,[this].concat(o))||this,a(e,"faceContainer",O,i(e)),e.key=0,e.duration=1,e}t(e,n);var o=e.prototype;return o.open=function(n,e){var t=this;this.key=n;var a="face"+n.toString().padStart(3,"0"),i=new p((function(n){var e=b(g((function(){t.node.scale=u.ZERO,t.node.setY(1)})),m.loadGamePrefabs("FaceAnim/"+a,(function(){for(var n=arguments.length,e=new Array(n),a=0;a<n;a++)e[a]=arguments[a];var i=e[0],o=e[1];t.log("load game prefabs",i,o)})),g((function(){var n=m.getGamePrefab(a),e=f(n);e.setParent(t.faceContainer),e.setZ(.01)})),y(t.node,.2,{scale:u.ONE,position:c(t.node.position.x,2,t.node.position.z)},{easing:"backOut"}),g((function(){e.add(w(t.faceContainer.getComponentInChildren(l),"face").subscribe())})),v(t.duration,t.node),y(t.node,.1,{scale:u.ZERO},{easing:"backIn"}),g((function(){t.node.destroy()}))).subscribe();return function(){return e.unsubscribe()}})).subscribe();this.getMainSubscription().add(i)},o.update=function(){h.mainSceneCanvas.mainCamera.node.getWorldPosition(B),B.subtract(this.node.worldPosition),this.node.forward=B.multiplyScalar(-1)},e}(d)).prototype,"faceContainer",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=P))||F));o._RF.pop()}}}));

System.register("chunks:///_virtual/FaceToCamera.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts","./GameManager.ts"],(function(e){"use strict";var t,a,o,r,n,i;return{setters:[function(e){t=e.inheritsLoose},function(e){a=e.cclegacy,o=e._decorator,r=e.v3},function(e){n=e.BaseView},function(e){i=e.gm}],execute:function(){var c;a._RF.push({},"95158llsoVHYbhiIHcUpBr0","FaceToCamera",void 0);var s=o.ccclass,u=(o.property,r());e("FaceToCamera",s("FaceToCamera")(c=function(e){function a(){return e.apply(this,arguments)||this}return t(a,e),a.prototype.update=function(){i.mainSceneCanvas.mainCamera.node.getWorldPosition(u),u.subtract(this.node.worldPosition).multiplyScalar(-1),this.node.forward=u},a}(n))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/Facility.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts","./ReactiveNumber.ts","./BindCollider.ts","./Player.ts","./GameConfig.ts","./DataManager.ts","./ReactiveProperty.ts","./UserDataManager.ts","./GameManager.ts","./utils.ts","./index.ts","./BundleAssetsManager.ts","./CommonObservable.ts","./AnimationPlay.ts","./CreatorSchedule.ts","./i18n.ts","./concat2.ts","./LanguageData.ts"],(function(e){"use strict";var i,t,n,o,r,s,l,a,u,d,c,g,h,b,f,p,v,y,m,D,C,I,P,_,w,B,x,N,A,T,R,F;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,r=e.createClass},function(e){s=e.cclegacy,l=e._decorator,a=e.v3,u=e.ProgressBar,d=e.Node,c=e.Label,g=e.Collider,h=e.instantiate,b=e.Vec3,f=e.Animation,p=e.isValid},function(e){v=e.BaseView},function(e){y=e.ReactiveNumber},function(e){m=e.BindColliderTrigger},function(e){D=e.Player},function(e){C=e.GameConfig},function(e){I=e.dm},function(e){P=e.ReactiveProperty},function(e){_=e.udm},function(e){w=e.gm},function(e){B=e.nullifySubscription},null,function(e){x=e.bam},function(e){N=e.instantFunc},function(e){A=e.AnimationPlay},function(e){T=e.Timer},null,function(e){R=e.concat},function(e){F=e.t}],execute:function(){var z,M,O,S,k,E,V,U,W,L,j,G,q,H,Q,Y,Z,J,K,X,$;s._RF.push({},"97291TIEQpAnaY/OpymSR3j","Facility",void 0);var ee=l.ccclass,ie=l.property,te=l.executeInEditMode,ne=a(),oe=a();e("Facility",(z=ee("Facility"),M=ie(y),O=ie(y),S=ie({slide:!0,range:[0,1,.01]}),k=ie(u),E=ie(d),V=ie(d),U=ie(d),W=ie(c),L=ie(d),z(j=te((q=i((G=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return i=e.call.apply(e,[this].concat(r))||this,n(i,"moveAwayDistance",q,o(i)),n(i,"_buildingID",H,o(i)),n(i,"_chooseProgress",Q,o(i)),i.emptyWaitTime=0,i.adUnlock=P.Create(!1),i.userCost=P.Create(0),i.showBuilding=P.Create(!1),n(i,"progressBar",Y,o(i)),n(i,"layoutAdNode",Z,o(i)),n(i,"layoutCoinNode",J,o(i)),n(i,"layoutNeedPre",K,o(i)),n(i,"needCoinLabel",X,o(i)),n(i,"rootNode",$,o(i)),i._collider=null,i.entered=!1,i._sub_show_building=null,i}t(i,e);var s=i.prototype;return s.willBind=function(){this._collider=this.getComponent(g),this._buildingID.loadValue()},s.useObserves=function(){var e=this;return[this._chooseProgress.subscribe((function(i){e.progressBar.progress=i})),this.adUnlock.subscribe((function(i){e.layoutAdNode.active=i,e.layoutCoinNode.active=!i})),this._buildingID.subscribe((function(i){CC_EDITOR||(e.refresh(),e.refreshProgress())})),this.userCost.subscribe((function(i){var t;if(!CC_EDITOR){var n=I.xlsx.Building.index[e.buildingID],o=_.building.value[e.buildingID];e.needCoinLabel.string=""+(n.Cost-(null!=(t=null==o?void 0:o.cost)?t:0))}})),this.showBuilding.subscribeUntilChanged(this.showBuildingChanged.bind(this)),w.refreshBuildingIDCommand.subscribe((function(i){return e.refresh()}))]},s.refreshProgress=function(){var e=I.xlsx.Building.index[this.buildingID],i=_.building.value[this.buildingID];if(0==e.Cost)this.chooseProgress=0;else{var t,n=(null!=(t=null==i?void 0:i.cost)?t:0)/e.Cost;this.chooseProgress=n}},s.refresh=function(){var e;if(!CC_EDITOR){var i=I.xlsx.Building.index[this.buildingID];this.adUnlock.value=!(i.Cost>0);var t=_.building.value[this.buildingID];this.userCost.value=null!=(e=null==t?void 0:t.cost)?e:0,this.showBuilding.value=(null==t?void 0:t.got)>=1,this.showBuilding.value&&(this.layoutAdNode.active=!1,this.layoutCoinNode.active=!1,this.progressBar.node.active=!1,this._collider.enabled=!1),this.preForbid()?(this.layoutAdNode.active=!1,this.layoutCoinNode.active=!1,this.layoutNeedPre.active=!0):this.layoutNeedPre.active=!1}},s.preForbid=function(){var e,i=I.xlsx.Building.index[this.buildingID];return null!=i.PreID&&!((null==(e=_.building.value[i.PreID])?void 0:e.got)>0)},s.start=function(){var e=this;this.getMainSubscription().add(m(this._collider).subscribe((function(i){var t=i.event.otherCollider.node.getComponent(D);if(null!=t){t._rigidBody.getLinearVelocity(ne);var n=ne.lengthSqr();if("onTriggerEnter"==i.event.type){var o=_.building.value[e.buildingID];e.preForbid()||(null==o?void 0:o.got)>0||(e.entered=!0)}else"onTriggerStay"==i.event.type?n<.01&&e.entered&&e.progressIncrease():"onTriggerExit"==i.event.type&&(e.entered=!1,e.adUnlock.value&&(e.chooseProgress=0),e.emptyWaitTime=0,_.save())}})))},s.progressIncrease=function(){if(this.emptyWaitTime<=.2)this.emptyWaitTime+=C.FacilityProgressIncreaseSpeed;else{var e=I.xlsx.Building.index[this.buildingID],i=_.building.value[this.buildingID];null==i&&(i={cost:0,got:0},_.building.value[this.buildingID]=i);var t=Math.min(this.chooseProgress+C.FacilityProgressIncreaseSpeed,1);if(this.adUnlock.value)this.chooseProgress=t;else{null==_.building.value[this.buildingID]&&(_.building.value[this.buildingID]={cost:0,got:0});var n=Math.floor(t*e.Cost)-i.cost;_.coin.value>=n?(i.cost+=n,_.coin.value-=n,this.chooseProgress=t,this.refresh()):(this.entered=!1,this.emptyWaitTime=0,_.save(),w.frontTipShow(F("f.coinnotenough")).subscribe())}t>=1&&this.complete()}},s.complete=function(){this.entered=!1,this.emptyWaitTime=0,this.adUnlock.value?(w.choosedBuildingID.value=this.buildingID,w.buildingUnlockEnabled.value=!0):(_.building.value[this.buildingID].got=1,_.building.again(),_.save(),w.refreshBuildingIDCommand.execute({buildingID:this.buildingID}),this.refresh())},s.showBuildingChanged=function(){var e=this;if(!CC_EDITOR){var i=I.xlsx.Building.index[this.buildingID];B.call(this,"_sub_show_building"),this.rootNode.destroyAllChildren(),this.showBuilding.value&&(this._sub_show_building=R(x.loadGamePrefabs("FacilityModel/"+i.Model,(function(){for(var i=arguments.length,t=new Array(i),n=0;n<i;n++)t[n]=arguments[n];var o=t[0],r=t[1];e.log("load game prefabs",o,r)})),N((function(){e.moveAwayPlayer();var t=h(x.prefabs[i.Model]);e.rootNode.addChild(t),t.setScale(b.ZERO),e._sub_show_building.add(A(t.getComponent(f),"building-common-in").subscribe())})),T(2,this.node)).subscribe())}},s.moveAwayPlayer=function(){null!=w.gameRoot3D.player&&p(w.gameRoot3D.player.node)&&(w.gameRoot3D.player.node.getWorldPosition(ne),this.node.getWorldPosition(oe),ne.y=0,oe.y=0,b.distance(ne,oe)<this.moveAwayDistance&&(ne.z+=this.moveAwayDistance,w.gameRoot3D.player.node.setWorldPosition(ne)))},r(i,[{key:"buildingID",get:function(){return this._buildingID.value},set:function(e){this._buildingID.Value=e,this.refresh()}},{key:"chooseProgress",get:function(){return this._chooseProgress.value},set:function(e){this._chooseProgress.Value=e}}]),i}(v)).prototype,"moveAwayDistance",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3.5}}),H=i(G.prototype,"_buildingID",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.DefaultValue(0)}}),i(G.prototype,"buildingID",[ie],Object.getOwnPropertyDescriptor(G.prototype,"buildingID"),G.prototype),Q=i(G.prototype,"_chooseProgress",[O],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.DefaultValue(0)}}),i(G.prototype,"chooseProgress",[S],Object.getOwnPropertyDescriptor(G.prototype,"chooseProgress"),G.prototype),Y=i(G.prototype,"progressBar",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=i(G.prototype,"layoutAdNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=i(G.prototype,"layoutCoinNode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),K=i(G.prototype,"layoutNeedPre",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=i(G.prototype,"needCoinLabel",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=i(G.prototype,"rootNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=G))||j)||j));s._RF.pop()}}}));

System.register("chunks:///_virtual/Fan.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enemy.ts","./Player.ts","./ReactiveBoolean.ts","./BaseView.ts","./math.ts","./BindCollider.ts","./GameConfig.ts","./CreatorSchedule.ts","./empty.ts"],(function(e){"use strict";var t,n,r,i,o,s,a,l,c,h,u,p,f,y,d,g,m,b,_,v,E,P,C,w,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized,o=e.createClass},function(e){s=e.cclegacy,a=e._decorator,l=e.v3,c=e.find,h=e.MeshRenderer,u=e.geometry,p=e.PhysicsSystem,f=e.ParticleSystem,y=e.Vec3,d=e.BoxCollider},function(e){g=e.Enemy},function(e){m=e.Player},function(e){b=e.ReactiveBoolean},function(e){_=e.BaseView},function(e){v=e.linear,E=e.linearClamp},function(e){P=e.BindColliderTrigger},function(e){C=e.GameConfig},function(e){w=e.IntervalStartNow},function(e){x=e.EMPTY}],execute:function(){var L,R,O,S,M,D,k,z,B,I;s._RF.push({},"6ae5c7Inu1Ey6mhu8s9Qfls","Fan",void 0);var T=a.ccclass,F=a.property,V=a.executeInEditMode,j=l(),A=l();l(),e("Fan",(L=T("Fan"),R=F(b),L(O=V((M=t((S=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,r(t,"_maxLength",M,i(t)),r(t,"_force",D,i(t)),r(t,"_forcePlayer",k,i(t)),r(t,"_forceEnemy",z,i(t)),r(t,"_boltEnabled",B,i(t)),r(t,"dynamicScope",I,i(t)),t._scopeCubeMeshRender=null,t.oriMaxLength=null,t._mask=null,t._scope=null,t._windPart=null,t._vane=null,t._detector=null,t}n(t,e);var s=t.prototype;return s.willBind=function(){this._mask=C.masks.WALL|C.masks.DOOR,this.oriMaxLength=this.maxLength,null==this._vane&&(this._vane=c("vane",this.node)),null==this._scopeCubeMeshRender&&(this._scopeCubeMeshRender=c("scope/fan_detector",this.node).getComponent(h)),this._scopeCubeMeshRender.enabled=CC_EDITOR,this._boltEnabled.loadValue(),this.refresh()},s.useObserves=function(){var e=this;return[CC_EDITOR||!this.dynamicScope?x.subscribe():w(.5,this.node).subscribe((function(t){e.refreshLength()}))]},s.refreshLength=function(){this.node.getWorldPosition(j);var e=new u.Ray(j.x,j.y,j.z,this.node.right.x,this.node.right.y,this.node.right.z);if(p.instance.raycastClosest(e,this._mask,this.oriMaxLength)){var t=p.instance.raycastClosestResult;this.maxLength=t.distance}else this.maxLength=this.oriMaxLength},s.refresh=function(){null==this._scope&&(this._scope=c("scope",this.node)),null==this._windPart&&(this._windPart=c("windPart",this.node).getComponent(f)),this._scope.getScale(j),j.x=this.maxLength,this._scope.setScale(j);var e=v(1,20,.5,15,this.maxLength);this._windPart.node.setX(e),this._windPart.startSpeed.constant=E(3,9,1.5,6,this.maxLength),j.set(1.4,1.4,v(3,9,1,3,this.maxLength)),this._windPart.shapeModule.scale=j,this._windPart.renderer.lengthScale=v(3,9,25,70,this.maxLength),this.boltEnabled?this._windPart.rateOverTime.constant=5:this._windPart.rateOverTime.constant=0},s.update=function(e){CC_EDITOR?this._vane.setRotationFromEuler(y.ZERO):this.boltEnabled&&(j.set(this._vane.eulerAngles),j.x+=1e3*e,this._vane.setRotationFromEuler(j))},s.start=function(){var e=this;null==this._detector&&(this._detector=c("scope/fan_detector",this.node).getComponent(d)),this.getMainSubscription().add(P(this._detector).subscribe((function(t){if(e.boltEnabled)if("onTriggerEnter"==t.event.type);else if("onTriggerStay"==t.event.type){var n=t.event.otherCollider.attachedRigidBody;if(j.set(e.node.right),null!=t.event.otherCollider.getComponent(m)){j.multiplyScalar(e.forcePlayer),A.set(0,.01,0),n.applyImpulse(j,A);var r=t.event.otherCollider.getComponent(m);r.fanEffectRemain=.2,r.fanEffectDirection.lerp(e.node.right,.1)}else if(null!=t.event.otherCollider.getComponent(g))j.multiplyScalar(e.forceEnemy),A.set(0,.01,0),n.applyImpulse(j,A);else{j.multiplyScalar(e.force),n.getLinearVelocity(A);var i=C.fanMaxVelocity;A.length()>i||n.applyImpulse(j)}}else t.event.type})))},s.triggered=function(){this.boltEnabled=!this.boltEnabled},o(t,[{key:"maxLength",get:function(){return this._maxLength},set:function(e){this._maxLength=e,this.refresh()}},{key:"force",get:function(){return this._force},set:function(e){this._force=e}},{key:"forcePlayer",get:function(){return this._forcePlayer},set:function(e){this._forcePlayer=e}},{key:"forceEnemy",get:function(){return this._forceEnemy},set:function(e){this._forceEnemy=e}},{key:"boltEnabled",get:function(){return this._boltEnabled.value},set:function(e){this._boltEnabled.Value=e,this.refresh()}}]),t}(_)).prototype,"_maxLength",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),t(S.prototype,"maxLength",[F],Object.getOwnPropertyDescriptor(S.prototype,"maxLength"),S.prototype),D=t(S.prototype,"_force",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),t(S.prototype,"force",[F],Object.getOwnPropertyDescriptor(S.prototype,"force"),S.prototype),k=t(S.prototype,"_forcePlayer",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),t(S.prototype,"forcePlayer",[F],Object.getOwnPropertyDescriptor(S.prototype,"forcePlayer"),S.prototype),z=t(S.prototype,"_forceEnemy",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.2}}),t(S.prototype,"forceEnemy",[F],Object.getOwnPropertyDescriptor(S.prototype,"forceEnemy"),S.prototype),B=t(S.prototype,"_boltEnabled",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.DefaultValue(!0)}}),t(S.prototype,"boltEnabled",[F],Object.getOwnPropertyDescriptor(S.prototype,"boltEnabled"),S.prototype),I=t(S.prototype,"dynamicScope",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),O=S))||O)||O));s._RF.pop()}}}));

System.register("chunks:///_virtual/fetch.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OperatorSubscriber.ts","./Observable2.ts","./innerFrom.ts"],(function(e){"use strict";var t,r,n,o,c,i;return{setters:[function(e){t=e.objectWithoutPropertiesLoose,r=e.extends},function(e){n=e.cclegacy},function(e){o=e.createOperatorSubscriber},function(e){c=e.Observable},function(e){i=e.innerFrom}],execute:function(){e("fromFetch",(function(e,n){void 0===n&&(n={});var u=n,a=u.selector,f=t(u,s);return new c((function(t){var n=new AbortController,c=n.signal,s=!0,u=f.signal;if(u)if(u.aborted)n.abort();else{var b=function(){c.aborted||n.abort()};u.addEventListener("abort",b),t.add((function(){return u.removeEventListener("abort",b)}))}var l=r({},f,{signal:c}),v=function(e){s=!1,t.error(e)};return fetch(e,l).then((function(e){a?i(a(e)).subscribe(o(t,void 0,(function(){s=!1,t.complete()}),v)):(s=!1,t.next(e),t.complete())})).catch(v),function(){s&&n.abort()}}))}));var s=["selector"];n._RF.push({},"c2619dq2HJFSZMHZdDDvEd5","fetch",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/filter.ts",["cc","./lift.ts","./OperatorSubscriber.ts"],(function(t){"use strict";var r,e,c;return{setters:[function(t){r=t.cclegacy},function(t){e=t.operate},function(t){c=t.createOperatorSubscriber}],execute:function(){t("filter",(function(t,r){return e((function(e,n){var i=0;e.subscribe(c(n,(function(e){return t.call(r,e,i++)&&n.next(e)})))}))})),r._RF.push({},"6d104PYhohJmrXqKgEZ/WpM","filter",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/finalize.ts",["cc","./lift.ts"],(function(t){"use strict";var e,i;return{setters:[function(t){e=t.cclegacy},function(t){i=t.operate}],execute:function(){t("finalize",(function(t){return i((function(e,i){try{e.subscribe(i)}finally{i.add(t)}}))})),e._RF.push({},"9dfa6zm0lBMeKHsMAddOy3z","finalize",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/find.ts",["cc","./lift.ts","./OperatorSubscriber.ts"],(function(t){"use strict";var e,n,r;return{setters:[function(t){e=t.cclegacy},function(t){n=t.operate},function(t){r=t.createOperatorSubscriber}],execute:function(){function c(t,e,n){var c="index"===n;return function(n,i){var u=0;n.subscribe(r(i,(function(r){var o=u++;t.call(e,r,o,n)&&(i.next(c?o:r),i.complete())}),(function(){i.next(c?-1:void 0),i.complete()})))}}t({createFind:c,find:function(t,e){return n(c(t,e,"value"))}}),e._RF.push({},"594a0Sln0dAVb2OX1e9q7SS","find",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/findIndex.ts",["cc","./lift.ts","./find.ts"],(function(n){"use strict";var e,t,c;return{setters:[function(n){e=n.cclegacy},function(n){t=n.operate},function(n){c=n.createFind}],execute:function(){n("findIndex",(function(n,e){return t(c(n,e,"index"))})),e._RF.push({},"c7c80efuodB8IoKnfusceMw","findIndex",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/first.ts",["cc","./EmptyError.ts","./filter.ts","./take.ts","./defaultIfEmpty.ts","./throwIfEmpty.ts","./identity.ts"],(function(t){"use strict";var n,r,i,e,u,f,c;return{setters:[function(t){n=t.cclegacy},function(t){r=t.EmptyError},function(t){i=t.filter},function(t){e=t.take},function(t){u=t.defaultIfEmpty},function(t){f=t.throwIfEmpty},function(t){c=t.identity}],execute:function(){t("first",(function(t,n){var o=arguments.length>=2;return function(s){return s.pipe(t?i((function(n,r){return t(n,r,s)})):c,e(1),o?u(n):f((function(){return new r})))}})),n._RF.push({},"1b8c85A/vVK05D9omlBxt/w","first",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/firstValueFrom.ts",["cc","./EmptyError.ts","./Subscriber.ts"],(function(r){"use strict";var e,t,n;return{setters:[function(r){e=r.cclegacy},function(r){t=r.EmptyError},function(r){n=r.SafeSubscriber}],execute:function(){r("firstValueFrom",(function(r,e){var u="object"==typeof e;return new Promise((function(c,o){var i=new n({next:function(r){c(r),i.unsubscribe()},error:o,complete:function(){u?c(e.defaultValue):o(new t)}});r.subscribe(i)}))})),e._RF.push({},"6cf6cChnKVMqJ6C2mNoJRvF","firstValueFrom",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/flatMap.ts",["cc","./mergeMap.ts"],(function(t){"use strict";var e,c;return{setters:[function(t){e=t.cclegacy},function(t){c=t.mergeMap}],execute:function(){e._RF.push({},"67b93PO0u1Ke50m+Y95SIzc","flatMap",void 0);t("flatMap",c);e._RF.pop()}}}));

System.register("chunks:///_virtual/Floor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts"],(function(e){"use strict";var t,i,r,o,s,n,a,c,l,p,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,s=e.createClass},function(e){n=e.cclegacy,a=e._decorator,c=e.MeshRenderer,l=e.v4,p=e.color},function(e){u=e.BaseView}],execute:function(){var h,m,f,y;n._RF.push({},"0078d+b3j5GpauMXTzJ8JgI","Floor",void 0);var v=a.ccclass,_=a.property,g=a.executeInEditMode;e("Floor",v("Floor")(h=g((f=t((m=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return t=e.call.apply(e,[this].concat(s))||this,r(t,"_mainColor",f,o(t)),r(t,"_emissive",y,o(t)),t}i(t,e);var n=t.prototype;return n.onLoadView=function(){this.refresh()},n.refresh=function(){var e=this.getComponent(c).getMaterialInstance(0);e.setProperty("mainColor",l(this._mainColor.r/255,this._mainColor.g/255,this._mainColor.b/255,this._mainColor.a/255)),e.setProperty("emissive",l(this.emissive.r/255,this.emissive.g/255,this.emissive.b/255,this.emissive.a/255))},s(t,[{key:"mainColor",get:function(){return this._mainColor},set:function(e){this._mainColor=e,this.refresh()}},{key:"emissive",get:function(){return this._emissive},set:function(e){this._emissive=e,this.refresh()}}]),t}(u)).prototype,"_mainColor",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p()}}),t(m.prototype,"mainColor",[_],Object.getOwnPropertyDescriptor(m.prototype,"mainColor"),m.prototype),y=t(m.prototype,"_emissive",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p()}}),t(m.prototype,"emissive",[_],Object.getOwnPropertyDescriptor(m.prototype,"emissive"),m.prototype),h=m))||h)||h);n._RF.pop()}}}));

System.register("chunks:///_virtual/FloorDoor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts","./math.ts","./index.ts","./utils.ts","./TweenStart.ts","./Observable2.ts"],(function(e){"use strict";var r,t,o,s,i,n,u,c,l,a,p,b,f,h,d;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,s=e.assertThisInitialized,i=e.createClass},function(e){n=e.cclegacy,u=e._decorator,c=e.v3,l=e.Node,a=e.Collider},function(e){p=e.BaseView},function(e){b=e.linear},null,function(e){f=e.nullifySubscription},function(e){h=e.TweenToStart},function(e){d=e.Observable}],execute:function(){var g,y,m,v,_,w,x,D,N;n._RF.push({},"bf958/6PmZDOoXJPAg067KB","FloorDoor",void 0);var F=u.ccclass,T=u.property,z=c();e("FloorDoor",(g=F("FloorDoor"),y=T({slide:!0,range:[0,1,.01]}),m=T(l),v=T(l),g((x=r((w=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];return r=e.call.apply(e,[this].concat(i))||this,o(r,"delay",x,s(r)),r.curTime=0,r.closed=!0,r._progress=0,o(r,"axis0Node",D,s(r)),o(r,"axis1Node",N,s(r)),r._sub=null,r}t(r,e);var n=r.prototype;return n.refresh=function(){z.set(this.axis0Node.eulerAngles),z.z=b(0,1,0,-90,this.progress),this.axis0Node.setRotationFromEuler(z),z.set(this.axis1Node.eulerAngles),z.z=b(0,1,0,90,this.progress),this.axis1Node.setRotationFromEuler(z)},n.triggered=function(){this.open()},n.update=function(e){0==this.closed&&(this.curTime+=e,this.curTime>=this.delay&&this.close())},n.open=function(){var e=this;f.call(this,"_sub"),this.node.getComponentsInChildren(a).forEach((function(e){return e.enabled=!1})),this._sub=new d((function(r){e.curTime=0,e.closed=!1;var t=h(e,.4,{progress:1},{easing:"bounceOut"}).subscribe();return function(){return t.unsubscribe()}})).subscribe()},n.close=function(){var e=this;f.call(this,"_sub"),this.node.getComponentsInChildren(a).forEach((function(e){return e.enabled=!0})),this._sub=new d((function(r){e.closed=!0;var t=h(e,.4,{progress:0},{easing:"bounceOut"}).subscribe();return function(){return t.unsubscribe()}})).subscribe()},i(r,[{key:"progress",get:function(){return this._progress},set:function(e){this._progress=e,this.refresh()}}]),r}(p)).prototype,"delay",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 3}}),r(w.prototype,"progress",[y],Object.getOwnPropertyDescriptor(w.prototype,"progress"),w.prototype),D=r(w.prototype,"axis0Node",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=r(w.prototype,"axis1Node",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=w))||_));n._RF.pop()}}}));

System.register("chunks:///_virtual/forkJoin.ts",["cc","./Observable2.ts","./argsArgArrayOrObject.ts","./innerFrom.ts","./args.ts","./OperatorSubscriber.ts","./mapOneOrManyArgs.ts","./createObject.ts"],(function(r){"use strict";var e,n,t,c,o,i,s,u;return{setters:[function(r){e=r.cclegacy},function(r){n=r.Observable},function(r){t=r.argsArgArrayOrObject},function(r){c=r.innerFrom},function(r){o=r.popResultSelector},function(r){i=r.createOperatorSubscriber},function(r){s=r.mapOneOrManyArgs},function(r){u=r.createObject}],execute:function(){r("forkJoin",(function(){for(var r=arguments.length,e=new Array(r),a=0;a<r;a++)e[a]=arguments[a];var f=o(e),b=t(e),p=b.args,O=b.keys,g=new n((function(r){var e=p.length;if(e)for(var n=new Array(e),t=e,o=e,s=function(e){var s=!1;c(p[e]).subscribe(i(r,(function(r){s||(s=!0,o--),n[e]=r}),(function(){return t--}),void 0,(function(){t&&s||(o||r.next(O?u(O,n):n),r.complete())})))},a=0;a<e;a++)s(a);else r.complete()}));return f?g.pipe(s(f)):g})),e._RF.push({},"e5d056gAAxFwZNpNdTcVufL","forkJoin",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/from.ts",["cc","./scheduled.ts","./innerFrom.ts"],(function(n){"use strict";var t,e,r;return{setters:[function(n){t=n.cclegacy},function(n){e=n.scheduled},function(n){r=n.innerFrom}],execute:function(){n("from",(function(n,t){return t?e(n,t):r(n)})),t._RF.push({},"f873ayVX8ZKjIIN9p+PMFMX","from",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/fromEvent.ts",["cc","./innerFrom.ts","./Observable2.ts","./mergeMap.ts","./isArrayLike.ts","./isFunction.ts","./mapOneOrManyArgs.ts"],(function(n){"use strict";var e,r,t,i,u,o,f;return{setters:[function(n){e=n.cclegacy},function(n){r=n.innerFrom},function(n){t=n.Observable},function(n){i=n.mergeMap},function(n){u=n.isArrayLike},function(n){o=n.isFunction},function(n){f=n.mapOneOrManyArgs}],execute:function(){n("fromEvent",(function n(e,m,p,d){o(p)&&(d=p,p=void 0);if(d)return n(e,m,p).pipe(f(d));var y=function(n){return o(n.addEventListener)&&o(n.removeEventListener)}(e)?s.map((function(n){return function(r){return e[n](m,r,p)}})):function(n){return o(n.addListener)&&o(n.removeListener)}(e)?c.map(v(e,m)):function(n){return o(n.on)&&o(n.off)}(e)?a.map(v(e,m)):[],L=y[0],g=y[1];if(!L&&u(e))return i((function(e){return n(e,m,p)}))(r(e));if(!L)throw new TypeError("Invalid event target");return new t((function(n){var e=function(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return n.next(1<r.length?r:r[0])};return L(e),function(){return g(e)}}))})),e._RF.push({},"ada736qYixGyZRyqVhwZ1VU","fromEvent",void 0);var c=["addListener","removeListener"],s=["addEventListener","removeEventListener"],a=["on","off"];function v(n,e){return function(r){return function(t){return n[r](e,t)}}}e._RF.pop()}}}));

System.register("chunks:///_virtual/fromEventPattern.ts",["cc","./Observable2.ts","./isFunction.ts","./mapOneOrManyArgs.ts"],(function(n){"use strict";var t,r,e,u;return{setters:[function(n){t=n.cclegacy},function(n){r=n.Observable},function(n){e=n.isFunction},function(n){u=n.mapOneOrManyArgs}],execute:function(){n("fromEventPattern",(function n(t,c,i){if(i)return n(t,c).pipe(u(i));return new r((function(n){var r=function(){for(var t=arguments.length,r=new Array(t),e=0;e<t;e++)r[e]=arguments[e];return n.next(1===r.length?r[0]:r)},u=t(r);return e(c)?function(){return c(r,u)}:void 0}))})),t._RF.push({},"6c3a1fEcWdD+LuTK/TFvngb","fromEventPattern",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/fromSubscribable.ts",["cc","./Observable2.ts"],(function(e){"use strict";var r,s;return{setters:[function(e){r=e.cclegacy},function(e){s=e.Observable}],execute:function(){e("fromSubscribable",(function(e){return new s((function(r){return e.subscribe(r)}))})),r._RF.push({},"17b29sqGUxEhJhNfMxUHrWs","fromSubscribable",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/FrontTipPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./GameManager.ts","./ReactiveProperty.ts","./BasePanel.ts","./utils.ts","./AnimationPlay.ts","./CreatorSchedule.ts","./Observable2.ts","./concat2.ts"],(function(e){"use strict";var n,t,i,r,o,a,s,u,c,l,p,f,b,m,g,y,d,h;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,a=e._decorator,s=e.Node,u=e.Label,c=e.UIOpacity,l=e.Animation},null,function(e){p=e.gm},function(e){f=e.ReactiveProperty},function(e){b=e.BasePanel},function(e){m=e.nullifySubscription},function(e){g=e.AnimationPlay},function(e){y=e.Timer},function(e){d=e.Observable},function(e){h=e.concat}],execute:function(){var v,P,_,T,w,L,F;o._RF.push({},"addffgtTwxGg5UJB6PtMary","FrontTipPanel",void 0);var N=a.ccclass,C=a.property;e("FrontTipPanel",(v=N("FrontTipPanel"),P=C(s),_=C(u),v((L=n((w=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(n=e.call.apply(e,[this].concat(o))||this).message=f.Create(""),i(n,"mainNode",L,r(n)),i(n,"messageLabel",F,r(n)),n._sub=null,n}t(n,e);var o=n.prototype;return o.useObserves=function(){var e=this;return[this.message.subscribe((function(n){return e.messageLabel.string=n}))]},o.onLoadView=function(){this.reset(),p.frontTip=this},o.reset=function(){this.mainNode.getComponent(c).opacity=0},o.show=function(e,n){var t=this;return new d((function(i){return m.call(t,"_sub"),t.message.value=e,t._sub=h(g(t.mainNode.getComponent(l),"fronttip_main_in"),y(n,t.node),g(t.mainNode.getComponent(l),"fronttip_main_out")).subscribe({complete:function(){i.next(!0),i.complete()}}),function(){t._sub.unsubscribe(),t.reset()}}))},n}(b)).prototype,"mainNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(w.prototype,"messageLabel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=w))||T));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameAssetsRefs.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts","./PrewarPropsRefs.ts","./PlayerSkinIconRefs.ts"],(function(e){"use strict";var r,t,n,s,i,o,a,c,l;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator},function(e){a=e.BaseView},function(e){c=e.PrewarPropsRefs},function(e){l=e.PlayerSkinIconRefs}],execute:function(){var p,u,f,y,w,h,P,R;i._RF.push({},"6cea1bcOhpEVLBW4XcvoJCP","GameAssetsRefs",void 0);var b=o.ccclass,d=o.property,g=e("GameAssetsRefs",(p=b("GameAssetsRefs"),u=d(c),f=d(l),p(((R=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return r=e.call.apply(e,[this].concat(i))||this,n(r,"prewarProps",h,s(r)),n(r,"playerSkinIcon",P,s(r)),r}return t(r,e),r.prototype.onLoadView=function(){this.log("onLoadView"),r.instance=this},r}(a)).instance=void 0,h=r((w=R).prototype,"prewarProps",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new c}}),P=r(w.prototype,"playerSkinIcon",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new l}}),y=w))||y));globalThis.GameAssetsRefs=g,i._RF.pop()}}}));

System.register("chunks:///_virtual/GameBottomPropsPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePanel.ts","./PrewarPropsIcon.ts","./GameManager.ts"],(function(r){"use strict";var e,n,t,o,a,i,s,c,u,l,p,P;return{setters:[function(r){e=r.applyDecoratedDescriptor,n=r.inheritsLoose,t=r.initializerDefineProperty,o=r.assertThisInitialized},function(r){a=r.cclegacy,i=r._decorator,s=r.Prefab,c=r.Node,u=r.instantiate},function(r){l=r.BasePanel},function(r){p=r.PrewarPropsIcon},function(r){P=r.gm}],execute:function(){var f,m,h,w,v,b,g;a._RF.push({},"9ebe1zmAZxCVqfOqkszzv1u","GameBottomPropsPanel",void 0);var y=i.ccclass,I=i.property;r("GameBottomPropsPanel",(f=y("GameBottomPropsPanel"),m=I(s),h=I(c),f((b=e((v=function(r){function e(){for(var e,n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return e=r.call.apply(r,[this].concat(a))||this,t(e,"prewarPropsIcon",b,o(e)),t(e,"rowContainer",g,o(e)),e}n(e,r);var a=e.prototype;return a.useObserves=function(){return[P.curPrewarProps.subscribe(this.changeIcons.bind(this))]},a.changeIcons=function(){if(this.rowContainer.removeAllChildren(),null!=P.curPrewarProps.value){var r=u(this.prewarPropsIcon);r.setParent(this.rowContainer),r.getComponent(p).ID.value=P.curPrewarProps.value}},e}(l)).prototype,"prewarPropsIcon",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=e(v.prototype,"rowContainer",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=v))||w));a._RF.pop()}}}));

System.register("chunks:///_virtual/GameEditorPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIManager.ts","./Enums.ts","./ReactiveProperty.ts","./GameManager.ts","./BasePanel.ts","./BindEditBox.ts","./BindButton.ts","./index.ts","./lastValueFrom.ts"],(function(t){"use strict";var e,n,a,i,r,u,o,s,l,c,d,f,m,g,p,B,v,h,b;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.asyncToGenerator,u=t.regeneratorRuntime},function(t){o=t.cclegacy,s=t._decorator,l=t.v2,c=t.EditBox,d=t.Button},function(t){f=t.uim},function(t){m=t.FlowStatus},function(t){g=t.ReactiveProperty},function(t){p=t.gm},function(t){B=t.BasePanel},function(t){v=t.BindEditBox},function(t){h=t.BindButton},null,function(t){b=t.lastValueFrom}],execute:function(){var y,N,E,x,P,w,G;o._RF.push({},"bff18mCFKpD2bTJ0QHgB1kV","GameEditorPanel",void 0);var k=s.ccclass,C=s.property;l(),l(),t("GameEditorPanel",(y=k("GameEditorPanel"),N=C(c),E=C(d),y((w=e((P=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),u=0;u<n;u++)r[u]=arguments[u];return e=t.call.apply(t,[this].concat(r))||this,a(e,"stageNumEditBox",w,i(e)),a(e,"loadButton",G,i(e)),e.stageNum=g.Create(null),e}n(e,t);var o=e.prototype;return o.willBind=function(){p.gameEditor=this},o.useObserves=function(){var t=this;return[v(this.stageNumEditBox).subscribe((function(e){t.stageNum.value=Number(t.stageNumEditBox.string)})),h(this.loadButton).subscribe(this.loadButtonClicked.bind(this)),p.stageInfo.subscribe((function(e){null!=e&&(t.stageNumEditBox.string=""+e.stageNum,t.stageNum.value=e.stageNum)}))]},o.loadButtonClicked=function(){var t=r(u().mark((function t(){var e;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.log("loadButtonClicked"),e=!0,p.stageNumSelected.value==this.stageNum.value&&(e=!1),p.stageClear(e),p.stageNumSelected.value=this.stageNum.value,p.flowStatus.value=m.Game,t.next=8,b(f.standby.whenTrueOnce());case 8:p.stageLoad();case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(B)).prototype,"stageNumEditBox",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(P.prototype,"loadButton",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=P))||x));o._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataConfig.ts","./UserDataManager.ts","./ByteDanceManager.ts","./Stage.ts","./DataManager.ts","./BundleAssetsManager.ts","./index.ts","./Enums.ts","./ReactiveProperty.ts","./BaseManager.ts","./i18n.ts","./AudioManager.ts","./ByteDanceRecorderManager.ts","./utils.ts","./CreatorSchedule.ts","./GetPsPanel.ts","./ReactiveCommand.ts","./math.ts","./concat2.ts","./of.ts","./map.ts","./LanguageData.ts"],(function(e){"use strict";var a,t,n,r,s,o,l,u,i,g,c,m,f,d,v,S,b,p,h,C,P,w,y,I,E,k,G,D,L,x,_,R,M,A,N,B,T,H;return{setters:[function(e){a=e.inheritsLoose,t=e.createClass},function(e){n=e.cclegacy,r=e._decorator,s=e.v3,o=e.director,l=e.System,u=e.isValid,i=e.assetManager,g=e.Prefab,c=e.instantiate,m=e.color},function(e){f=e.DataConfig,d=e.DevConfig},function(e){v=e.udm},function(e){S=e.bdm},function(e){b=e.Stage},function(e){p=e.dm},function(e){h=e.bam},null,function(e){C=e.FlowStatus,P=e.SkinTab,w=e.GameStatus,y=e.PrewarPropId},function(e){I=e.ReactiveProperty},function(e){E=e.BaseManager},null,function(e){k=e.am,G=e.BGM},function(e){D=e.bdrm},function(e){L=e.nullifySubscription},function(e){x=e.Timer},function(e){_=e.GetPsPanel},function(e){R=e.ReactiveCommand},function(e){M=e.linear},function(e){A=e.concat},function(e){N=e.of},function(e){B=e.map},function(e){T=e.init,H=e.updateSceneRenderers}],execute:function(){var O,W;n._RF.push({},"8b925p366RHXJFiMXQUyPaS","GameManager",void 0);var F=r.ccclass,K=(r.property,F("GameManager")(((W=function(e){function n(){for(var a,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(a=e.call.apply(e,[this].concat(n))||this).frontTipEnabled=I.Create(!1),a.flowStatus=I.Create(C.Empty),a.settingEnabled=I.Create(!1),a.tutorialEnabled=I.Create(!1),a.getPsEnabled=I.Create(!1),a.mainMenuEnabled=I.Create(!1),a.gameBottomPropsEnabled=I.Create(!1),a.luckySkinEnabled=I.Create(!1),a.prewarPropEnabled=I.Create(!1),a.skinTab=I.Create(P.Skin),a.skinPanelEnabled=I.Create(!1),a.skinSkinPanelEnabled=I.Create(!1),a.taskPanelEnabled=I.Create(!1),a.taskTab=I.Create(null),a.buildingUnlockEnabled=I.Create(!1),a.openHomeChestEnabled=I.Create(!1),a.topRightGoldCardEnabled=I.Create(!1),a.codeChestEnabled=I.Create(!1),a.loadingAssets=I.Create(!0),a.lastGameIsLose=I.Create(!1),a.atHome=I.Create(!1),a.language=I.Create(f.language),a.mainSceneCanvas=null,a.uiRoot=null,a.gameEditor=null,a.gameStage=null,a.codeChest=null,a.nodeStatus=(new I).init(!1),a.resourceStatus=(new I).init(!1),a.frontTip=null,a.gameRoot3D=null,a.stageNumSelected=I.Create(null),a.stageInfo=I.Create(null),a.gameStatus=I.Create(w.Empty),a.realControlVarX=I.Create(0),a.realControlVarZ=I.Create(0),a.curStage=null,a.gotKeys=I.Create([]),a.winWaiting=!1,a.stageResult=I.Create(null),a.playerPosCache=I.Create(s(0,0,0)),a.curPrewarProps=I.Create(null),a.prewarPropKill=I.Create(!1),a.prewarPropSpeed=I.Create(!1),a.prewarPropInvisable=I.Create(!1),a.choosedBuildingID=I.Create(null),a.refreshBuildingIDCommand=R.Create(),a.choosedHomeChestID=I.Create(null),a.claimHomeChestIDCommand=R.Create(),a.autoStartAfterLoadStage=!1,a.chestRow=I.Create(null),a.luckySkinPanelObserver=null,a.codeChestPanelObserver=null,a._stageLoad_progressInfo=[0,100,0],a.loadedKey=null,a.stageLoad_sub=null,a}a(n,e),n.registerSystem=function(){o.unregisterSystem(o.getSystem(n.ID)),o.registerSystem(n.ID,U,l.Priority.MEDIUM),U.init()};var r=n.prototype;return r.onInitManager=function(){this.log("onInitManager",this.timestamp)},r.useObserves=function(){var e=this;return[this.language.subscribe((function(e){T(e),H()})),this.flowStatus.subscribe((function(e){switch(e){case C.Menu:case C.StageSelect:k.bgm.value=G.Menu;break;case C.Game:k.bgm.value=G.Game}})),U.stageNumSelected.subscribe((function(a){if(null!=a)if(d.isEditor)e.stageInfo.value=p.getStageInfoByNumber(a);else{var t=p.xlsx.Level.index[a];if(null==t){var n={stageNum:1,prefabName:p.xlsx.Level.index[1].Level};e.stageInfo.value=n}else{t.ID;var r={stageNum:a,prefabName:t.Level};e.stageInfo.value=r}}})),U.gameStatus.subscribe((function(a){switch(U.mainMenuEnabled.value=e.gameStatus.value==w.StartPause,U.gameBottomPropsEnabled.value=e.gameStatus.value==w.Playing,U.topRightGoldCardEnabled.value=e.gameStatus.value==w.Playing,a){case w.Playing:e.stageInfo.value.stageNum<=3?e.tutorialEnabled.value=!0:e.tutorialEnabled.value=!1;break;case w.Win:e.lastGameIsLose.value=!1,x(1.5).subscribe((function(a){e.winWaiting=!1,U.flowStatus.value=C.Win}));break;case w.Lose:e.lastGameIsLose.value=!0,x(.5).subscribe((function(a){v.loseCount.value++,e.flowStatus.value=C.Lose}))}}))]},r.stageClear=function(e){var a;if(void 0===e&&(e=!0),this.log("stageClear"),L.call(this,"stageLoad_sub"),this.atHome.value=!1,this.gameStatus.value=w.Empty,this.tutorialEnabled.value=!1,this.winWaiting=!1,this.curPrewarProps.value=null,this.gameRoot3D.reset(),u(null==(a=this.curStage)?void 0:a.node)&&(this.curStage.node.destroy(),this.curStage=null),e){var t,n,r=i.getBundle("ab_game"),s=null==(t=this.stageResult.value)||null==(n=t.stageInfo)?void 0:n.prefabName;s&&r.release("GameObjects/"+s+"/"+s,g)}},r.stageLoad=function(e){var a=this;this.log("stageLoad"),L.call(this,"stageLoad_sub");var t=null,n=this.stageInfo.value.prefabName;this.stageLoad_sub=A(N(null).pipe(B((function(e){a._stageLoad_progressInfo=[0,100,0],a.gameStatus.value=w.Prestart,a.gameRoot3D.reset(),a.winWaiting=!1}))),d.isEditor?h.loadGamePrefabs("Stages/stage_000",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],s=t[1];a.log("load game prefabs",r,s)})):N(null),h.loadGamePrefabs("Stages/"+n,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],s=t[1];a.log("load game prefabs",r,s),a._stageLoad_progressInfo[0]=r,a._stageLoad_progressInfo[1]=s,a._stageLoad_progressInfo[2]=Math.max(a._stageLoad_progressInfo[2],r/s)})),h.loadGamePrefabs("GameObjects/player/KillEffects/Dart",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],s=t[1];a.log("load game prefabs",r,s)})),N(null).pipe(B((function(e){null==(t=h.getGamePrefab(n))&&(t=h.getGamePrefab("stage_000")),t?(a.curStage=c(t).getComponent(b),a.curStage.node.setParent(a.gameRoot3D.node)):a.frontTipShow("未能找到关卡: "+n).subscribe()})))).subscribe({complete:function(){var n;t?(a.curPrewarProps.value=null==(n=p.getCurPrewarProp())?void 0:n.ID,D.recording||D.startRecoder((function(){})),a.gameRoot3D.gameStart(),a.gameStatus.value=w.StartPause,["logo_start","win_continue"].includes(null==e?void 0:e.reason)&&S.report("stage_start",{id:a.stageInfo.value.stageNum}),a.autoStartAfterLoadStage&&(a.autoStartAfterLoadStage=!1,a.startGame()),x(2).subscribe((function(e){if(!d.isEditor){var t=a.stageInfo.value.stageNum+1;if(t<=f.maxStageCount){var n=p.xlsx.Level.index[t].Level;h.preloadGamePrefabs("Stages/"+n,(function(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];a[0],a[1]})).subscribe()}}}))):a.gameStatus.value=w.Empty}})},r.homeLoad=function(){var e=this;this.log("homeLoad"),L.call(this,"stageLoad_sub");var a=null,t="home_000",n=0;this.stageLoad_sub=A(N(null).pipe(B((function(a){e.gameStatus.value=w.Prestart,e.gameRoot3D.reset(),e.winWaiting=!1,e.atHome.value=!0,U.loadingAssets.value=!0,e.mainSceneCanvas.showCount=0,e.mainSceneCanvas.finCount=0}))),h.loadGamePrefabs("Home/home_000",(function(){for(var a=arguments.length,t=new Array(a),r=0;r<a;r++)t[r]=arguments[r];var s=t[0],o=t[1];e.log("load game prefabs",s,o),n=Math.max(n,s/o),e.mainSceneCanvas.finCount=M(0,1,0,100,n)})),N(null).pipe(B((function(n){null==(a=h.getGamePrefab(t))&&(a=h.getGamePrefab(t)),a?(e.curStage=c(a).getComponent(b),e.curStage.node.setParent(e.gameRoot3D.node)):e.frontTipShow("未能找到关卡: home_000").subscribe()})))).subscribe({complete:function(){var t;a?(e.curPrewarProps.value=null==(t=p.getCurPrewarProp())?void 0:t.ID,e.gameRoot3D.gameStart(),e.gameStatus.value=w.Playing,U.loadingAssets.value=!1):e.gameStatus.value=w.Empty}})},r.usePrewarPropsAtStart=function(){[y.Speed,y.Invisable].includes(this.curPrewarProps.value)&&p.decreaseProp(this.curPrewarProps.value)},r.frontTipShow=function(e,a){return void 0===a&&(a=2),null!=this.frontTip?this.frontTip.show(e,a):N(!1)},r.settleAccount=function(){var e=v.luckySkinC.value;v.luckySkinC.value++;var a=v.luckySkinC.value,t=p.getNextLuckySkin();this.stageResult.value={stageInfo:JSON.parse(JSON.stringify(this.stageInfo.value)),luckySkins:{fromCount:e,toCount:a,gotSkinID:t}},U.stageResult.value.luckySkins.toCount>=p.xlsx.Skin.main.luckySkinByStage&&(v.luckySkinC.value=0),v.curStage.value==this.stageInfo.value.stageNum&&(v.curStage.value>=f.maxStageCount?v.curStage.value=1:v.curStage.value++),v.save()},r.startGame=function(){var e=this;p.isInfNow()||p.getPs()>=p.xlsx.PS.main.consume?this.startGamePrewar():(_.enoughPsCallback=function(){e.startGamePrewar()},U.getPsEnabled.value=!0)},r.startGamePrewar=function(){if(this.lastGameIsLose.value)if(U.prewarPropEnabled.value)this.intoPlaying();else{var e=p.getCurPrewarProp();null==e?U.prewarPropEnabled.value=!0:(this.curPrewarProps.value=e.ID,this.intoPlaying())}else this.intoPlaying()},r.intoPlaying=function(){U.prewarPropEnabled.value=!1,p.isInfNow()||(p.decreasePs(p.xlsx.PS.main.consume),U.gameStage.showConsumeAnim()),this.usePrewarPropsAtStart(),U.gameStatus.value=w.Playing},r.openCodeChest=function(){var e,a=this;v.goldCard.value=3;var t=null!=(e=p.xlsx.Chest.index[v.chestP.value])?e:p.xlsx.Chest.index[999999];this.isRewardIDSkinAndGot(t.Best)&&(t.Best=999999),["G1","G2","G3"].forEach((function(e){t[e].forEach((function(e,n){a.isRewardIDSkinAndGot(t.G1[n])&&(t.G1[n]=999999)}))})),U.chestRow.value=t,v.chestP.value++,v.save(),this.codeChestEnabled.value=!0},r.isRewardIDSkinAndGot=function(e){var a=p.xlsx.Reward.index[e],t=p.xlsx.Item.index[a.ItemID];return!(2!=t.Type||!v.skinGot.value.includes(t.SkinID))},t(n,[{key:"logColorOverride",get:function(){return m().fromHEX("#EEDDCC")}}]),n}(E)).instance=void 0,W.ID="game_system",O=W))||O);globalThis.GameManager=K;var U=e("gm",K.instance=new K);n._RF.pop()}}}));

System.register("chunks:///_virtual/GameRoot3D.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataConfig.ts","./UserDataManager.ts","./GoldCard.ts","./Player.ts","./GameManager.ts","./BaseView.ts","./Key.ts","./PathPoint.ts","./SafeBox.ts","./SkinBox.ts","./DataManager.ts"],(function(n){"use strict";var e,t,o,a,r,i,s,u,c,l,d,f,g,h,m,C,p,v;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,o=n._decorator,a=n.v3,r=n.isValid,i=n.MeshRenderer,s=n.Collider},function(n){u=n.DevConfig},function(n){c=n.udm},function(n){l=n.GoldCard},function(n){d=n.Player},function(n){f=n.gm},function(n){g=n.BaseView},function(n){h=n.Key},function(n){m=n.PathPoint},function(n){C=n.SafeBox},function(n){p=n.SkinBox},function(n){v=n.dm}],execute:function(){var y;t._RF.push({},"5463eCXdJRHD7tM+1JzwL7X","GameRoot3D",void 0);var S=o.ccclass;o.property,a(),n("GameRoot3D",S("GameRoot3D")(y=function(n){function t(){for(var e,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return(e=n.call.apply(n,[this].concat(o))||this).keys={},e.frags=[],e.player=null,e}e(t,n);var o=t.prototype;return o.onLoadView=function(){f.gameRoot3D=this},o.useObserves=function(){return[]},o.reset=function(){Object.values(this.keys).forEach((function(n){r(null==n?void 0:n.node)&&n.node.destroy()})),this.keys={},this.player=null},o.gameStart=function(){f.curStage.node.getComponentsInChildren(m).forEach((function(n){var e=n.getComponent(i);null!=e&&(e.enabled=!1)})),f.curStage.node.getComponentsInChildren(h).forEach((function(n){n.standbyAnim()})),f.curStage.node.getComponentsInChildren(l).forEach((function(n){(c.goldCardGot.value.includes(f.stageInfo.value.stageNum)||c.goldCard.value>=3||u.isEditor?u.editorGoldCard>0:v.xlsx.Level.index[f.stageInfo.value.stageNum].GoldCard>0)?n.standbyAnim():n.node.destroy()})),f.curStage.node.getComponentsInChildren(p).forEach((function(n){n.standbyAnim()})),f.curStage.node.getComponentsInChildren(C).forEach((function(n){c.safeBoxGot.value.includes(f.stageInfo.value.stageNum)&&(n.opened.value=!0)})),f.curStage.node.getComponentsInChildren(s).forEach((function(n){n.enabled=!0})),this.player=f.curStage.node.getComponentInChildren(d)},t}(g))||y);t._RF.pop()}}}));

System.register("chunks:///_virtual/GameStagePanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ByteDanceRecorderManager.ts","./GameManager.ts","./ReactiveProperty.ts","./BasePanel.ts","./BindNode.ts","./BindButton.ts","./Enums.ts","./index.ts","./DataManager.ts","./utils.ts","./AnimationPlay.ts","./MergeWithTimer.ts","./UserDataManager.ts","./i18n.ts","./of.ts","./LanguageData.ts"],(function(e){"use strict";var t,n,a,i,s,u,r,o,l,c,m,b,f,p,d,g,v,h,y,_,P,S,L,T,w,B,C;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,u=e._decorator,r=e.v2,o=e.Label,l=e.Node,c=e.Button,m=e.Animation,b=e.v3},function(e){f=e.bdrm},function(e){p=e.gm},function(e){d=e.ReactiveProperty},function(e){g=e.BasePanel},function(e){v=e.BindNodeTouch},function(e){h=e.BindButton},function(e){y=e.GameStatus,_=e.FlowStatus},null,function(e){P=e.dm},function(e){S=e.nullifySubscription},function(e){L=e.AnimationPlay},function(e){T=e.MergeWithTimer},function(e){w=e.udm},null,function(e){B=e.of},function(e){C=e.t}],execute:function(){var N,A,k,I,M,E,H,z,D,G,O,V,j,R,x;s._RF.push({},"959b7VZwtpH7aMLGTQjvOvv","GameStagePanel",void 0);var U=u.ccclass,Z=u.property,F=r(),X=r();e("GameStagePanel",(N=U("GameStagePanel"),A=Z(o),k=Z(o),I=Z(l),M=Z(c),E=Z(o),H=Z(m),N((G=t((D=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),u=0;u<n;u++)s[u]=arguments[u];return t=e.call.apply(e,[this].concat(s))||this,a(t,"clickStartTipLabel",G,i(t)),a(t,"stageNumLabel",O,i(t)),a(t,"mainNode",V,i(t)),a(t,"backButton",j,i(t)),t.pressed=d.Create(!1),t._startPos=r(),a(t,"consumeLabel",R,i(t)),a(t,"comsumeAnim",x,i(t)),t.pressId=0,t.curPressId=-1,t._sub_anim=null,t}n(t,e);var s=t.prototype;return s.willBind=function(){p.gameStage=this},s.useObserves=function(){var e=this;return[p.mainMenuEnabled.subscribe((function(t){e.stageNumLabel.node.active=!t})),p.gameStatus.subscribe((function(t){e.clickStartTipLabel.node.active=t==y.StartPause})),T([p.gameStatus._subject,p.atHome._subject,w.ps._subject]).subscribe((function(t){P.isInfNow()||p.atHome.value?e.comsumeAnim.node.active=!1:p.gameStatus.value==y.StartPause&&(e.comsumeAnim.node.active=!P.isInfNow())})),T([p.stageInfo._subject,p.atHome._subject]).subscribe((function(t){p.atHome.value?e.stageNumLabel.string="":e.stageNumLabel.string=p.stageInfo.value.stageNum+" "+C("_.f")})),h(this.backButton).subscribe(this.backButtonClicked.bind(this)),v(this.mainNode).subscribe((function(t){switch(t.type){case l.EventType.TOUCH_START:case l.EventType.TOUCH_MOVE:e.press(t);break;case l.EventType.TOUCH_END:case l.EventType.TOUCH_CANCEL:e.release(t)}}))]},s.willOpen=function(){return this.consumeLabel.string="-"+P.xlsx.PS.main.consume,B(null)},s.backButtonClicked=function(){f.stopRecoder((function(){})),p.stageClear(!0),p.flowStatus.value=_.Logo},s.press=function(e){p.gameStatus.value==y.StartPause&&this.curPressId!=this.pressId&&p.startGame(),this.curPressId=this.pressId,this.pressed.value||(e.touch.getLocation(F),this._startPos.set(F),this.pressed.value=!0),e.touch.getLocation(F),F.subtract(this._startPos);var t=F.length();t>50&&(F.multiplyScalar(50/t),e.touch.getLocation(X),X.subtract(F),this._startPos.set(X)),p.realControlVarX.value=F.x/50,p.realControlVarZ.value=-F.y/50,p.tutorialEnabled.value&&(Math.abs(p.realControlVarX.value)>.9||Math.abs(p.realControlVarZ.value)>.9)&&(p.tutorialEnabled.value=!1)},s.release=function(e){this.pressed.value&&(this.pressed.value=!1,this.pressId++),p.realControlVarX.value=0,p.realControlVarZ.value=0},s.showConsumeAnim=function(){var e=this;S.call(this,"_sub_anim"),this._sub_anim=L(this.comsumeAnim,"show_consume").subscribe({complete:function(){e.comsumeAnim.node.active=!1,e.comsumeAnim.node.setPosition(b(0,0,0))}})},t}(g)).prototype,"clickStartTipLabel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(D.prototype,"stageNumLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(D.prototype,"mainNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(D.prototype,"backButton",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(D.prototype,"consumeLabel",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(D.prototype,"comsumeAnim",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=D))||z));s._RF.pop()}}}));

System.register("chunks:///_virtual/GameTools.ts",["cc"],(function(e){"use strict";var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"ca8aeYs1UFDM4cEowymzclw","GameTools",void 0);var o=e("GameTools",(function(){}));o.instance=void 0,globalThis.GameTools=o;e("gt",o.instance=new o);c._RF.pop()}}}));

System.register("chunks:///_virtual/generate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./identity.ts","./isScheduler.ts","./defer.ts","./scheduleIterable.ts"],(function(e){"use strict";var t,n,r,i,c,u;return{setters:[function(e){t=e.regeneratorRuntime},function(e){n=e.cclegacy},function(e){r=e.identity},function(e){i=e.isScheduler},function(e){c=e.defer},function(e){u=e.scheduleIterable}],execute:function(){e("generate",(function(e,n,s,a,o){var l,f,d=t().mark(v);if(1===arguments.length){var h=e;f=h.initialState,n=h.condition,s=h.iterate;var p=h.resultSelector;l=void 0===p?r:p,o=h.scheduler}else f=e,!a||i(a)?(l=r,o=a):l=a;function v(){var e;return t().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=f;case 1:if(n&&!n(e)){t.next=7;break}return t.next=4,l(e);case 4:e=s(e),t.next=1;break;case 7:case"end":return t.stop()}}),d)}return c(o?function(){return u(v(),o)}:v)})),n._RF.push({},"22b1aMtMmRIEJefX/ZGKzPp","generate",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/GetPsPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UserDataManager.ts","./BasePanel.ts","./BindButton.ts","./GameManager.ts","./DataManager.ts","./index.ts","./i18n.ts","./of.ts","./LanguageData.ts"],(function(n){"use strict";var t,i,e,a,l,o,u,s,r,c,f,d,b,p,g,B;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,a=n.assertThisInitialized},function(n){l=n.cclegacy,o=n._decorator,u=n.Button,s=n.Label,r=n.Node},function(n){c=n.udm},function(n){f=n.BasePanel},function(n){d=n.BindButton},function(n){b=n.gm},function(n){p=n.dm},null,null,function(n){g=n.of},function(n){B=n.t}],execute:function(){var h,P,y,v,m,_,w,C,k,A,M,N,x,I,L,z,S,D;l._RF.push({},"4daafJkrhFKfYYZfYIEhhwv","GetPsPanel",void 0);var F=o.ccclass,G=o.property;n("GetPsPanel",(h=F("GetPsPanel"),P=G(u),y=G(u),v=G(u),m=G(s),_=G(s),w=G(r),C=G(r),h(((D=function(n){function t(){for(var t,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return t=n.call.apply(n,[this].concat(l))||this,e(t,"infButton",M,a(t)),e(t,"addButton",N,a(t)),e(t,"closeButton",x,a(t)),e(t,"infButtonLabel",I,a(t)),e(t,"addButtonLabel",L,a(t)),e(t,"infBtnMainNode",z,a(t)),e(t,"infBtnInfMainNode",S,a(t)),t._playing_Ads=!1,t}i(t,n);var l=t.prototype;return l.useObserves=function(){var n=this;return[d(this.infButton).subscribe(this.infButtonClicked.bind(this)),d(this.addButton).subscribe(this.addButtonClicked.bind(this)),d(this.closeButton).subscribe(this.closeButtonClicked.bind(this)),c.ps.subscribe((function(t){var i,e=(null!=(i=t.infAds)?i:0)+" / "+p.xlsx.PS.main.infAdsCount;n.infButtonLabel.string=B("gpp.inf").replace("{}",e),p.isInfNow()?(n.infBtnMainNode.active=!1,n.infBtnInfMainNode.active=!0):(n.infBtnMainNode.active=!0,n.infBtnInfMainNode.active=!1)}))]},l.willOpen=function(){return this.addButtonLabel.string=B("gpp.addps").replace("{}",""+p.xlsx.PS.main.adsAddPsCount),g(null)},l.infButtonClicked=function(){var n=this;this.log("infButtonClicked"),p.isInfNow()?b.frontTipShow(B("f.alreadyinfps")).subscribe():this._playing_Ads||(this._playing_Ads=!0,p.showAdsForInfPs().subscribe((function(i){n._playing_Ads=!1,p.isInfNow()&&null!=t.enoughPsCallback&&(b.getPsEnabled.value=!1,t.enoughPsCallback())})))},l.addButtonClicked=function(){var n,i=this;this.log("addButtonClicked"),(null!=(n=c.ps.value.cur)?n:0)>=p.xlsx.PS.main.maxCount?b.frontTipShow(B("f.fullps")).subscribe():this._playing_Ads||(this._playing_Ads=!0,p.showAdsForAddPs().subscribe((function(n){i._playing_Ads=!1,p.getPs()>=p.xlsx.PS.main.consume&&null!=t.enoughPsCallback&&(b.getPsEnabled.value=!1,t.enoughPsCallback())})))},l.closeButtonClicked=function(){this.log("closeButtonClicked"),b.getPsEnabled.value=!1},t}(f)).enoughPsCallback=null,M=t((A=D).prototype,"infButton",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(A.prototype,"addButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(A.prototype,"closeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(A.prototype,"infButtonLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(A.prototype,"addButtonLabel",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(A.prototype,"infBtnMainNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(A.prototype,"infBtnInfMainNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=A))||k));l._RF.pop()}}}));

System.register("chunks:///_virtual/getXHRResponse.ts",["cc"],(function(e){"use strict";var s;return{setters:[function(e){s=e.cclegacy}],execute:function(){e("getXHRResponse",(function(e){switch(e.responseType){case"json":if("response"in e)return e.response;var s=e;return JSON.parse(s.responseText);case"document":return e.responseXML;case"text":default:return"response"in e?e.response:e.responseText}})),s._RF.push({},"7762clb4ytIwYisjN5igCjR","getXHRResponse",void 0),s._RF.pop()}}}));

System.register("chunks:///_virtual/Glass.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./GameConfig.ts","./BaseView.ts","./BindCollider.ts","./RandomChooseTools.ts"],(function(e){"use strict";var t,o,i,r,n,a,s,l,c,d,u,f,h,p,g,y,m,C,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,n=e.createClass},function(e){a=e.cclegacy,s=e._decorator,l=e.v3,c=e.MeshCollider,d=e.MeshRenderer,u=e.find,f=e.Collider,h=e.Vec3,p=e.RigidBody},function(e){g=e.gm},function(e){y=e.GameConfig},function(e){m=e.BaseView},function(e){C=e.BindColliderCollision},function(e){b=e.randomChoose}],execute:function(){var v,k,V;a._RF.push({},"da890k00KxFfYRdBGuXZPTN","Glass",void 0);var B=s.ccclass,_=s.property,R=l(),G=(l(),l());e("Glass",B("Glass")((V=t((k=function(e){function t(){for(var t,o=arguments.length,n=new Array(o),a=0;a<o;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this)._oriColliderNode=null,i(t,"_breakVelocity",V,r(t)),t}o(t,e);var a=t.prototype;return a.resetInEditor=function(){this.node.children.forEach((function(e){"frag"==e.name&&(e.getComponent(c).mesh=e.getComponent(d).mesh)}))},a.willBind=function(){if(this._oriColliderNode=u("ori",this.node),y.optimizeFilter()>0)for(var e=0;e<3;e++){var t=b(this.node.children);"frag"==t.name&&t.destroy()}},a.useObserves=function(){return[]},a.start=function(){var e=this;this.getMainSubscription().add(C(this._oriColliderNode.getComponent(f)).subscribe((function(t){if("onCollisionEnter"==t.event.type){t.event.otherCollider.attachedRigidBody.getLinearVelocity(R);var o=Math.abs(h.dot(e.node.right,R));e.log("@normalVelocity",o),o>=e.breakVelocity&&e.doBreak()}})))},a.doBreak=function(){this.node.children.forEach((function(e){"ori"==e.name?e.active=!1:"frag"==e.name&&(e.active=!0,h.random(G,100),e.getComponent(p).applyTorque(G),g.gameRoot3D.frags.push(e),g.gameRoot3D.frags.length>y.MaxFrags()&&g.gameRoot3D.frags.shift().destroy())}))},n(t,[{key:"breakVelocity",get:function(){return this._breakVelocity},set:function(e){this._breakVelocity=e}}]),t}(m)).prototype,"_breakVelocity",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),t(k.prototype,"breakVelocity",[_],Object.getOwnPropertyDescriptor(k.prototype,"breakVelocity"),k.prototype),v=k))||v);a._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalInstanceFinder.ts",["cc","./CocosTools.ts"],(function(n){"use strict";var t,e,o,s,c;return{setters:[function(n){t=n.cclegacy,e=n.js,o=n.director,s=n.log},function(n){c=n.CocosTools}],execute:function(){t._RF.push({},"c6890wg83xHh5++ymyXM/t3","GlobalInstanceFinder",void 0);n("GlobalInstanceFinder",function(){function n(){}var t=n.prototype;return t.componentRegister=function(){var n;if(!CC_EDITOR){globalThis.instances=null!=(n=globalThis.instances)?n:{};var t=e.getClassName(this);globalThis.instances[t]=function(){var n=o.getScene().getComponentsInChildren(t);return n.forEach((function(n,e){return s("%c"+t+", ["+e+"], "+c.path(n.node),"font-weight:bold;background-color:gray;color:white;")})),0==n.length?null:1==n.length?n[0]:n}}},t.systemRegister=function(n){var t;if(!CC_EDITOR){globalThis.instances=null!=(t=globalThis.instances)?t:{};var c=e.getClassName(this),i=function(){var t=o.getSystem(n);return s("%c"+c+", "+t.id,"font-weight:bold;background-color:black;color:white;"),t};globalThis.instances[c]=i,globalThis.instances[n]=i}},n}());t._RF.pop()}}}));

System.register("chunks:///_virtual/GoldCard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./UserDataManager.ts","./Player.ts","./BaseView.ts","./BindCollider.ts","./utils.ts","./index.ts","./AnimationPlay.ts","./concat2.ts","./of.ts","./map.ts"],(function(n){"use strict";var t,e,i,o,r,a,s,l,c,u,d,f,g,_,m,p,h;return{setters:[function(n){t=n.inheritsLoose},function(n){e=n.cclegacy,i=n._decorator,o=n.Collider,r=n.find,a=n.v3,s=n.Animation},function(n){l=n.gm},function(n){c=n.udm},function(n){u=n.Player},function(n){d=n.BaseView},function(n){f=n.BindColliderTrigger},function(n){g=n.nullifySubscription},null,function(n){_=n.AnimationPlay},function(n){m=n.concat},function(n){p=n.of},function(n){h=n.map}],execute:function(){var C;e._RF.push({},"9d723ns+YxBFZxB5VUP+aiG","GoldCard",void 0);var v=i.ccclass;i.property,n("GoldCard",v("GoldCard")(C=function(n){function e(){for(var t,e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return(t=n.call.apply(n,[this].concat(i))||this)._collider=null,t._centerNode=null,t._anim_sub=null,t}t(e,n);var i=e.prototype;return i.willBind=function(){this._collider=this.getComponent(o),this._centerNode=r("center",this.node)},i.start=function(){var n=this;this.getMainSubscription().add(f(this._collider).subscribe((function(t){if("onTriggerEnter"==t.event.type){var e=t.event.otherCollider.node.getComponent(u);null!=e&&(n._collider.enabled=!1,c.goldCard.value++,c.goldCardGot.value.push(l.stageInfo.value.stageNum),c.goldCardGot.again(),c.save(),n.node.setParent(e.node),n.node.setPosition(a(0,1,0)),n.node.setRotationFromEuler(a(0,90,0)),n.gotCardAnim())}})))},i.standbyAnim=function(){g.call(this,"_anim_sub"),this._anim_sub=m(_(this._centerNode.getComponent(s),"goldCard_rot")).subscribe()},i.gotCardAnim=function(){var n=this;g.call(this,"_anim_sub"),this._anim_sub=m(_(this._centerNode.getComponent(s),"goldCard_got"),p(null).pipe(h((function(t){n.node.active=!1})))).subscribe()},e}(d))||C);e._RF.pop()}}}));

System.register("chunks:///_virtual/GoldCards.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts","./AnimationPlay.ts","./index.ts","./never.ts"],(function(e){"use strict";var t,r,i,n,o,s,a,l,c,u,p,d,h;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createClass},function(e){s=e.cclegacy,a=e._decorator,l=e.color,c=e.Sprite,u=e.Animation},function(e){p=e.BaseView},function(e){d=e.AnimationPlay},null,function(e){h=e.NEVER}],execute:function(){var f,v,y;s._RF.push({},"a2df6CNpitM6KQBDIRiiE3H","GoldCards",void 0);var b=a.ccclass,_=a.property,g=l();e("GoldCards",b("GoldCards")((y=t((v=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,i(t,"_value",y,n(t)),t._sub=null,t}return r(t,e),t.prototype.refresh=function(){this._sub=h.subscribe();for(var e=0;e<this.node.children.length;e++){var t=this.node.children[e],r=this.value>e,i=t.children[0].active;if(t.children[0].active=r,!i&&r){g.set(255,255,255,0),t.children[0].getComponent(c).color=g;var n=d(t.children[0].getComponent(u),"goldcard_in").subscribe();this._sub.add(n)}}},o(t,[{key:"value",get:function(){return this._value},set:function(e){this._value=e,this.refresh()}}]),t}(p)).prototype,"_value",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),t(v.prototype,"value",[_],Object.getOwnPropertyDescriptor(v.prototype,"value"),v.prototype),f=v))||f);s._RF.pop()}}}));

System.register("chunks:///_virtual/groupBy.ts",["cc","./Observable2.ts","./innerFrom.ts","./Subject.ts","./lift.ts","./OperatorSubscriber.ts"],(function(n){"use strict";var r,t,e,u,c,i,o;return{setters:[function(n){r=n.cclegacy},function(n){t=n.Observable},function(n){e=n.innerFrom},function(n){u=n.Subject},function(n){c=n.operate},function(n){i=n.OperatorSubscriber,o=n.createOperatorSubscriber}],execute:function(){n("groupBy",(function(n,r,s,f){return c((function(c,b){var a;r&&"function"!=typeof r?(s=r.duration,a=r.element,f=r.connector):a=r;var v=new Map,p=function(n){v.forEach(n),n(b)},l=function(n){return p((function(r){return r.error(n)}))},y=0,d=!1,g=new i(b,(function(r){try{var c=n(r),i=v.get(c);if(!i){v.set(c,i=f?f():new u);var p=(S=c,F=i,(O=new t((function(n){y++;var r=F.subscribe(n);return function(){r.unsubscribe(),0==--y&&d&&g.unsubscribe()}}))).key=S,O);if(b.next(p),s){var m=o(i,(function(){i.complete(),null==m||m.unsubscribe()}),void 0,void 0,(function(){return v.delete(c)}));g.add(e(s(p)).subscribe(m))}}i.next(a?a(r):r)}catch(n){l(n)}var S,F,O}),(function(){return p((function(n){return n.complete()}))}),l,(function(){return v.clear()}),(function(){return d=!0,0===y}));c.subscribe(g)}))})),r._RF.push({},"a470eYvP5ZFYq/Ayk8TtXbd","groupBy",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/HomeChest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts","./BindCollider.ts","./Player.ts","./utils.ts","./index.ts","./CommonObservable.ts","./CreatorSchedule.ts","./UserDataManager.ts","./GameManager.ts","./concat2.ts"],(function(e){"use strict";var t,n,i,r,o,l,c,s,a,u,m,d,f,p,b,h,_,y,g,C,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,l=e._decorator,c=e.Node,s=e.ParticleSystem,a=e.Collider,u=e.Animation,m=e.Quat,d=e.Vec3},function(e){f=e.BaseView},function(e){p=e.BindColliderTrigger},function(e){b=e.Player},function(e){h=e.nullifySubscription},null,function(e){_=e.instantFunc},function(e){y=e.Timer},function(e){g=e.udm},function(e){C=e.gm},function(e){v=e.concat}],execute:function(){var D,I,P,w,B,H,N,T,S;o._RF.push({},"584c6eQbqZLfKdmWicyxwdG","HomeChest",void 0);var z=l.ccclass,E=l.property;e("HomeChest",(D=z("HomeChest"),I=E(c),P=E(s),w=E(s),D((N=t((H=function(e){function t(){for(var t,n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(t=e.call.apply(e,[this].concat(o))||this).ID=null,i(t,"centerNode",N,r(t)),i(t,"standByParticle",T,r(t)),i(t,"burstParticle",S,r(t)),t._collider=null,t._sub_claim_anim=null,t._claim_anim=!0,t}n(t,e);var o=t.prototype;return o.willBind=function(){this._collider=this.getComponent(a)},o.useObserves=function(){var e=this;return[g.homeChest.subscribe((function(t){null!=e.ID&&(t.list.map((function(e){return e.id})).includes(e.ID)||e._claim_anim||e.node.destroy())})),C.claimHomeChestIDCommand.subscribe((function(t){t.ID==e.ID&&e.claimAnim()}))]},o.start=function(){var e=this;this.getMainSubscription().add(p(this._collider).subscribe((function(t){"onTriggerEnter"==t.event.type&&(null!=t.event.otherCollider.node.getComponent(b)&&e.complete())})))},o.complete=function(){C.choosedHomeChestID.value=this.ID,C.openHomeChestEnabled.value=!0},o.onDestroyView=function(){h.call(this,"_sub_claim_anim")},o.claimAnim=function(){var e=this;this._claim_anim=!0,h.call(this,"_sub_claim_anim"),this._sub_claim_anim=v(_((function(){e.centerNode.getComponent(u).stop(),e.centerNode.setRTS(m.IDENTITY,d.ZERO,d.ONE),e.standByParticle.stop(),e.burstParticle.play()})),y(2),_((function(){e.node.destroy()}))).subscribe()},t}(f)).prototype,"centerNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(H.prototype,"standByParticle",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(H.prototype,"burstParticle",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=H))||B));o._RF.pop()}}}));

System.register("chunks:///_virtual/HomeChestContainer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts","./CreatorSchedule.ts","./DataManager.ts","./utils.ts","./index.ts","./BundleAssetsManager.ts","./CommonObservable.ts","./Facility.ts","./RandomChooseTools.ts","./HomeChest.ts","./UserDataManager.ts","./never.ts","./concat2.ts"],(function(e){"use strict";var t,n,s,o,i,a,r,c,u,l,h,f,d,m,b,C,g,p,v;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,s=e._decorator,o=e.v3,i=e.v2,a=e.instantiate,r=e.Vec2},function(e){c=e.BaseView},function(e){u=e.Interval},function(e){l=e.dm},function(e){h=e.nullifySubscription},null,function(e){f=e.bam},function(e){d=e.instantFunc},function(e){m=e.Facility},function(e){b=e.randomChoose},function(e){C=e.HomeChest},function(e){g=e.udm},function(e){p=e.NEVER},function(e){v=e.concat}],execute:function(){var _;n._RF.push({},"a2511PiaClKsbz/nhca0K5z","HomeChestContainer",void 0);var y=s.ccclass,H=(s.property,o()),w=i();e("HomeChestContainer",y("HomeChestContainer")(_=function(e){function n(){for(var t,n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return(t=e.call.apply(e,[this].concat(s))||this)._facilityNodes=null,t._sub_gen=null,t}t(n,e);var s=n.prototype;return s.willBind=function(){this._facilityNodes=this.node.parent.getComponentsInChildren(m).map((function(e){return e.node}))},s.onLoadView=function(){var e=this;h.call(this,"_sub_gen"),this._sub_gen=p.subscribe(),g.homeChest.value.list.forEach((function(t){e.genHomeChest(t.id)}))},s.useObserves=function(){return[u(1,this.node).subscribe(this.stepRefresh.bind(this))]},s.stepRefresh=function(){var e=this,t=l.refreshHomeChest();t.addList.length>0&&(h.call(this,"_sub_gen"),this._sub_gen=p.subscribe(),t.addList.forEach((function(t){e.genHomeChest(t.id)})))},s.genHomeChest=function(e){var t=this,n=v(f.loadGamePrefabs("GameObjects/HomeChest",(function(){for(var e=arguments.length,n=new Array(e),s=0;s<e;s++)n[s]=arguments[s];var o=n[0],i=n[1];t.log("load game prefabs",o,i)})),d((function(){var n=f.prefabs.HomeChest,s=a(n);s.setParent(t.node),s.getComponent(C).ID=e,b(t._facilityNodes).getPosition(H),H.y=0,r.random(w),w.multiplyScalar(l.xlsx.HomeChest.main.scope),H.x=w.x,H.z=w.y,s.setPosition(H)}))).subscribe();this._sub_gen.add(n)},n}(c))||_);n._RF.pop()}}}));

System.register("chunks:///_virtual/HotObservable.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Subject.ts","./Subscription.ts","./SubscriptionLoggable.ts","./applyMixins.ts","./Notification.ts"],(function(e){"use strict";var t,i,s,n,o,r,c;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy},function(e){s=e.Subject},function(e){n=e.Subscription},function(e){o=e.SubscriptionLoggable},function(e){r=e.applyMixins},function(e){c=e.observeNotification}],execute:function(){i._RF.push({},"7701d+TU5BH+4+eIOJ21Rrg","HotObservable",void 0);var u=e("HotObservable",function(e){function i(t,i){var s;return(s=e.call(this)||this).subscriptions=[],s.scheduler=void 0,s.logSubscribedFrame=void 0,s.logUnsubscribedFrame=void 0,s.messages=t,s.scheduler=i,s}t(i,e);var s=i.prototype;return s._subscribe=function(t){var i=this,s=i.logSubscribedFrame(),o=new n;return o.add(new n((function(){i.logUnsubscribedFrame(s)}))),o.add(e.prototype._subscribe.call(this,t)),o},s.setup=function(){for(var e=this,t=e.messages.length,i=function(t){var i,s,n;i=e.messages[t],s=i.notification,n=i.frame,e.scheduler.schedule((function(){c(s,e)}),n)},s=0;s<t;s++)i(s)},i}(s));r(u,[o]),i._RF.pop()}}}));

System.register("chunks:///_virtual/i18n.ts",["cc","./LanguageData.ts"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy},function(n){t("i18n",n)}],execute:function(){n._RF.push({},"b9677onLatNurLW32H8VS+b","i18n",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/identity.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){t("identity",(function(t){return t})),e._RF.push({},"838d7hb5tdKmJdurTYT+G1V","identity",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/ignoreElements.ts",["cc","./lift.ts","./OperatorSubscriber.ts","./noop.ts"],(function(e){"use strict";var t,n,r,c;return{setters:[function(e){t=e.cclegacy},function(e){n=e.operate},function(e){r=e.createOperatorSubscriber},function(e){c=e.noop}],execute:function(){e("ignoreElements",(function(){return n((function(e,t){e.subscribe(r(t,c))}))})),t._RF.push({},"0745dgU7uBGFYO0H9Xke4z5","ignoreElements",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/iif.ts",["cc","./defer.ts"],(function(t){"use strict";var i,e;return{setters:[function(t){i=t.cclegacy},function(t){e=t.defer}],execute:function(){t("iif",(function(t,i,c){return e((function(){return t()?i:c}))})),i._RF.push({},"ccf86Y+Ci1Hu6L3CZRYliRP","iif",void 0),i._RF.pop()}}}));

System.register("chunks:///_virtual/Immediate.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"1ff36eAdm9PT7WCW8NMS2y2","Immediate",void 0);var n,r=1,i={};function c(e){return e in i&&(delete i[e],!0)}e("Immediate",{setImmediate:function(e){var t=r++;return i[t]=!0,n||(n=Promise.resolve()),n.then((function(){return c(t)&&e()})),t},clearImmediate:function(e){c(e)}}),e("TestTools",{pending:function(){return Object.keys(i).length}});t._RF.pop()}}}));

System.register("chunks:///_virtual/immediateProvider.ts",["cc","./Immediate.ts"],(function(e){"use strict";var t,i;return{setters:[function(e){t=e.cclegacy},function(e){i=e.Immediate}],execute:function(){t._RF.push({},"27936BltgZFW5QvNodnNIPG","immediateProvider",void 0);var a=i.setImmediate,r=i.clearImmediate,d=e("immediateProvider",{setImmediate:function(){var e=d.delegate;return((null==e?void 0:e.setImmediate)||a).apply(void 0,arguments)},clearImmediate:function(e){var t=d.delegate;return((null==t?void 0:t.clearImmediate)||r)(e)},delegate:void 0});t._RF.pop()}}}));

System.register("chunks:///_virtual/index.ts",["cc","./types.ts","./Observable2.ts","./ConnectableObservable.ts","./observable.ts","./animationFrames.ts","./Subject.ts","./BehaviorSubject.ts","./ReplaySubject.ts","./AsyncSubject.ts","./asap.ts","./async.ts","./queue.ts","./animationFrame.ts","./VirtualTimeScheduler.ts","./Scheduler.ts","./Subscription.ts","./Subscriber.ts","./Notification.ts","./pipe.ts","./noop.ts","./identity.ts","./isObservable.ts","./lastValueFrom.ts","./firstValueFrom.ts","./ArgumentOutOfRangeError.ts","./EmptyError.ts","./NotFoundError.ts","./ObjectUnsubscribedError.ts","./SequenceError.ts","./timeout.ts","./UnsubscriptionError.ts","./bindCallback.ts","./bindNodeCallback.ts","./combineLatest2.ts","./concat2.ts","./connectable.ts","./defer.ts","./empty.ts","./forkJoin.ts","./from.ts","./fromEvent.ts","./fromEventPattern.ts","./generate.ts","./iif.ts","./interval.ts","./merge.ts","./never.ts","./of.ts","./onErrorResumeNext.ts","./pairs.ts","./partition.ts","./race2.ts","./range.ts","./throwError.ts","./timer.ts","./using.ts","./zip.ts","./scheduled.ts","./config.ts","./audit.ts","./auditTime.ts","./buffer.ts","./bufferCount.ts","./bufferTime.ts","./bufferToggle.ts","./bufferWhen.ts","./catchError.ts","./combineAll.ts","./combineLatestAll.ts","./combineLatestWith.ts","./concatAll.ts","./concatMap.ts","./concatMapTo.ts","./concatWith.ts","./connect.ts","./count.ts","./debounce.ts","./debounceTime.ts","./defaultIfEmpty.ts","./delay.ts","./delayWhen.ts","./dematerialize.ts","./distinct.ts","./distinctUntilChanged.ts","./distinctUntilKeyChanged.ts","./elementAt.ts","./endWith.ts","./every.ts","./exhaust.ts","./exhaustAll.ts","./exhaustMap.ts","./expand.ts","./filter.ts","./finalize.ts","./find.ts","./findIndex.ts","./first.ts","./groupBy.ts","./ignoreElements.ts","./isEmpty.ts","./last.ts","./map.ts","./mapTo.ts","./materialize.ts","./max.ts","./mergeAll.ts","./flatMap.ts","./mergeMap.ts","./mergeMapTo.ts","./mergeScan.ts","./mergeWith.ts","./min.ts","./multicast.ts","./observeOn.ts","./pairwise.ts","./pluck.ts","./publish.ts","./publishBehavior.ts","./publishLast.ts","./publishReplay.ts","./raceWith.ts","./reduce.ts","./repeat.ts","./repeatWhen.ts","./retry.ts","./retryWhen.ts","./refCount.ts","./sample.ts","./sampleTime.ts","./scan.ts","./sequenceEqual.ts","./share.ts","./shareReplay.ts","./single.ts","./skip.ts","./skipLast.ts","./skipUntil.ts","./skipWhile.ts","./startWith.ts","./subscribeOn.ts","./switchAll.ts","./switchMap.ts","./switchMapTo.ts","./switchScan.ts","./take.ts","./takeLast.ts","./takeUntil.ts","./takeWhile.ts","./tap.ts","./throttle.ts","./throttleTime.ts","./throwIfEmpty.ts","./timeInterval.ts","./timeoutWith.ts","./timestamp.ts","./toArray.ts","./window.ts","./windowCount.ts","./windowTime.ts","./windowToggle.ts","./windowWhen.ts","./withLatestFrom.ts","./zipAll.ts","./zipWith.ts"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy},null,function(n){t("Observable",n.Observable)},function(n){t("ConnectableObservable",n.ConnectableObservable)},function(n){t("observable",n.observable)},function(n){t("animationFrames",n.animationFrames)},function(n){t("Subject",n.Subject)},function(n){t("BehaviorSubject",n.BehaviorSubject)},function(n){t("ReplaySubject",n.ReplaySubject)},function(n){t("AsyncSubject",n.AsyncSubject)},function(n){var e={};e.asap=n.asap,e.asapScheduler=n.asapScheduler,t(e)},function(n){var e={};e.async=n.async,e.asyncScheduler=n.asyncScheduler,t(e)},function(n){var e={};e.queue=n.queue,e.queueScheduler=n.queueScheduler,t(e)},function(n){var e={};e.animationFrame=n.animationFrame,e.animationFrameScheduler=n.animationFrameScheduler,t(e)},function(n){var e={};e.VirtualAction=n.VirtualAction,e.VirtualTimeScheduler=n.VirtualTimeScheduler,t(e)},function(n){t("Scheduler",n.Scheduler)},function(n){t("Subscription",n.Subscription)},function(n){t("Subscriber",n.Subscriber)},function(n){var e={};e.Notification=n.Notification,e.NotificationKind=n.NotificationKind,t(e)},function(n){t("pipe",n.pipe)},function(n){t("noop",n.noop)},function(n){t("identity",n.identity)},function(n){t("isObservable",n.isObservable)},function(n){t("lastValueFrom",n.lastValueFrom)},function(n){t("firstValueFrom",n.firstValueFrom)},function(n){t("ArgumentOutOfRangeError",n.ArgumentOutOfRangeError)},function(n){t("EmptyError",n.EmptyError)},function(n){t("NotFoundError",n.NotFoundError)},function(n){t("ObjectUnsubscribedError",n.ObjectUnsubscribedError)},function(n){t("SequenceError",n.SequenceError)},function(n){var e={};e.TimeoutError=n.TimeoutError,e.timeout=n.timeout,t(e)},function(n){t("UnsubscriptionError",n.UnsubscriptionError)},function(n){t("bindCallback",n.bindCallback)},function(n){t("bindNodeCallback",n.bindNodeCallback)},function(n){t("combineLatest",n.combineLatest)},function(n){t("concat",n.concat)},function(n){t("connectable",n.connectable)},function(n){t("defer",n.defer)},function(n){var e={};e.EMPTY=n.EMPTY,e.empty=n.empty,t(e)},function(n){t("forkJoin",n.forkJoin)},function(n){t("from",n.from)},function(n){t("fromEvent",n.fromEvent)},function(n){t("fromEventPattern",n.fromEventPattern)},function(n){t("generate",n.generate)},function(n){t("iif",n.iif)},function(n){t("interval",n.interval)},function(n){t("merge",n.merge)},function(n){var e={};e.NEVER=n.NEVER,e.never=n.never,t(e)},function(n){t("of",n.of)},function(n){t("onErrorResumeNext",n.onErrorResumeNext)},function(n){t("pairs",n.pairs)},function(n){t("partition",n.partition)},function(n){t("race",n.race)},function(n){t("range",n.range)},function(n){t("throwError",n.throwError)},function(n){t("timer",n.timer)},function(n){t("using",n.using)},function(n){t("zip",n.zip)},function(n){t("scheduled",n.scheduled)},function(n){t("config",n.config)},function(n){t("audit",n.audit)},function(n){t("auditTime",n.auditTime)},function(n){t("buffer",n.buffer)},function(n){t("bufferCount",n.bufferCount)},function(n){t("bufferTime",n.bufferTime)},function(n){t("bufferToggle",n.bufferToggle)},function(n){t("bufferWhen",n.bufferWhen)},function(n){t("catchError",n.catchError)},function(n){t("combineAll",n.combineAll)},function(n){t("combineLatestAll",n.combineLatestAll)},function(n){t("combineLatestWith",n.combineLatestWith)},function(n){t("concatAll",n.concatAll)},function(n){t("concatMap",n.concatMap)},function(n){t("concatMapTo",n.concatMapTo)},function(n){t("concatWith",n.concatWith)},function(n){t("connect",n.connect)},function(n){t("count",n.count)},function(n){t("debounce",n.debounce)},function(n){t("debounceTime",n.debounceTime)},function(n){t("defaultIfEmpty",n.defaultIfEmpty)},function(n){t("delay",n.delay)},function(n){t("delayWhen",n.delayWhen)},function(n){t("dematerialize",n.dematerialize)},function(n){t("distinct",n.distinct)},function(n){t("distinctUntilChanged",n.distinctUntilChanged)},function(n){t("distinctUntilKeyChanged",n.distinctUntilKeyChanged)},function(n){t("elementAt",n.elementAt)},function(n){t("endWith",n.endWith)},function(n){t("every",n.every)},function(n){t("exhaust",n.exhaust)},function(n){t("exhaustAll",n.exhaustAll)},function(n){t("exhaustMap",n.exhaustMap)},function(n){t("expand",n.expand)},function(n){t("filter",n.filter)},function(n){t("finalize",n.finalize)},function(n){t("find",n.find)},function(n){t("findIndex",n.findIndex)},function(n){t("first",n.first)},function(n){t("groupBy",n.groupBy)},function(n){t("ignoreElements",n.ignoreElements)},function(n){t("isEmpty",n.isEmpty)},function(n){t("last",n.last)},function(n){t("map",n.map)},function(n){t("mapTo",n.mapTo)},function(n){t("materialize",n.materialize)},function(n){t("max",n.max)},function(n){t("mergeAll",n.mergeAll)},function(n){t("flatMap",n.flatMap)},function(n){t("mergeMap",n.mergeMap)},function(n){t("mergeMapTo",n.mergeMapTo)},function(n){t("mergeScan",n.mergeScan)},function(n){t("mergeWith",n.mergeWith)},function(n){t("min",n.min)},function(n){t("multicast",n.multicast)},function(n){t("observeOn",n.observeOn)},function(n){t("pairwise",n.pairwise)},function(n){t("pluck",n.pluck)},function(n){t("publish",n.publish)},function(n){t("publishBehavior",n.publishBehavior)},function(n){t("publishLast",n.publishLast)},function(n){t("publishReplay",n.publishReplay)},function(n){t("raceWith",n.raceWith)},function(n){t("reduce",n.reduce)},function(n){t("repeat",n.repeat)},function(n){t("repeatWhen",n.repeatWhen)},function(n){t("retry",n.retry)},function(n){t("retryWhen",n.retryWhen)},function(n){t("refCount",n.refCount)},function(n){t("sample",n.sample)},function(n){t("sampleTime",n.sampleTime)},function(n){t("scan",n.scan)},function(n){t("sequenceEqual",n.sequenceEqual)},function(n){t("share",n.share)},function(n){t("shareReplay",n.shareReplay)},function(n){t("single",n.single)},function(n){t("skip",n.skip)},function(n){t("skipLast",n.skipLast)},function(n){t("skipUntil",n.skipUntil)},function(n){t("skipWhile",n.skipWhile)},function(n){t("startWith",n.startWith)},function(n){t("subscribeOn",n.subscribeOn)},function(n){t("switchAll",n.switchAll)},function(n){t("switchMap",n.switchMap)},function(n){t("switchMapTo",n.switchMapTo)},function(n){t("switchScan",n.switchScan)},function(n){t("take",n.take)},function(n){t("takeLast",n.takeLast)},function(n){t("takeUntil",n.takeUntil)},function(n){t("takeWhile",n.takeWhile)},function(n){t("tap",n.tap)},function(n){t("throttle",n.throttle)},function(n){t("throttleTime",n.throttleTime)},function(n){t("throwIfEmpty",n.throwIfEmpty)},function(n){t("timeInterval",n.timeInterval)},function(n){t("timeoutWith",n.timeoutWith)},function(n){t("timestamp",n.timestamp)},function(n){t("toArray",n.toArray)},function(n){t("window",n.window)},function(n){t("windowCount",n.windowCount)},function(n){t("windowTime",n.windowTime)},function(n){t("windowToggle",n.windowToggle)},function(n){t("windowWhen",n.windowWhen)},function(n){t("withLatestFrom",n.withLatestFrom)},function(n){t("zipAll",n.zipAll)},function(n){t("zipWith",n.zipWith)}],execute:function(){n._RF.push({},"8fcc1MQDlNJWbpkj1j3g/S3","index",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/Infrared.ts",["./rollupPluginModLoBabelHelpers.js","cc","./InfraredSingle.ts","./ReactiveBoolean.ts","./Enums.ts","./Enemy.ts","./Player.ts","./BaseView.ts","./BindCollider.ts"],(function(e){"use strict";var t,r,n,o,i,s,l,a,u,d,c,p,h,f,b,g,y,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized,i=e.createClass},function(e){s=e.cclegacy,l=e._decorator,a=e.v3,u=e.Collider,d=e.Vec3,c=e.RigidBody},function(e){p=e.InfraredSingle},function(e){h=e.ReactiveBoolean},function(e){f=e.EnemyStatus},function(e){b=e.Enemy},function(e){g=e.Player},function(e){y=e.BaseView},function(e){v=e.BindColliderTrigger}],execute:function(){var E,_,m,S,C,B;s._RF.push({},"179acqve4JMzLgxB2uP9vhs","Infrared",void 0);var D=l.ccclass,W=l.property,w=l.executeInEditMode,I=(a(),a());e("Infrared",(E=D("Infrared"),_=W(h),E(m=w((C=t((S=function(e){function t(){for(var t,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return t=e.call.apply(e,[this].concat(i))||this,n(t,"_doorWidth",C,o(t)),t._progress=0,n(t,"_boltEnabled",B,o(t)),t.infraredSingles=[],t._collider=null,t}r(t,e);var s=t.prototype;return s.willBind=function(){var e=this;this.infraredSingles=[],this.node.children.forEach((function(t){e.infraredSingles.push(t.getComponent(p))})),this._boltEnabled.loadValue()},s.useObserves=function(){var e=this;return[this._boltEnabled.subscribe((function(t){e.progress=t?1:0,e.refresh()}))]},s.refresh=function(){var e=this;this.infraredSingles.forEach((function(t){t.progress=e.progress,t.doorWidth=e.doorWidth,t.boltEnabled=e.boltEnabled})),null==this._collider&&(this._collider=this.getComponent(u)),this._collider.size.z=this.doorWidth},s.start=function(){var e=this;this.getMainSubscription().add(v(this.getComponent(u)).subscribe((function(t){if(!(e.progress<.9||"onTriggerEnter"!=t.event.type&&"onTriggerStay"!=t.event.type)){var r=t.event.otherCollider.node;if("player"==r.name){var n=r.getComponent(g);n.isDead.value||(n.isDead.value=!0)}else{var o=r.getComponent(b);null!=o&&o.enemyStatus.value!=f.Dead&&(o.enemyStatus.value=f.Dead,d.random(I,30),o.getComponent(c).applyTorque(I))}}})))},s.open=function(){this.boltEnabled=!0},s.close=function(){this.boltEnabled=!1},i(t,[{key:"doorWidth",get:function(){return this._doorWidth},set:function(e){this._doorWidth=e,this.refresh()}},{key:"progress",get:function(){return this._progress},set:function(e){this._progress=e,this.refresh()}},{key:"boltEnabled",get:function(){return this._boltEnabled.value},set:function(e){this._boltEnabled.Value=e,this.progress=e?1:0,this.refresh()}}]),t}(y)).prototype,"_doorWidth",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),t(S.prototype,"doorWidth",[W],Object.getOwnPropertyDescriptor(S.prototype,"doorWidth"),S.prototype),B=t(S.prototype,"_boltEnabled",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return h.DefaultValue(!0)}}),t(S.prototype,"boltEnabled",[W],Object.getOwnPropertyDescriptor(S.prototype,"boltEnabled"),S.prototype),m=S))||m)||m));s._RF.pop()}}}));

System.register("chunks:///_virtual/InfraredSingle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReactiveBoolean.ts","./BaseView.ts","./math.ts"],(function(t){"use strict";var e,i,r,o,n,l,s,h,a,d,c,p,u,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,r=t.initializerDefineProperty,o=t.assertThisInitialized,n=t.createClass},function(t){l=t.cclegacy,s=t._decorator,h=t.v3,a=t.find,d=t.Line,c=t.ParticleSystem},function(t){p=t.ReactiveBoolean},function(t){u=t.BaseView},function(t){g=t.linearClamp}],execute:function(){var _,f,y,b,v,W;l._RF.push({},"93ea4gE1fpLNpqa0HV+Obvu","InfraredSingle",void 0);var C=s.ccclass,E=s.property,m=h();h(),t("InfraredSingle",(_=C("InfraredSingle"),f=E(p),_((v=e((b=function(t){function e(){for(var e,i=arguments.length,n=new Array(i),l=0;l<i;l++)n[l]=arguments[l];return e=t.call.apply(t,[this].concat(n))||this,r(e,"_doorWidth",v,o(e)),e._progress=0,r(e,"_boltEnabled",W,o(e)),e._left=null,e._right=null,e._left_sphere=null,e._right_sphere=null,e._light=null,e._particleNode=null,e._lightCylinder=null,e}i(e,t);var l=e.prototype;return l.refresh=function(){null==this._left&&(this._left=a("left",this.node)),null==this._right&&(this._right=a("right",this.node)),null==this._light&&(this._light=a("light",this.node)),null==this._lightCylinder&&(this._lightCylinder=a("lightCylinder",this.node)),this._left.setZ(this._doorWidth/2),this._right.setZ(-this._doorWidth/2),m.set(this._lightCylinder.scale),m.y=this._doorWidth/2,this._lightCylinder.setScale(m);var t=this._light.getComponent(d);t.positions=[h(0,0,-this.doorWidth/2),h(0,0,this.doorWidth/2)],t.width.constant=.2*this.progress,null==this._particleNode&&(this._particleNode=a("particle",this.node));var e=this._particleNode.getComponent(c);e.shapeModule.scale.y=this.doorWidth,e.rateOverTime.constant=g(0,1,0,50,this.progress),this._lightCylinder.active=this.boltEnabled},l.triggered=function(){this.boltEnabled=!this.boltEnabled},n(e,[{key:"doorWidth",get:function(){return this._doorWidth},set:function(t){this._doorWidth=t,this.refresh()}},{key:"progress",get:function(){return this._progress},set:function(t){this._progress=t,this.refresh()}},{key:"boltEnabled",get:function(){return this._boltEnabled.value},set:function(t){this._boltEnabled.Value=t,this.progress=t?1:0,this.refresh()}}]),e}(u)).prototype,"_doorWidth",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),e(b.prototype,"doorWidth",[E],Object.getOwnPropertyDescriptor(b.prototype,"doorWidth"),b.prototype),W=e(b.prototype,"_boltEnabled",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.DefaultValue(!0)}}),e(b.prototype,"boltEnabled",[E],Object.getOwnPropertyDescriptor(b.prototype,"boltEnabled"),b.prototype),y=b))||y));l._RF.pop()}}}));

System.register("chunks:///_virtual/innerFrom.ts",["./rollupPluginModLoBabelHelpers.js","cc","./isArrayLike.ts","./isPromise.ts","./Observable2.ts","./isInteropObservable.ts","./isAsyncIterable.ts","./throwUnobservableError.ts","./isIterable.ts","./isReadableStreamLike.ts","./isFunction.ts","./reportUnhandledError.ts","./observable.ts"],(function(e){"use strict";var r,n,t,o,i,s,c,u,a,f,l,b,p,v,m,d,h;return{setters:[function(e){r=e.createForOfIteratorHelperLoose,n=e.asyncToGenerator,t=e.regeneratorRuntime,o=e.asyncIterator},function(e){i=e.cclegacy},function(e){s=e.isArrayLike},function(e){c=e.isPromise},function(e){u=e.Observable},function(e){a=e.isInteropObservable},function(e){f=e.isAsyncIterable},function(e){l=e.createInvalidObservableTypeError},function(e){b=e.isIterable},function(e){p=e.isReadableStreamLike,v=e.readableStreamLikeToAsyncGenerator},function(e){m=e.isFunction},function(e){d=e.reportUnhandledError},function(e){h=e.observable}],execute:function(){function y(e){return new u((function(r){var n=e[h]();if(m(n.subscribe))return n.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")}))}function k(e){return new u((function(r){for(var n=0;n<e.length&&!r.closed;n++)r.next(e[n]);r.complete()}))}function x(e){return new u((function(r){e.then((function(e){r.closed||(r.next(e),r.complete())}),(function(e){return r.error(e)})).then(null,d)}))}function w(e){return new u((function(n){for(var t,o=r(e);!(t=o()).done;){var i=t.value;if(n.next(i),n.closed)return}n.complete()}))}function I(e){return new u((function(r){(function(e,r){return L.apply(this,arguments)})(e,r).catch((function(e){return r.error(e)}))}))}function F(e){return I(v(e))}function L(){return(L=n(t().mark((function e(r,n){var i,s,c,u,a,f;return t().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=!1,s=!1,e.prev=2,u=o(r);case 4:return e.next=6,u.next();case 6:if(!(i=!(a=e.sent).done)){e.next=14;break}if(f=a.value,n.next(f),!n.closed){e.next=11;break}return e.abrupt("return");case 11:i=!1,e.next=4;break;case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),s=!0,c=e.t0;case 20:if(e.prev=20,e.prev=21,!i||null==u.return){e.next=25;break}return e.next=25,u.return();case 25:if(e.prev=25,!s){e.next=28;break}throw c;case 28:return e.finish(25);case 29:return e.finish(20);case 30:n.complete();case 31:case"end":return e.stop()}}),e,null,[[2,16,20,30],[21,,25,29]])})))).apply(this,arguments)}e({fromArrayLike:k,fromAsyncIterable:I,fromInteropObservable:y,fromIterable:w,fromPromise:x,fromReadableStreamLike:F,innerFrom:function(e){if(e instanceof u)return e;if(null!=e){if(a(e))return y(e);if(s(e))return k(e);if(c(e))return x(e);if(f(e))return I(e);if(b(e))return w(e);if(p(e))return F(e)}throw l(e)}}),i._RF.push({},"d98869f5eFKEZtrdxkZlrVD","innerFrom",void 0),i._RF.pop()}}}));

System.register("chunks:///_virtual/interval.ts",["cc","./async.ts","./timer.ts"],(function(t){"use strict";var e,n,c;return{setters:[function(t){e=t.cclegacy},function(t){n=t.asyncScheduler},function(t){c=t.timer}],execute:function(){t("interval",(function(t,e){void 0===t&&(t=0);void 0===e&&(e=n);t<0&&(t=0);return c(t,t,e)})),e._RF.push({},"d1aba8/xxNEyIpR9EsemXE9","interval",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/intervalProvider.ts",["cc"],(function(t){"use strict";var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){r._RF.push({},"1e22aS7OSlKyqCrmHIHtxWQ","intervalProvider",void 0);var n=t("intervalProvider",{setInterval:function(t){function r(r,n){return t.apply(this,arguments)}return r.toString=function(){return t.toString()},r}((function(t,r){for(var e=n.delegate,a=arguments.length,i=new Array(a>2?a-2:0),l=2;l<a;l++)i[l-2]=arguments[l];return null!=e&&e.setInterval?e.setInterval.apply(e,[t,r].concat(i)):setInterval.apply(void 0,[t,r].concat(i))})),clearInterval:function(t){function r(r){return t.apply(this,arguments)}return r.toString=function(){return t.toString()},r}((function(t){var r=n.delegate;return((null==r?void 0:r.clearInterval)||clearInterval)(t)})),delegate:void 0});r._RF.pop()}}}));

System.register("chunks:///_virtual/isArrayLike.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"1b165dwkcpEircvrVtLVI/i","isArrayLike",void 0);t("isArrayLike",(function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}));e._RF.pop()}}}));

System.register("chunks:///_virtual/isAsyncIterable.ts",["cc","./isFunction.ts"],(function(t){"use strict";var n,c;return{setters:[function(t){n=t.cclegacy},function(t){c=t.isFunction}],execute:function(){t("isAsyncIterable",(function(t){return Symbol.asyncIterator&&c(null==t?void 0:t[Symbol.asyncIterator])})),n._RF.push({},"060cbynKVNFSZBGIkIGDZR8","isAsyncIterable",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/isDate.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){t("isValidDate",(function(t){return t instanceof Date&&!isNaN(t)})),e._RF.push({},"141c3iZRl5MPb/25Ml6rIWe","isDate",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/isEmpty.ts",["cc","./lift.ts","./OperatorSubscriber.ts"],(function(t){"use strict";var e,c,n;return{setters:[function(t){e=t.cclegacy},function(t){c=t.operate},function(t){n=t.createOperatorSubscriber}],execute:function(){t("isEmpty",(function(){return c((function(t,e){t.subscribe(n(e,(function(){e.next(!1),e.complete()}),(function(){e.next(!0),e.complete()})))}))})),e._RF.push({},"5b386r9gzpEcqpYlPi2Hm+c","isEmpty",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/isFunction.ts",["cc"],(function(n){"use strict";var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){n("isFunction",(function(n){return"function"==typeof n})),t._RF.push({},"622dbMQDvpJa7lAF+HnKyMD","isFunction",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/isInteropObservable.ts",["cc","./observable.ts","./isFunction.ts"],(function(e){"use strict";var t,n,s;return{setters:[function(e){t=e.cclegacy},function(e){n=e.observable},function(e){s=e.isFunction}],execute:function(){e("isInteropObservable",(function(e){return s(e[n])})),t._RF.push({},"087fcdcA7dJj6lRrLE4O1JT","isInteropObservable",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/isIterable.ts",["cc","./iterator.ts","./isFunction.ts"],(function(t){"use strict";var e,n,i;return{setters:[function(t){e=t.cclegacy},function(t){n=t.iterator},function(t){i=t.isFunction}],execute:function(){t("isIterable",(function(t){return i(null==t?void 0:t[n])})),e._RF.push({},"e2f9bo+y69Pp79kYnxu+uoY","isIterable",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/isObservable.ts",["cc","./Observable2.ts","./isFunction.ts"],(function(e){"use strict";var s,t,n;return{setters:[function(e){s=e.cclegacy},function(e){t=e.Observable},function(e){n=e.isFunction}],execute:function(){e("isObservable",(function(e){return!!e&&(e instanceof t||n(e.lift)&&n(e.subscribe))})),s._RF.push({},"8e83cJS4LZNYL5kcjTzlkoL","isObservable",void 0),s._RF.pop()}}}));

System.register("chunks:///_virtual/isPromise.ts",["cc","./isFunction.ts"],(function(i){"use strict";var t,n;return{setters:[function(i){t=i.cclegacy},function(i){n=i.isFunction}],execute:function(){i("isPromise",(function(i){return n(null==i?void 0:i.then)})),t._RF.push({},"3a1a5I+FMVKZK1NY4yMNWry","isPromise",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/isReadableStreamLike.ts",["./rollupPluginModLoBabelHelpers.js","cc","./isFunction.ts"],(function(e){"use strict";var r,n,t,a,s;return{setters:[function(e){r=e.wrapAsyncGenerator,n=e.regeneratorRuntime,t=e.awaitAsyncGenerator},function(e){a=e.cclegacy},function(e){s=e.isFunction}],execute:function(){function i(){return(i=r(n().mark((function e(r){var a,s,i;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.getReader(),e.prev=1;case 2:return e.next=5,t(a.read());case 5:if(s=e.sent,i=s.value,!s.done){e.next=10;break}return e.abrupt("return");case 10:return e.next=12,i;case 12:e.next=2;break;case 14:return e.prev=14,a.releaseLock(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,,14,17]])})))).apply(this,arguments)}e({isReadableStreamLike:function(e){return s(null==e?void 0:e.getReader)},readableStreamLikeToAsyncGenerator:function(e){return i.apply(this,arguments)}}),a._RF.push({},"cf7f7WfrLNHnYsYZJ/sPH7F","isReadableStreamLike",void 0),a._RF.pop()}}}));

System.register("chunks:///_virtual/isScheduler.ts",["cc","./isFunction.ts"],(function(c){"use strict";var e,t;return{setters:[function(c){e=c.cclegacy},function(c){t=c.isFunction}],execute:function(){c("isScheduler",(function(c){return c&&t(c.schedule)})),e._RF.push({},"0dcdfOib2lIhJ4CIhCdH36c","isScheduler",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/iterator.ts",["cc"],(function(t){"use strict";var r;return{setters:[function(t){r=t.cclegacy}],execute:function(){function e(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}t("getSymbolIterator",e),r._RF.push({},"f917auaTYxLJL1ZR91k1i8J","iterator",void 0);t("iterator",e());r._RF.pop()}}}));

System.register("chunks:///_virtual/joinAllInternals.ts",["cc","./identity.ts","./mapOneOrManyArgs.ts","./pipe.ts","./mergeMap.ts","./toArray.ts"],(function(n){"use strict";var t,e,r,i,s,c;return{setters:[function(n){t=n.cclegacy},function(n){e=n.identity},function(n){r=n.mapOneOrManyArgs},function(n){i=n.pipe},function(n){s=n.mergeMap},function(n){c=n.toArray}],execute:function(){n("joinAllInternals",(function(n,t){return i(c(),s((function(t){return n(t)})),t?r(t):e)})),t._RF.push({},"662ddLb/RxFAp+J9ppNWr0Z","joinAllInternals",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/JsonFromNodeXlsxTools.ts",["cc"],(function(n){"use strict";var r;return{setters:[function(n){r=n.cclegacy}],execute:function(){function e(n){if("string"==typeof n){var r=n.trim();if(r.startsWith("[")&&r.endsWith("]"))return!0}return!1}function t(n){return!("string"!=typeof n||!n.endsWith("-"))}function i(n){return!("string"!=typeof n||!n.endsWith("."))}function u(n){return!("string"!=typeof n||!n.endsWith("<Time>"))}function s(n){if("string"==typeof n&&n.endsWith("<k,v>"))return!0}function f(n){return n.endsWith("<Date>")||n.endsWith("<Time>")?n.substring(0,n.length-6):n.endsWith("<k,v>")?n.substring(0,n.length-5):n.substring(0,n.length-1)}function o(n){return new Date(864e5*n)}function a(n){if("string"==typeof n)return new Date(n);return n>=1?new Date(1900,0,Math.floor(n-1),0,0,0,Math.floor(n%1*864e5)):o(n)}function l(n){var r=n.split(","),e=r[0],t=r[1];return{key:e,value:null!=t?Number(t):t}}function v(n){if(e(n)){var r=n.trim();return r.substring(1,r.length-1).split(",").map((function(n){return isNaN(Number(n))?n:Number(n)}))}}function c(n,r,g,p){for(var b=n;b<p.length;b++){var d=p[b],m=!1;if(b>n)for(var y=r-1;y>=0;y--){var W=d[y];b==n&&y==r-1||null!=W&&(m=!0)}if(m)break;var k=d[r];if(null!=k){var N=d[r+1];if(i(k))null!=g[k=f(k)]||(g[k]={}),c(b,r+1,g[k],p);else if(t(k)){null!=g[k=f(k)]||(g[k]=[]),h(b,r+1,g[k],p)}else if(e(N))g[k]=v(N);else if("string"==typeof(x=k)&&x.endsWith("<Date>")){k=f(k);var T=a(d[r+1]);g[k]=T}else if(u(k)){k=f(k);var D=o(d[r+1]);g[k]=D}else if(s(k)){k=f(k);var F=l(d[r+1]);g[k]=F}else{var w=d[r+1];g[k]=w}}}var x}function h(n,r,u,s){for(var f=n;f<s.length;f++){var o=s[f],a=!1;if(f>n)for(var l=r-1;l>=0;l--){var g=o[l];f==n&&l==r-1||null!=g&&(a=!0)}if(a)break;var p=o[r];if(null!=p){var b=o[r+1];if(i(p)){var d={};u.push(d),c(f,r+1,d,s)}else if(t(p)){var m=[];u.push(m),h(f,r+1,m,s)}else e(b)?u[p]=v(b):u.push(p)}}}n({jsonArrayTree:function(n,r,e){var t=[];return h(0,0,t,n),t},jsonObjectTree:function(n,r,e){var t={};return c(0,0,t,n),t}}),r._RF.push({},"488ebbk77xG9KuTwOIeFX6M","JsonFromNodeXlsxTools",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/Key.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./Player.ts","./BaseView.ts","./BindCollider.ts","./AnimationPlay.ts","./index.ts","./utils.ts","./concat2.ts","./of.ts","./map.ts"],(function(e){"use strict";var n,t,i,o,s,r,c,l,a,u,d,y,f,p,_,h,m,b,g;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,c=e.v3,l=e.Collider,a=e.find,u=e.Animation},function(e){d=e.gm},function(e){y=e.Player},function(e){f=e.BaseView},function(e){p=e.BindColliderTrigger},function(e){_=e.AnimationPlay},null,function(e){h=e.nullifySubscription},function(e){m=e.concat},function(e){b=e.of},function(e){g=e.map}],execute:function(){var v,C,k;s._RF.push({},"495cdcSJyRE3ZW4moCSqhqu","Key",void 0);var K=r.ccclass,A=r.property;c(),e("Key",K("Key")((k=n((C=function(e){function n(){for(var n,t=arguments.length,s=new Array(t),r=0;r<t;r++)s[r]=arguments[r];return n=e.call.apply(e,[this].concat(s))||this,i(n,"keyId",k,o(n)),n._collider=null,n._centerNode=null,n._anim_sub=null,n}t(n,e);var s=n.prototype;return s.willBind=function(){this._collider=this.getComponent(l),this._centerNode=a("center",this.node)},s.start=function(){var e=this;this.getMainSubscription().add(p(this._collider).subscribe((function(n){if("onTriggerEnter"==n.event.type){var t=n.event.otherCollider.node.getComponent(y);if(null!=t){e._collider.enabled=!1;var i=t.gotKeys.value;i.push(e.keyId),t.gotKeys.value=i,e.node.setParent(t.node),e.node.setPosition(c(0,1,0)),e.node.setRotationFromEuler(c(0,90,0)),e.gotKeyAnim()}}})))},s.standbyAnim=function(){h.call(this,"_anim_sub"),this._anim_sub=m(_(this._centerNode.getComponent(u),"key_rot")).subscribe()},s.gotKeyAnim=function(){var e=this;h.call(this,"_anim_sub"),this._anim_sub=m(_(this._centerNode.getComponent(u),"key_got"),b(null).pipe(g((function(n){e.node.active=!1,d.gameRoot3D.keys[e.keyId]=e})))).subscribe()},s.useKeyAnim=function(){var e=this;h.call(this,"_anim_sub"),this._anim_sub=m(_(this._centerNode.getComponent(u),"key_use"),b(null).pipe(g((function(n){e.node.active=!1})))).subscribe()},n}(f)).prototype,"keyId",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"0"}}),v=C))||v);s._RF.pop()}}}));

System.register("chunks:///_virtual/KeyEvent.ts",["cc","./index.ts","./Observable2.ts"],(function(n){"use strict";var e,t,u,r;return{setters:[function(n){e=n.cclegacy,t=n.input,u=n.Input},null,function(n){r=n.Observable}],execute:function(){n({KeyDown:function(){var n=this;return new r((function(e){var r=function(n){e.next(n.keyCode)};return t.on(u.EventType.KEY_DOWN,r,n),function(){t.off(u.EventType.KEY_DOWN,r,n)}}))},KeyDownUp:function(){var n=this;return new r((function(e){var r=function(n){return e.next(n)},o=function(n){return e.next(n)};return t.on(u.EventType.KEY_DOWN,r,n),t.on(u.EventType.KEY_UP,o,n),function(){t.off(u.EventType.KEY_DOWN,r,n),t.off(u.EventType.KEY_UP,o,n)}}))},KeyUp:function(){var n=this;return new r((function(e){var r=function(n){e.next(n.keyCode)};return t.on(u.EventType.KEY_UP,r,n),function(){t.off(u.EventType.KEY_UP,r,n)}}))}}),e._RF.push({},"50812ujqWFKtq2QFVIx29J0","KeyEvent",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/last.ts",["cc","./EmptyError.ts","./filter.ts","./takeLast.ts","./throwIfEmpty.ts","./defaultIfEmpty.ts","./identity.ts"],(function(t){"use strict";var n,r,e,u,i,c,f;return{setters:[function(t){n=t.cclegacy},function(t){r=t.EmptyError},function(t){e=t.filter},function(t){u=t.takeLast},function(t){i=t.throwIfEmpty},function(t){c=t.defaultIfEmpty},function(t){f=t.identity}],execute:function(){t("last",(function(t,n){var s=arguments.length>=2;return function(o){return o.pipe(t?e((function(n,r){return t(n,r,o)})):f,u(1),s?c(n):i((function(){return new r})))}})),n._RF.push({},"bc055PJ8NdGl5+wykL3YkRI","last",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/lastValueFrom.ts",["cc","./EmptyError.ts"],(function(t){"use strict";var e,r;return{setters:[function(t){e=t.cclegacy},function(t){r=t.EmptyError}],execute:function(){t("lastValueFrom",(function(t,e){var n="object"==typeof e;return new Promise((function(c,u){var o,s=!1;t.subscribe({next:function(t){o=t,s=!0},error:u,complete:function(){s?c(o):n?c(e.defaultValue):u(new r)}})}))})),e._RF.push({},"cc805vU/0xAO4IY5w3PBQyG","lastValueFrom",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/LayoutEx.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,a,s,h,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,a=t._decorator,s=t.Vec3,h=t.Widget,o=t.Layout}],execute:function(){var n;e._RF.push({},"947c58+FIVJX54+TzRnW31x","LayoutEx",void 0);var r=a.ccclass,u=(a.property,new s);t("LayoutEx",r("LayoutEx")(n=function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var a=e.prototype;return a._checkUsefulObj=function(){this._usefulLayoutObj.length=0;for(var t=this.node.children,i=0;i<t.length;++i){var e=t[i],a=e._uiProps.uiTransformComp;if(e.activeInHierarchy&&a){var s;if((null==(s=e.getComponent(h))?void 0:s.target)==this.node)continue;this._usefulLayoutObj.push(a)}}},a._doLayoutVertically=function(t,i,e,a){var s=this.node._uiProps.uiTransformComp.anchorPoint,o=this._getFixedBreakingNum(),n=1,r=this._paddingBottom;1===this._verticalDirection&&(n=-1,r=this._paddingTop);var l=(this._verticalDirection-s.y)*t+n*r,c=l-n*this._spacingY,_=0,d=0,g=0,p=0,v=!1,f=this._usefulLayoutObj.length,y=this._cellSize.height,m=this._getPaddingV();3!==this._layoutType&&2===this._resizeMode&&(y=(t-m-(f-1)*this._spacingY)/f);for(var x=this._usefulLayoutObj,L=0;L<x.length;++L){var M,z=x[L],b=z.node;if((null==(M=b.getComponent(h))?void 0:M.target)!=this.node){var P=b.scale,T=this._getUsedScaleValue(P.x),S=this._getUsedScaleValue(P.y);2===this._resizeMode&&(z.height=y/S,3===this._layoutType&&(z.width=this._cellSize.width/T));var V=Math.abs(this._verticalDirection-z.anchorY),j=z.width*T,D=z.height*S;j>_&&(d=Math.max(_,d),g=_||j,_=j),c+=n*(V*D+this._spacingY);var w=n*(1-V)*D;if(i){if(o>0)(v=L/o>0&&L%o==0)&&(g=_>D?_:g);else if(D>t-m)c>l+n*(V*D)&&(v=!0);else{var O=(1-this._verticalDirection-s.y)*t,C=c+w+n*(n>0?this._paddingTop:this._paddingBottom);v=Math.abs(C)>Math.abs(O)}v&&(c=l+n*(V*D),j!==_&&(g=_),p+=g+this._spacingX,g=_=j)}var X=e(b,z,p);a&&(b.getPosition(u),b.setPosition(X,c,u.z)),c+=w}}return g=Math.max(g,_),Math.max(d,p+g)+this._getPaddingH()},a._doLayoutHorizontally=function(t,i,e,a){var s=this.node._uiProps.uiTransformComp.anchorPoint,o=this._getFixedBreakingNum(),n=1,r=this._paddingLeft;1===this._horizontalDirection&&(n=-1,r=this._paddingRight);var u=(this._horizontalDirection-s.x)*t+n*r,l=u-n*this._spacingX,c=0,_=0,d=0,g=0,p=!1,v=this._usefulLayoutObj.length,f=this._cellSize.width,y=this._getPaddingH();3!==this._layoutType&&2===this._resizeMode&&(f=(t-y-(v-1)*this._spacingX)/v);for(var m=this._usefulLayoutObj,x=0;x<m.length;++x){var L,M=m[x],z=M.node;if((null==(L=z.getComponent(h))?void 0:L.target)!=this.node){var b=z.scale,P=this._getUsedScaleValue(b.x),T=this._getUsedScaleValue(b.y);2===this._resizeMode&&(M.width=f/P,3===this._layoutType&&(M.height=this._cellSize.height/T));var S=Math.abs(this._horizontalDirection-M.anchorX),V=M.width*P,j=M.height*T;j>d&&(g=Math.max(d,g),_=d||j,d=j),l+=n*(S*V+this._spacingX);var D=n*(1-S)*V;if(i){if(o>0)(p=x/o>0&&x%o==0)&&(_=d>j?d:_);else if(V>t-y)l>u+n*(S*V)&&(p=!0);else{var w=(1-this._horizontalDirection-s.x)*t,O=l+D+n*(n>0?this._paddingRight:this._paddingLeft);p=Math.abs(O)>Math.abs(w)}p&&(l=u+n*(S*V),j!==d&&(_=d),c+=_+this._spacingY,_=d=j)}var C=e(z,M,c);a&&z.setPosition(l,C),l+=D}}return _=Math.max(_,d),Math.max(g,c+_)+this._getPaddingV()},e}(o))||n);e._RF.pop()}}}));

System.register("chunks:///_virtual/LeanDynamicPageView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts","./BindPageView.ts"],(function(e){"use strict";var t,i,n,r,o,s,a,u,h,c,g,l,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.createClass},function(e){s=e.cclegacy,a=e._decorator,u=e.PageView,h=e.Node,c=e.CCFloat,g=e.UITransform},function(e){l=e.BaseView},function(e){w=e.CCBindPageView}],execute:function(){var f,d,p,m,S,v,N,b,y;s._RF.push({},"95de0DuF7NLi7hssnJnFwED","LeanDynamicPageView",void 0);var P=a.ccclass,V=a.property;e("LeanDynamicPageView",(f=P("LeanDynamicPageView"),d=V(u),p=V(h),m=V(c),f((N=t((v=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,n(t,"pageView",N,r(t)),n(t,"contentNode",b,r(t)),n(t,"visibleSize",y,r(t)),t.currentItems={},t.isGenerated=!1,t.isOpen=!1,t}i(t,e);var s=t.prototype;return s.useObserves=function(){var e=this;return[w(this.pageView).subscribe((function(t){"scrolling"==t.state&&e.pageViewScrolling()}))]},s.pageViewScrolling=function(){var e=this,t={};for(var i in this.currentItems)this.idxNeedShow(Number(i))?t[i]=this.currentItems[i]:this.recycleRow(Number(i));this.currentItems=t,this.traverseNeedShow((function(t){null==e.currentItems[t]&&e.genRow(t)}))},s.openPageView=function(){this.isGenerated||(this.generateRows(),this.isOpen=!0)},s.getDataCount=function(){return 10},s.putAllChildren=function(e){e.destroyAllChildren()},s.getItemNode=function(){return new h},s.putItemNode=function(e){e.destroy()},s.generateRows=function(){var e=this;this.pageView.removeAllPages();for(var t=0;t<this.getDataCount();t++){var i=new h("page"+t),n=i.addComponent(g);n.width=this.itemSize,n.height=this.itemSizeSub,this.pageView.addPage(i)}this.traverseNeedShow((function(t){e.genRow(t)})),this.isGenerated=!0},s.getFirstNeedShowProgress=function(){var e=-this.visibleSize/2,t=-this.contentNode.position.x+e;return Math.floor(t/this.itemSize)},s.getLastNeedShowProgress=function(){var e=this.visibleSize/2,t=-this.contentNode.position.x+e;return Math.floor(t/this.itemSize)},s.traverseNeedShow=function(e){for(var t=this.getFirstNeedShowProgress(),i=this.getLastNeedShowProgress(),n=0,r=t;r<=i;r++)r>=0&&r<this.getDataCount()&&(e(r,n),n++)},s.idxNeedShow=function(e){var t=this.getFirstNeedShowProgress(),i=this.getLastNeedShowProgress();return e>=t&&e<=i&&e>=0&&e<=this.getDataCount()},s.refreshShowed=function(){var e=this;this.traverseNeedShow((function(t){null==e.currentItems[t]?e.genRow(t):e.refreshRow(t)}))},s.genRow=function(e){var t=this.getItemNode();t.setParent(this.contentNode.children[e]),this.currentItems[e]=t,this.refreshRow(e)},s.recycleRow=function(e){var t=this.currentItems[e];delete this.currentItems[e],this.putItemNode(t)},s.refreshRow=function(e){},s.getContentRange=function(){return[-this.itemSize/2,-this.itemSize*this.getDataCount()+this.itemSize/2]},o(t,[{key:"itemSize",get:function(){return this.pageView.getComponent(g).width}},{key:"itemSizeSub",get:function(){return this.pageView.getComponent(g).height}}]),t}(l)).prototype,"pageView",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=t(v.prototype,"contentNode",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(v.prototype,"visibleSize",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=v))||S));s._RF.pop()}}}));

System.register("chunks:///_virtual/LeanDynamicScrollView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts","./BindScrollView.ts","./index.ts","./OptimizeScrollView.ts","./Observable2.ts","./of.ts","./forkJoin.ts"],(function(e){"use strict";var t,i,r,n,o,s,l,h,c,a,u,f,w,d,g,m,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,l=e.ScrollView,h=e.Node,c=e.UITransform,a=e.v3,u=e.isValid},function(e){f=e.BaseView},function(e){w=e.CCBindScrollView},null,function(e){d=e.optimizeScrollView},function(e){g=e.Observable},function(e){m=e.of},function(e){p=e.forkJoin}],execute:function(){var v,V,b,S,N,y,z,L,I,P;o._RF.push({},"69a6eKDmjBDgYxJRCbK44LR","LeanDynamicScrollView",void 0);var R=s.ccclass,C=s.property;e("default",(v=C(l),V=C(h),R((N=t((S=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,r(t,"scrollView",N,n(t)),r(t,"contentNode",y,n(t)),r(t,"itemSize",z,n(t)),r(t,"headLength",L,n(t)),r(t,"tailLength",I,n(t)),r(t,"feelingOptimized",P,n(t)),t.currentItems={},t.isGenerated=!1,t.isOpen=!1,t}i(t,e);var o=t.prototype;return o.onLoadView=function(){this.feelingOptimized&&d(this.scrollView)},o.onDestroyView=function(){},o.useObserves=function(){var e=this;return[w(this.scrollView).subscribe((function(t){"scrolling"==t.state&&e.scrollViewScrolling()}))]},o.scrollViewScrolling=function(){var e=this;if(this.isOpen){var t={};for(var i in this.currentItems)this.idxNeedShow(Number(i))?t[i]=this.currentItems[i]:this.recycleRow(Number(i));this.currentItems=t,this.traverseNeedShow((function(t){null==e.currentItems[t]&&e.genRow(t)}))}},o.openScrollView=function(){this.isGenerated||(this.generateRows(),this.isOpen=!0)},o.closeScrollViewObservable=function(){return this.isOpen=!1,this.recycleAllObservable()},o.getDataCount=function(){return 1},o.putAllChildren=function(e){e.destroyAllChildren()},o.getItemNode=function(){return new h},o.putItemNode=function(e){e.destroy()},o.generateRows=function(){var e=this;if(this.traverseNeedShow((function(t,i){e.genRow(t,i)})),this.scrollView.vertical&&!this.scrollView.horizontal){var t=this.headLength+this.itemSize*this.getDataCount()+this.tailLength;this.contentNode.getComponent(c).height=t}else if(!this.scrollView.vertical&&this.scrollView.horizontal){var i=this.headLength+this.itemSize*this.getDataCount()+this.tailLength;this.contentNode.getComponent(c).width=i}else this.warn("不支持同时两个轴向的运动");this.isGenerated=!0},o.getFirstNeedShowProgress=function(){if(this.scrollView.vertical&&!this.scrollView.horizontal){var e=this.scrollView.getComponent(c).height/2+this.headLength,t=this.contentNode.position.y-e;return Math.floor(t/this.itemSize)}if(!this.scrollView.vertical&&this.scrollView.horizontal){var i=-this.scrollView.getComponent(c).width/2-this.headLength,r=-this.contentNode.position.x+i;return Math.floor(r/this.itemSize)}return null},o.getLastNeedShowProgress=function(){if(this.scrollView.vertical&&!this.scrollView.horizontal){var e=-this.scrollView.getComponent(c).height/2+this.headLength,t=this.contentNode.position.y-e;return Math.floor(t/this.itemSize)}if(!this.scrollView.vertical&&this.scrollView.horizontal){var i=this.scrollView.getComponent(c).width/2-this.headLength,r=-this.contentNode.position.x+i;return Math.floor(r/this.itemSize)}},o.traverseNeedShow=function(e){for(var t=this.getFirstNeedShowProgress(),i=this.getLastNeedShowProgress(),r=0,n=t;n<=i;n++)n>=0&&n<this.getDataCount()&&(e(n,r),r++)},o.traverseRNeedShow=function(e){for(var t=this.getFirstNeedShowProgress(),i=0,r=this.getLastNeedShowProgress();r>=t;r--)r>=0&&r<this.getDataCount()&&(e(r,i),i++)},o.idxNeedShow=function(e){var t=this.getFirstNeedShowProgress(),i=this.getLastNeedShowProgress();return e>=t&&e<=i&&e>=0&&e<=this.getDataCount()},o.yPosByProgress=function(e){return-this.headLength-(e+.5)*this.itemSize},o.xPosByProgress=function(e){return this.headLength+(e+.5)*this.itemSize},o.refreshShowed=function(){var e=this;this.traverseNeedShow((function(t){null==e.currentItems[t]?e.genRow(t):e.refreshRow(t)}))},o.clear=function(){this.putAllChildren(this.contentNode),this.currentItems={},this.isGenerated=!1},o.genRow=function(e,t){void 0===t&&(t=0);var i=this.getItemNode();this.scrollView.vertical&&!this.scrollView.horizontal?i.setPosition(a(0,this.yPosByProgress(e),0)):!this.scrollView.vertical&&this.scrollView.horizontal&&i.setPosition(a(this.xPosByProgress(e),0,0)),i.setParent(this.contentNode),this.currentItems[e]=i,this.refreshRow(e),this.itemIn(e,t)},o.recycleRow=function(e){var t=this.currentItems[e];delete this.currentItems[e],this.putItemNode(t)},o.recycleRowObservable=function(e,t){var i=this;return new g((function(r){i.itemOut(e,t,(function(){if(u(null==i?void 0:i.node)&&null!=i.currentItems){var t=i.currentItems[e];delete i.currentItems[e],i.putItemNode(t),r.next(null),r.complete()}}))}))},o.recycleAllObservable=function(){var e=this,t=[];return this.traverseRNeedShow((function(i,r){null==e.currentItems[i]||t.push(e.recycleRowObservable(i,r))})),0==t.length?m(null):p(t)},o.itemIn=function(e,t){},o.itemOut=function(e,t,i){i()},o.refreshRow=function(e){},t}(f)).prototype,"scrollView",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=t(S.prototype,"contentNode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(S.prototype,"itemSize",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),L=t(S.prototype,"headLength",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),I=t(S.prototype,"tailLength",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=t(S.prototype,"feelingOptimized",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),b=S))||b));o._RF.pop()}}}));

System.register("chunks:///_virtual/LifeCycleReactive.ts",["cc","./ReactiveProperty.ts"],(function(i){"use strict";var n,t;return{setters:[function(i){n=i.cclegacy},function(i){t=i.ReactiveProperty}],execute:function(){n._RF.push({},"49ebbictCdJtoVIA6EsICyW","LifeCycleReactive",void 0);i("LifeCycleReactive",function(){function i(){this.binded=t.Create(!1),this._mainSubscription=null}var n=i.prototype;return n.useObserves=function(){return null},n.getMainSubscription=function(){return this._mainSubscription},n.bind=function(){var i=this;this._mainSubscription=this.binded.subscribePairWise((function(n){!n[0]&&n[1]?i.manualBind(i.useObserves()):n[0]&&!n[1]?i._mainSubscription.unsubscribe():console.log("pair",n)})),this.binded.value=!0},n.unbind=function(){this.binded.value=!1},n.manualBind=function(i){var n=this;null==i||i.forEach((function(i){i&&("function"==typeof i?n._mainSubscription.add(i()):n._mainSubscription.add(i))}))},i}());n._RF.pop()}}}));

System.register("chunks:///_virtual/lift.ts",["cc","./isFunction.ts"],(function(t){"use strict";var n,r;return{setters:[function(t){n=t.cclegacy},function(t){r=t.isFunction}],execute:function(){function e(t){return r(null==t?void 0:t.lift)}t({hasLift:e,operate:function(t){return function(n){if(e(n))return n.lift((function(n){try{return t(n,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")}}}),n._RF.push({},"e10eb5grm9FwJ/q//qAdJbn","lift",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/LockerDoor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./GameConfig.ts","./index.ts","./BaseView.ts","./math.ts","./TweenStart.ts","./utils.ts","./AnimationPlay.ts","./Observable2.ts","./concat2.ts"],(function(e){"use strict";var t,i,n,r,s,o,l,a,c,u,h,p,_,f,g,m,b,d,v,y,k,w,S,V;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,s=e.createClass},function(e){o=e.cclegacy,l=e._decorator,a=e.v3,c=e.v4,u=e.color,h=e.find,p=e.ParticleSystem,_=e.Animation,f=e.MeshRenderer,g=e.Color},function(e){m=e.gm},function(e){b=e.GameConfig},null,function(e){d=e.BaseView},function(e){v=e.linearClamp},function(e){y=e.TweenToStart},function(e){k=e.nullifySubscription},function(e){w=e.AnimationPlay},function(e){S=e.Observable},function(e){V=e.concat}],execute:function(){var C,D,L,P,I,O;o._RF.push({},"427d7hvLr1CzIjgGqMt2duf","LockerDoor",void 0);var z=l.ccclass,A=l.property,M=l.executeInEditMode,x=a(),j=c(),B=u();e("LockerDoor",(C=z("LockerDoor"),D=A({slide:!0,range:[0,1,.01]}),L=A({slide:!0,range:[0,1,.01]}),C(P=M((t((I=function(e){function t(){for(var t,i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return(t=e.call.apply(e,[this].concat(s))||this)._progress=1,t._shineValue=0,t._movable=null,t._locker=null,t._framework=null,n(t,"needKeyId",O,r(t)),t._opened=!1,t._particleNode=null,t._shine_anim_sub=null,t.emissive0=u(0,0,0),t.emissive1=u(21,76,102),t._trigger_sub=null,t}i(t,e);var o=t.prototype;return o.willBind=function(){this._particleNode=h("particle",this.node)},o.useObserves=function(){var e=this;return[m.gotKeys.subscribe((function(t){t.includes(e.needKeyId)?(e.playShineAnimation(),e._particleNode.getComponent(p).play()):(k.call(e,"_shine_anim_sub"),e._particleNode.getComponent(p).stop())}))]},o.playShineAnimation=function(){var e=this;k.call(this,"_shine_anim_sub"),this._shine_anim_sub=new S((function(t){var i=w(e.getComponent(_),"locker_door_active").subscribe((function(e){t.next(null),t.complete()}));return function(){i.unsubscribe(),e.shineValue=0}})).subscribe()},o.refresh=function(){null==this._movable&&(this._movable=h("lockerdoor_movable",this.node)),null==this._locker&&(this._locker=h("locker",this.node)),this._movable.getScale(x),x.z=v(0,1,.05,1,this.progress),this._movable.setScale(x);var e=v(0,1,.525,0,this.progress);this._movable.setZ(e);var t=v(0,1,.453,-.453,this.progress);this._locker.setZ(t)},o.refreshShineValue=function(){null==this._framework&&(this._framework=h("framework",this.node));var e=this._framework.getComponent(f).getMaterialInstance(0);g.lerp(B,this.emissive0,this.emissive1,this.shineValue),j.x=B.r/255,j.y=B.g/255,j.z=B.b/255,j.w=1,e.setProperty("emissive",j)},o.open=function(){var e=this;null==this._trigger_sub&&(this._opened=!0,this._trigger_sub=V(y(this,1/b.LockerDoorSpeed,{progress:0})).subscribe({complete:function(){e._trigger_sub=null}}))},s(t,[{key:"progress",get:function(){return this._progress},set:function(e){this._progress=e,this.refresh()}},{key:"shineValue",get:function(){return this._shineValue},set:function(e){this._shineValue=e,this.refreshShineValue()}}]),t}(d)).prototype,"progress",[D],Object.getOwnPropertyDescriptor(I.prototype,"progress"),I.prototype),t(I.prototype,"shineValue",[L],Object.getOwnPropertyDescriptor(I.prototype,"shineValue"),I.prototype),O=t(I.prototype,"needKeyId",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"0"}}),P=I))||P)||P));o._RF.pop()}}}));

System.register("chunks:///_virtual/LogoPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataConfig.ts","./UserDataManager.ts","./UIManager.ts","./Enums.ts","./GameManager.ts","./BasePanel.ts","./BindButton.ts","./index.ts","./lastValueFrom.ts"],(function(t){"use strict";var e,n,a,r,o,u,s,i,c,l,f,g,p,d,v,h,B;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,a=t.initializerDefineProperty,r=t.assertThisInitialized,o=t.asyncToGenerator,u=t.regeneratorRuntime},function(t){s=t.cclegacy,i=t._decorator,c=t.Button},function(t){l=t.DataConfig},function(t){f=t.udm},function(t){g=t.uim},function(t){p=t.FlowStatus},function(t){d=t.gm},function(t){v=t.BasePanel},function(t){h=t.BindButton},null,function(t){B=t.lastValueFrom}],execute:function(){var m,y,b,w,P;s._RF.push({},"5c105UJGYlB44wVgW7XoRWc","LogoPanel",void 0);var S=i.ccclass,L=i.property;t("LogoPanel",(m=S("LogoPanel"),y=L(c),m((P=e((w=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return e=t.call.apply(t,[this].concat(o))||this,a(e,"startButton",P,r(e)),e}n(e,t);var s=e.prototype;return s.useObserves=function(){return[h(this.startButton).subscribe(this.startButtonClicked.bind(this))]},s.startButtonClicked=function(){var t=o(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.log("startButtonClicked"),f.curStage.value>l.maxStageCount&&(f.curStage.value=0,f.save()),d.stageNumSelected.value=f.curStage.value,d.flowStatus.value=p.Game,t.next=6,B(g.standby.whenTrueOnce());case 6:d.stageLoad({reason:"logo_start"});case 7:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(v)).prototype,"startButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=w))||b));s._RF.pop()}}}));

System.register("chunks:///_virtual/LogWithTag.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var o,r,l,g,a;return{setters:[function(t){o=t.createClass},function(t){r=t.cclegacy,l=t.math,g=t.js,a=t.color}],execute:function(){r._RF.push({},"26627hh645Op5pcFmdJ8NSX","LogWithTag",void 0);t("LogWithTag",function(){function t(){this._lwt={_tag:"",_tag_color:"",_logBackground:"",_logColor:""}}var r=t.prototype;return r.logInit=function(){var t=this.logColorOverride;this._lwt._logBackground=t.toHEX("#rrggbb"),t.r+t.g+t.b<382.5?this._lwt._logColor=l.color(Math.max(0,t.r+100),Math.max(0,t.g+100),Math.max(0,t.b+100)).toHEX("#rrggbb"):this._lwt._logColor=l.color(Math.max(0,t.r-100),Math.max(0,t.g-100),Math.max(0,t.b-100)).toHEX("#rrggbb"),this.logCreateTag()},r.logCreateTag=function(){this._lwt._tag="%c<"+g.getClassName(this)+">",this._lwt._tag_color="",this._lwt._logBackground&&"ffffff"!=this._lwt._logBackground&&(this._lwt._tag_color+="background:#"+this._lwt._logBackground+";"),this._lwt._logColor&&"000000"!=this._lwt._logColor&&(this._lwt._tag_color+="color:#"+this._lwt._logColor+";")},r.makeTag=function(t){},r.debug=function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r]},r.log=function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r]},r.warn=function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r]},r.error=function(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r]},o(t,[{key:"logEnable",get:function(){return!0}},{key:"logColorOverride",get:function(){return a().fromHEX("#C8C8C8")}}]),t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/LosePanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ByteDanceRecorderManager.ts","./UIManager.ts","./Enums.ts","./GameManager.ts","./BasePanel.ts","./index.ts","./BindButton.ts","./CreatorSchedule.ts","./i18n.ts","./of.ts","./lastValueFrom.ts","./LanguageData.ts"],(function(t){"use strict";var e,n,r,a,s,u,i,o,c,l,f,p,b,h,g,d,m,B,w,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,a=t.assertThisInitialized,s=t.asyncToGenerator,u=t.regeneratorRuntime},function(t){i=t.cclegacy,o=t._decorator,c=t.Label,l=t.Button},function(t){f=t.bdrm},function(t){p=t.uim},function(t){b=t.FlowStatus},function(t){h=t.gm},function(t){g=t.BasePanel},null,function(t){d=t.BindButton},function(t){m=t.NextFrame},null,function(t){B=t.of},function(t){w=t.lastValueFrom},function(t){v=t.t}],execute:function(){var y,k,L,x,S,C,P,_,D;i._RF.push({},"f08f2BJvItGR7lhp46QDg95","LosePanel",void 0);var F=o.ccclass,G=o.property;t("LosePanel",(y=F("LosePanel"),k=G(c),L=G(l),x=G(l),y((P=e((C=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),u=0;u<n;u++)s[u]=arguments[u];return e=t.call.apply(t,[this].concat(s))||this,r(e,"stageNumLabel",P,a(e)),r(e,"backButton",_,a(e)),r(e,"restartButton",D,a(e)),e.stopSuccess=!1,e}n(e,t);var i=e.prototype;return i.useObserves=function(){return[d(this.backButton).subscribe(this.backButtonClicked.bind(this)),d(this.restartButton).subscribe(this.restartButtonClicked.bind(this))]},i.backButtonClicked=function(){var t=s(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return h.stageClear(!0),t.next=3,w(m());case 3:return h.flowStatus.value=b.Game,t.next=6,w(p.standby.whenTrueOnce());case 6:h.stageLoad({reason:"win_continue"});case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i.restartButtonClicked=function(){var t=s(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.log("restartButtonClicked"),this.stopSuccess){t.next=4;break}return h.frontTipShow(""+v("_.wait"),1).subscribe(),t.abrupt("return");case 4:return h.stageClear(!0),t.next=7,w(m());case 7:return h.flowStatus.value=b.Game,t.next=10,w(p.standby.whenTrueOnce());case 10:h.stageLoad({reason:"win_continue"}),h.startGame();case 12:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),i.willOpen=function(){var t=this;return this.stageNumLabel.string=h.stageInfo.value.stageNum+" "+v("_.f"),f.isError?this.stopSuccess=!0:f.stopRecoder((function(){t.stopSuccess=!0})),B(null)},e}(g)).prototype,"stageNumLabel",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(C.prototype,"backButton",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(C.prototype,"restartButton",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=C))||S));i._RF.pop()}}}));

System.register("chunks:///_virtual/LuckySkinPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePanel.ts","./ReactiveProperty.ts","./DataManager.ts","./index.ts","./GameManager.ts","./BindButton.ts","./UserDataManager.ts","./GameAssetsRefs.ts","./of.ts"],(function(n){"use strict";var e,t,i,l,a,r,u,s,c,o,k,b,f,y,p,d,h;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,l=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,u=n.Label,s=n.Sprite,c=n.Button},function(n){o=n.BasePanel},function(n){k=n.ReactiveProperty},function(n){b=n.dm},null,function(n){f=n.gm},function(n){y=n.BindButton},function(n){p=n.udm},function(n){d=n.GameAssetsRefs},function(n){h=n.of}],execute:function(){var v,S,m,P,g,B,D,_,I,L,x;a._RF.push({},"202333y+vBImL/2Ja0jOh5X","LuckySkinPanel",void 0);var C=r.ccclass,O=r.property;n("LuckySkinPanel",(v=C("LuckySkinPanel"),S=O(u),m=O(s),P=O(c),g=O(c),v((_=e((D=function(n){function e(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return(e=n.call.apply(n,[this].concat(a))||this).ID=k.Create(null),i(e,"nameLabel",_,l(e)),i(e,"skinContainerNode",I,l(e)),i(e,"claimButton",L,l(e)),i(e,"cancelButton",x,l(e)),e._loadSkin=null,e._ad_playing=!1,e}t(e,n);var a=e.prototype;return a.useObserves=function(){var n=this;return[this.ID.subscribe(this.refresh.bind(this)),f.stageResult.subscribe((function(e){n.ID.value=null==e?null:e.luckySkins.gotSkinID})),y(this.claimButton).subscribe(this.claimButtonClicked.bind(this)),y(this.cancelButton).subscribe(this.cancelButtonClicked.bind(this))]},a.refresh=function(){null!=this.ID.value&&(this.nameLabel.string=b.xlsx.Skin.index[this.ID.value].Name,this.loadSkin())},a.willOpen=function(){return p.luckySkinP.value++,p.save(),h(null)},a.willClose=function(){return h(null)},a.loadSkin=function(){this.skinContainerNode.spriteFrame=d.instance.playerSkinIcon.getIcons(this.ID.value)},a.claimButtonClicked=function(){var n=this;this._ad_playing||(this._ad_playing=!0,b.showAdsForLuckySkin(this.ID.value).subscribe((function(e){n._ad_playing=!1,e&&(f.luckySkinEnabled.value=!1,null!=f.luckySkinPanelObserver&&(f.luckySkinPanelObserver.next("@luckySkinPanelProcess next"),f.luckySkinPanelObserver.complete()))})))},a.cancelButtonClicked=function(){f.luckySkinEnabled.value=!1,null!=f.luckySkinPanelObserver&&(f.luckySkinPanelObserver.next("@luckySkinPanelProcess next"),f.luckySkinPanelObserver.complete())},e}(o)).prototype,"nameLabel",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(D.prototype,"skinContainerNode",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(D.prototype,"claimButton",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=e(D.prototype,"cancelButton",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=D))||B));a._RF.pop()}}}));

System.register("chunks:///_virtual/MainCameraTarget.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./BaseView.ts"],(function(e){"use strict";var t,a,n,r,i,o,s;return{setters:[function(e){t=e.inheritsLoose},function(e){a=e.cclegacy,n=e._decorator,r=e.v3,i=e.Vec3},function(e){o=e.gm},function(e){s=e.BaseView}],execute:function(){var c;a._RF.push({},"28e4fjNESRD5bYhR7hyTE2i","MainCameraTarget",void 0);var u=n.ccclass,l=(n.property,r());e("MainCameraTarget",u("MainCameraTarget")(c=function(e){function a(){for(var t,a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(t=e.call.apply(e,[this].concat(n))||this).inertia=.5,t}t(a,e);var n=a.prototype;return n.useObserves=function(){var e=this;return[o.atHome.subscribe((function(t){t||e.node.setPosition(r(0,0,0))}))]},n.update=function(){o.atHome.value&&(this.node.getPosition(l),i.lerp(l,o.playerPosCache.value,l,this.inertia),this.node.setPosition(l))},a}(s))||c);a._RF.pop()}}}));

System.register("chunks:///_virtual/MainColorLerp.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){"use strict";var e,t,o,i,n,a,l,c,p,s,u,f;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.inheritsLoose,o=r.initializerDefineProperty,i=r.assertThisInitialized,n=r.createClass},function(r){a=r.cclegacy,l=r._decorator,c=r.MeshRenderer,p=r.lerp,s=r.v4,u=r.Component,f=r.color}],execute:function(){var h,y,b,g,d,m,C,v;a._RF.push({},"c3e5dpQHDRLhKUlPA/ERC9A","MainColorLerp",void 0);var M=l.ccclass,_=l.property,I=l.executeInEditMode;r("MainColorLerp",(h=M("MainColorLerp"),y=_({slide:!0,range:[0,1,.01]}),h(b=I((d=e((g=function(r){function e(){for(var e,t=arguments.length,n=new Array(t),a=0;a<t;a++)n[a]=arguments[a];return e=r.call.apply(r,[this].concat(n))||this,o(e,"_ratio",d,i(e)),o(e,"color0",m,i(e)),o(e,"color1",C,i(e)),o(e,"materialInstance",v,i(e)),e}return t(e,r),e.prototype.refresh=function(r){var e=this;this.getComponentsInChildren(c).forEach((function(t){var o=e.materialInstance?t.getMaterialInstance(0):t.getMaterial(0),i=p(e.color0.r/255,e.color1.r/255,r),n=p(e.color0.g/255,e.color1.g/255,r),a=p(e.color0.b/255,e.color1.b/255,r),l=p(e.color0.a/255,e.color1.a/255,r);o.setProperty("mainColor",s(i,n,a,l))}))},n(e,[{key:"ratio",get:function(){return this._ratio},set:function(r){this._ratio=r,this.refresh(r)}}]),e}(u)).prototype,"_ratio",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e(g.prototype,"ratio",[y],Object.getOwnPropertyDescriptor(g.prototype,"ratio"),g.prototype),m=e(g.prototype,"color0",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f()}}),C=e(g.prototype,"color1",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return f()}}),v=e(g.prototype,"materialInstance",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),b=g))||b)||b));a._RF.pop()}}}));

System.register("chunks:///_virtual/MainMenuPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePanel.ts","./BindButton.ts","./GameManager.ts","./lastValueFrom.ts","./CreatorSchedule.ts","./Enums.ts","./UIManager.ts","./UserDataManager.ts","./GameAssetsRefs.ts","./ByteDanceManager.ts"],(function(t){"use strict";var n,e,i,u,r,a,o,s,l,c,f,k,b,p,B,d,h,m,g,y,C;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,i=t.initializerDefineProperty,u=t.assertThisInitialized,r=t.asyncToGenerator,a=t.regeneratorRuntime},function(t){o=t.cclegacy,s=t._decorator,l=t.Button,c=t.Sprite,f=t.sys},function(t){k=t.BasePanel},function(t){b=t.BindButton},function(t){p=t.gm},function(t){B=t.lastValueFrom},function(t){d=t.NextFrame},function(t){h=t.FlowStatus},function(t){m=t.uim},function(t){g=t.udm},function(t){y=t.GameAssetsRefs},function(t){C=t.bdm}],execute:function(){var v,M,w,P,I,F,z,E,T,D,R,x,G,S,_;o._RF.push({},"5b5a2sWFUVHJ4C6MNKjCwbD","MainMenuPanel",void 0);var A=s.ccclass,N=s.property;t("MainMenuPanel",(v=A("MainMenuPanel"),M=N(l),w=N(l),P=N(l),I=N(l),F=N(l),z=N(c),v((D=n((T=function(t){function n(){for(var n,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return n=t.call.apply(t,[this].concat(r))||this,i(n,"psButton",D,u(n)),i(n,"skinButton",R,u(n)),i(n,"homeButton",x,u(n)),i(n,"taskButton",G,u(n)),i(n,"rankButton",S,u(n)),i(n,"skinIcon",_,u(n)),n}e(n,t);var o=n.prototype;return o.willBind=function(){f.platform==f.Platform.BYTEDANCE_MINI_GAME&&C.ImRankFuncEnabled()?this.rankButton.node.active=!0:this.rankButton.node.active=!1},o.useObserves=function(){var t=this;return[b(this.psButton).subscribe(this.psButtonClicked.bind(this)),b(this.skinButton).subscribe(this.skinButtonClicked.bind(this)),b(this.homeButton).subscribe(this.homeButtonClicked.bind(this)),b(this.taskButton).subscribe(this.taskButtonClicked.bind(this)),b(this.rankButton).subscribe(this.rankButtonClicked.bind(this)),g.skinNum.subscribe((function(n){t.skinIcon.spriteFrame=y.instance.playerSkinIcon.getIcons(n)}))]},o.psButtonClicked=function(){this.log("psButtonClicked"),p.getPsEnabled.value=!0},o.skinButtonClicked=function(){this.log("skinButtonClicked"),p.skinPanelEnabled.value=!0},o.homeButtonClicked=function(){var t=r(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.log("homeButtonClicked"),p.stageClear(!0),t.next=4,B(d());case 4:return p.flowStatus.value=h.Game,t.next=7,B(m.standby.whenTrueOnce());case 7:p.homeLoad();case 8:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o.taskButtonClicked=function(){this.log("taskButtonClicked"),p.taskPanelEnabled.value=!0},o.rankButtonClicked=function(){this.log("rankButtonClicked"),C.getImRankList({relationType:"default",dataType:0,rankType:"week",suffix:"关",rankTitle:"每周排行榜"})},n}(k)).prototype,"psButton",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=n(T.prototype,"skinButton",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(T.prototype,"homeButton",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=n(T.prototype,"taskButton",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=n(T.prototype,"rankButton",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(T.prototype,"skinIcon",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=T))||E));o._RF.pop()}}}));

System.register("chunks:///_virtual/MainSceneCanvas.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataManager.ts","./UIManager.ts","./BundleAssetsManager.ts","./AudioManager.ts","./RxCCConfig.ts","./GameManager.ts","./BaseView.ts","./AssetManagerLoad.ts","./index.ts","./Enums.ts","./UserDataManager.ts","./DataConfig.ts","./utils.ts","./CommonObservable.ts","./TweenStart.ts","./math.ts","./CreatorSchedule.ts","./AppPrivacyPanel.ts","./concat2.ts","./lastValueFrom.ts","./filter.ts","./take.ts"],(function(t){"use strict";var n,e,a,i,o,r,s,u,c,l,f,g,b,p,h,C,m,d,v,y,_,w,x,S,A,M,B,L,P,z,k,D,N,O,T,V,F,G,I;return{setters:[function(t){n=t.applyDecoratedDescriptor,e=t.inheritsLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized,o=t.createClass,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){u=t.cclegacy,c=t._decorator,l=t.v3,f=t.quat,g=t.Camera,b=t.Node,p=t.ProgressBar,h=t.Label,C=t.lerp,m=t.UIOpacity},function(t){d=t.dm},function(t){v=t.uim},function(t){y=t.bam},function(t){_=t.am},function(t){w=t.rxccconfig},function(t){x=t.gm},function(t){S=t.BaseView},function(t){A=t.loadBundle},null,function(t){M=t.GameStatus,B=t.FlowStatus},function(t){L=t.udm},function(t){P=t.DataConfig},function(t){z=t.nullifySubscription},function(t){k=t.instantFunc},function(t){D=t.TweenToStart},function(t){N=t.linear},function(t){O=t.IntervalStartNow},function(t){T=t.AppPrivacyPanel},function(t){V=t.concat},function(t){F=t.lastValueFrom},function(t){G=t.filter},function(t){I=t.take}],execute:function(){var R,j,U,E,K,X,q,H,W,Y,J,Q,Z,$;u._RF.push({},"ab4a88zYcBBAKyAytxKj5/T","MainSceneCanvas",void 0);var tt=c.ccclass,nt=c.property;l(),f(),f(),t("MainSceneCanvas",(R=tt("MainSceneCanvas"),j=nt(g),U=nt(g),E=nt(b),K=nt(p),X=nt(h),R((W=n((H=function(t){function n(){for(var n,e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];return n=t.call.apply(t,[this].concat(o))||this,a(n,"camera",W,i(n)),a(n,"mainCamera",Y,i(n)),a(n,"bgNode",J,i(n)),a(n,"progressBar",Q,i(n)),a(n,"progressLabel",Z,i(n)),n._showCount=0,a(n,"_finCount",$,i(n)),n.maxCount=100,n._bg_sub=null,n}e(n,t);var u=n.prototype;return u.update=function(){this.showCount=C(this.showCount,this.finCount,.1)},u.onLoadView=function(){this.log("onLoadView"),x.mainSceneCanvas=this},u.onDestroyView=function(){z.call(this,"_bg_sub")},u.useObserves=function(){var t=this;return[w.buttonWillClickCommand.subscribe((function(t){_.play.execute("click")})),x.loadingAssets.subscribe((function(n){n?t.bgOpen():t.bgClose()}))]},u.bgOpen=function(){var t=this;z.call(this,"_bg_sub"),this._bg_sub=V(k((function(){t.bgNode.active=!0})),D(this.bgNode.getComponent(m),.2,{opacity:255})).subscribe()},u.bgClose=function(){var t=this;z.call(this,"_bg_sub"),this._bg_sub=V(D(this.bgNode.getComponent(m),.2,{opacity:0}),k((function(){t.bgNode.active=!1}))).subscribe()},u.start=function(){var t=r(s().mark((function t(){var n,e,a=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.finCount=0,x.loadingAssets.value=!0,n=0,t.next=5,F(y.loadGameAssetsRefs((function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var o=e[0],r=e[1];n=Math.max(n,o/r),a.finCount=N(0,1,0,10,n)})));case 5:return this.finCount=10,t.next=8,F(A("ab_stages"));case 8:return this.finCount=20,t.next=11,F(y.loadXlsx());case 11:return d.initXlsx(),this.finCount=30,t.next=15,F(y.loadStages());case 15:return d.initStages(),L.initialize(),this.finCount=40,t.next=20,F(A("ab_ui"));case 20:return this.finCount=50,x.nodeStatus.value=!0,x.frontTipEnabled.value=!0,L.curStage.value>P.maxStageCount&&(L.curStage.value=0,L.save()),this.finCount=60,x.stageNumSelected.value=L.curStage.value,x.flowStatus.value=B.Game,t.next=29,F(v.standby.whenTrueOnce());case 29:return this.finCount=70,e=O(.1,this.node).subscribe((function(t){var n=N(0,1,0,30,x._stageLoad_progressInfo[2]);a.finCount=70+n,a.log("@finCount",a.finCount)})),x.stageLoad({reason:"logo_start"}),t.next=34,F(x.gameStatus._subject.pipe(G((function(t){return t==M.StartPause})),I(1)));case 34:return e.unsubscribe(),x.loadingAssets.value=!1,t.next=38,F(A("ab_audio"));case 38:if(_.loadAll((function(){})).then((function(t){_.bgm.again()})),this.log("canvas start process over!"),L.policy.value){t.next=43;break}return t.next=43,F(T.OpenPanelProcess());case 43:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),o(n,[{key:"showCount",get:function(){return this._showCount},set:function(t){this._showCount=t,this.progressLabel.string=Math.round(t/this.maxCount*100*.7+30)+"%",this.progressBar.progress=this.finCount/this.maxCount*.7+.3}},{key:"finCount",get:function(){return this._finCount},set:function(t){this._finCount=t}}]),n}(S)).prototype,"camera",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=n(H.prototype,"mainCamera",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=n(H.prototype,"bgNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=n(H.prototype,"progressBar",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Z=n(H.prototype,"progressLabel",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),$=n(H.prototype,"_finCount",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),n(H.prototype,"finCount",[nt],Object.getOwnPropertyDescriptor(H.prototype,"finCount"),H.prototype),q=H))||q));u._RF.pop()}}}));

System.register("chunks:///_virtual/map.ts",["cc","./lift.ts","./OperatorSubscriber.ts"],(function(t){"use strict";var c,e,r;return{setters:[function(t){c=t.cclegacy},function(t){e=t.operate},function(t){r=t.createOperatorSubscriber}],execute:function(){t("map",(function(t,c){return e((function(e,n){var u=0;e.subscribe(r(n,(function(e){n.next(t.call(c,e,u++))})))}))})),c._RF.push({},"679c1zjguFMoIZ3RkL69VL4","map",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/mapOneOrManyArgs.ts",["cc","./map.ts"],(function(n){"use strict";var r,t;return{setters:[function(n){r=n.cclegacy},function(n){t=n.map}],execute:function(){n("mapOneOrManyArgs",(function(n){return t((function(r){return function(n,r){return e(r)?n.apply(void 0,r):n(r)}(n,r)}))})),r._RF.push({},"fe6036MDgdNMYSDoixAnYUq","mapOneOrManyArgs",void 0);var e=Array.isArray;r._RF.pop()}}}));

System.register("chunks:///_virtual/mapTo.ts",["cc","./map.ts"],(function(t){"use strict";var n,c;return{setters:[function(t){n=t.cclegacy},function(t){c=t.map}],execute:function(){t("mapTo",(function(t){return c((function(){return t}))})),n._RF.push({},"f7f2e1OTLBEao0CfWNZrvm2","mapTo",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/materialize.ts",["cc","./Notification.ts","./lift.ts","./OperatorSubscriber.ts"],(function(t){"use strict";var e,c,i,n;return{setters:[function(t){e=t.cclegacy},function(t){c=t.Notification},function(t){i=t.operate},function(t){n=t.createOperatorSubscriber}],execute:function(){t("materialize",(function(){return i((function(t,e){t.subscribe(n(e,(function(t){e.next(c.createNext(t))}),(function(){e.next(c.createComplete()),e.complete()}),(function(t){e.next(c.createError(t)),e.complete()})))}))})),e._RF.push({},"67e189eJJFC37ytWZ6G7LOc","materialize",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/math.ts",["cc"],(function(t){"use strict";var r,a,n,c;return{setters:[function(t){r=t.cclegacy,a=t.v3,n=t.Vec3,c=t.Quat}],execute:function(){function e(t,r,a,n,c){return t==r?a:(n-a)*(c-t)/(r-t)+a}t({lineIntersection:function(t,r,a,c,e){if(n.subtract(i,a,r),i.normalize(),n.subtract(u,e,c),u.normalize(),n.cross(o,i,u).equals3f(0,0,0))return!1;n.subtract(o,r,c),n.cross(s,u,o),n.cross(l,i,u);var m=l.length(),f=n.dot(s,l)/(m*m);return i.multiplyScalar(f),n.add(t,r,i),!0},linear:e,linearClamp:function(t,r,a,n,c){var i=e(t,r,a,n,c);i<Math.min(a,n)&&(i=Math.min(a,n));i>Math.max(a,n)&&(i=Math.max(a,n));return i},pointCTriangle:function(t,r,a,e,i,u){var o=n.distance(r,a),s=(e*e-i*i-o*o)/(-2*i*o),l=Math.acos(s);return n.subtract(m,a,r),c.fromAxisAngle(v,u,l),n.transformQuat(t,m,v),t.normalize(),t.multiplyScalar(i),t.add(r),t},pointInLine:function(t,r,a){return n.subtract(f,a,t),n.subtract(d,a,r),f.cross(d).equals3f(0,0,0)},pointToLineProjection:function(t,r,a,c){n.subtract(m,a,r),m.normalize(),n.subtract(f,c,r);var e=n.dot(f,m);m.multiplyScalar(e),n.add(t,r,m)},pointToPlaneProjection:function(t,r,a,c){n.subtract(i,r,a);var e=n.dot(i,c);return n.multiplyScalar(i,c,-e),n.add(t,r,i),t}}),r._RF.push({},"4fcedkGQ/BISrlYhYU7kiAS","math",void 0);var i=a(),u=a(),o=a(),s=a(),l=a();var m=a(),f=a();var d=a();var v=new c;r._RF.pop()}}}));

System.register("chunks:///_virtual/max.ts",["cc","./reduce.ts","./isFunction.ts"],(function(n){"use strict";var t,u,c;return{setters:[function(n){t=n.cclegacy},function(n){u=n.reduce},function(n){c=n.isFunction}],execute:function(){n("max",(function(n){return u(c(n)?function(t,u){return n(t,u)>0?t:u}:function(n,t){return n>t?n:t})})),t._RF.push({},"f807fg0DA5GZ4a3QYuLCySx","max",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/merge.ts",["cc","./mergeAll.ts","./innerFrom.ts","./empty.ts","./args.ts","./from.ts"],(function(e){"use strict";var n,r,t,c,o,u,s;return{setters:[function(e){n=e.cclegacy},function(e){r=e.mergeAll},function(e){t=e.innerFrom},function(e){c=e.EMPTY},function(e){o=e.popScheduler,u=e.popNumber},function(e){s=e.from}],execute:function(){e("merge",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];var m=o(n),f=u(n,1/0),g=n;return g.length?1===g.length?t(g[0]):r(f)(s(g,m)):c})),n._RF.push({},"32d62xxG6FK2a1MzO+mWOxs","merge",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/merge2.ts",["cc","./lift.ts","./argsOrArgArray.ts","./mergeAll.ts","./args.ts","./from.ts"],(function(r){"use strict";var e,t,n,c,o,u,s;return{setters:[function(r){e=r.cclegacy},function(r){t=r.operate},function(r){n=r.argsOrArgArray},function(r){c=r.mergeAll},function(r){o=r.popScheduler,u=r.popNumber},function(r){s=r.from}],execute:function(){r("merge",(function(){for(var r=arguments.length,e=new Array(r),i=0;i<r;i++)e[i]=arguments[i];var a=o(e),f=u(e,1/0);return e=n(e),t((function(r,t){c(f)(s([r].concat(e),a)).subscribe(t)}))})),e._RF.push({},"c4ea91tm6dGqpG+JGS/doA+","merge",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/mergeAll.ts",["cc","./mergeMap.ts","./identity.ts"],(function(e){"use strict";var t,n,i;return{setters:[function(e){t=e.cclegacy},function(e){n=e.mergeMap},function(e){i=e.identity}],execute:function(){e("mergeAll",(function(e){void 0===e&&(e=1/0);return n(i,e)})),t._RF.push({},"917f2ieC81BurqUB5l7VVmZ","mergeAll",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/mergeInternals.ts",["cc","./innerFrom.ts","./executeSchedule.ts","./OperatorSubscriber.ts"],(function(n){"use strict";var e,t,r,u;return{setters:[function(n){e=n.cclegacy},function(n){t=n.innerFrom},function(n){r=n.executeSchedule},function(n){u=n.createOperatorSubscriber}],execute:function(){n("mergeInternals",(function(n,e,c,i,o,s,f,a){var l=[],h=0,v=0,b=!1,g=function(){!b||l.length||h||e.complete()},m=function(n){return h<i?p(n):l.push(n)},p=function n(a){s&&e.next(a),h++;var b=!1;t(c(a,v++)).subscribe(u(e,(function(n){null==o||o(n),s?m(n):e.next(n)}),(function(){b=!0}),void 0,(function(){if(b)try{h--;for(var t=function(){var t=l.shift();f?r(e,f,(function(){return n(t)})):n(t)};l.length&&h<i;)t();g()}catch(n){e.error(n)}})))};return n.subscribe(u(e,m,(function(){b=!0,g()}))),function(){null==a||a()}})),e._RF.push({},"0f00dvn78BAvZ11uImFgGhX","mergeInternals",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/mergeMap.ts",["cc","./map.ts","./innerFrom.ts","./lift.ts","./mergeInternals.ts","./isFunction.ts"],(function(n){"use strict";var t,e,r,u,i,c;return{setters:[function(n){t=n.cclegacy},function(n){e=n.map},function(n){r=n.innerFrom},function(n){u=n.operate},function(n){i=n.mergeInternals},function(n){c=n.isFunction}],execute:function(){n("mergeMap",(function n(t,o,f){void 0===f&&(f=1/0);if(c(o))return n((function(n,u){return e((function(t,e){return o(n,t,u,e)}))(r(t(n,u)))}),f);"number"==typeof o&&(f=o);return u((function(n,e){return i(n,e,t,f)}))})),t._RF.push({},"aff6fqnCtVAmpy0S1X0T0Rc","mergeMap",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/mergeMapTo.ts",["cc","./mergeMap.ts","./isFunction.ts"],(function(e){"use strict";var t,n,r;return{setters:[function(e){t=e.cclegacy},function(e){n=e.mergeMap},function(e){r=e.isFunction}],execute:function(){e("mergeMapTo",(function(e,t,u){void 0===u&&(u=1/0);if(r(t))return n((function(){return e}),t,u);"number"==typeof t&&(u=t);return n((function(){return e}),u)})),t._RF.push({},"405abrxIt9PU7XVpeRTFmD3","mergeMapTo",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/mergeScan.ts",["cc","./lift.ts","./mergeInternals.ts"],(function(n){"use strict";var t,e,r;return{setters:[function(n){t=n.cclegacy},function(n){e=n.operate},function(n){r=n.mergeInternals}],execute:function(){n("mergeScan",(function(n,t,c){void 0===c&&(c=1/0);return e((function(e,u){var i=t;return r(e,u,(function(t,e){return n(i,t,e)}),c,(function(n){i=n}),!1,void 0,(function(){return i=null}))}))})),t._RF.push({},"b0803A5xXVOU5Lv2c6WE2C+","mergeScan",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/mergeWith.ts",["cc","./merge2.ts"],(function(e){"use strict";var t,r;return{setters:[function(e){t=e.cclegacy},function(e){r=e.merge}],execute:function(){e("mergeWith",(function(){return r.apply(void 0,arguments)})),t._RF.push({},"5248cvEyyZPopo4u3SfDFya","mergeWith",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/MergeWithTimer.ts",["cc","./index.ts","./merge.ts","./switchMap.ts","./timer.ts","./asap.ts","./async.ts"],(function(t){"use strict";var e,n,i,r,u,c;return{setters:[function(t){e=t.cclegacy},null,function(t){n=t.merge},function(t){i=t.switchMap},function(t){r=t.timer},function(t){u=t.asapScheduler},function(t){c=t.asyncScheduler}],execute:function(){t({MergeWithTimer:function(t){return n.apply(void 0,t).pipe(i((function(){return r(null,null,u)})))},MergeWithTimerASYNC:function(t){return n.apply(void 0,t).pipe(i((function(){return r(null,null,c)})))}}),e._RF.push({},"81857X0qilNdpHHWxytwrZw","MergeWithTimer",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/min.ts",["cc","./reduce.ts","./isFunction.ts"],(function(n){"use strict";var t,u,c;return{setters:[function(n){t=n.cclegacy},function(n){u=n.reduce},function(n){c=n.isFunction}],execute:function(){n("min",(function(n){return u(c(n)?function(t,u){return n(t,u)<0?t:u}:function(n,t){return n<t?n:t})})),t._RF.push({},"4f541+GNORAsoZS4C5izpKo","min",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/ModelAssetsRefs.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts"],(function(e){"use strict";var t,r,i,s,n,o,a,c,u;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,s=e.assertThisInitialized},function(e){n=e.cclegacy,o=e._decorator,a=e.SpriteFrame,c=e.Texture2D},function(e){u=e.BaseView}],execute:function(){var l,p,f,d,y,b,h;n._RF.push({},"158cdTsZs9LeK4yHTO5fP1J","ModelAssetsRefs",void 0);var g=o.ccclass,v=o.property;e("ModelAssetsRefs",(l=g("ModelAssetsRefs"),p=v([a]),f=v([c]),l((b=t((y=function(e){function t(){for(var t,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return t=e.call.apply(e,[this].concat(n))||this,i(t,"iconSprites",b,s(t)),i(t,"patternTextures",h,s(t)),t}return r(t,e),t}(u)).prototype,"iconSprites",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h=t(y.prototype,"patternTextures",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),d=y))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/MouseEvent.ts",["cc","./index.ts","./Observable2.ts"],(function(e){"use strict";var n,t,u,s;return{setters:[function(e){n=e.cclegacy,t=e.input,u=e.Input},null,function(e){s=e.Observable}],execute:function(){e("MouseMove",(function(){var e=this;return new s((function(n){var s=function(e){n.next(e)};return t.on(u.EventType.MOUSE_MOVE,s,e),function(){t.off(u.EventType.MOUSE_MOVE,s,e)}}))})),n._RF.push({},"def1bXesndASKiNYMaWuacA","MouseEvent",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/multicast.ts",["cc","./ConnectableObservable.ts","./isFunction.ts","./connect.ts"],(function(n){"use strict";var t,c,e,u;return{setters:[function(n){t=n.cclegacy},function(n){c=n.ConnectableObservable},function(n){e=n.isFunction},function(n){u=n.connect}],execute:function(){n("multicast",(function(n,t){var i=e(n)?n:function(){return n};if(e(t))return u(t,{connector:i});return function(n){return new c(n,i)}})),t._RF.push({},"40da1UCqd9H8pWpiOcLPM59","multicast",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/Multiset.ts",["cc"],(function(t){"use strict";var a;return{setters:[function(t){a=t.cclegacy}],execute:function(){a._RF.push({},"c3c9azFpQxMS73rOL1r7WI/","Multiset",void 0);t("Multiset",function(){function t(){this.data=null,this.data=new Map}var a=t.prototype;return a.add=function(t,a){void 0===a&&(a=1),this.data.has(t)||this.data.set(t,0),this.data.set(t,this.data.get(t)+a)},a.remove=function(t,a){void 0===a&&(a=1),this.data.has(t)||this.data.set(t,0),this.data.set(t,this.data.get(t)-a)},a.has=function(t){return!!this.data.has(t)&&this.data.get(t)>0},a.clear=function(){this.data.clear()},t}());a._RF.pop()}}}));

System.register("chunks:///_virtual/never.ts",["cc","./Observable2.ts","./noop.ts"],(function(e){"use strict";var n,t,r;return{setters:[function(e){n=e.cclegacy},function(e){t=e.Observable},function(e){r=e.noop}],execute:function(){e("never",(function(){return c})),n._RF.push({},"900bfLoCmVE045r9Sn0f8UB","never",void 0);var c=e("NEVER",new t(r));n._RF.pop()}}}));

System.register("chunks:///_virtual/noop.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){t("noop",(function(){})),n._RF.push({},"47410MMmM5NOpVYABrX4PSQ","noop",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/not.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){t("not",(function(t,n){return function(c,e){return!t.call(n,c,e)}})),n._RF.push({},"34b23A5ygtE1JYmxBi6NARq","not",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/NotFoundError.ts",["cc","./createErrorClass.ts"],(function(r){"use strict";var t,o;return{setters:[function(r){t=r.cclegacy},function(r){o=r.createErrorClass}],execute:function(){t._RF.push({},"f3ee3rhyXtEILUTj3yOus8G","NotFoundError",void 0);r("NotFoundError",o((function(r){return function(t){r(this),this.name="NotFoundError",this.message=t}})));t._RF.pop()}}}));

System.register("chunks:///_virtual/Notification.ts",["cc","./empty.ts","./of.ts","./throwError.ts","./isFunction.ts"],(function(t){"use strict";var i,n,o,r,e;return{setters:[function(t){i=t.cclegacy},function(t){n=t.EMPTY},function(t){o=t.of},function(t){r=t.throwError},function(t){e=t.isFunction}],execute:function(){var c;t({NotificationKind:void 0,observeNotification:s}),i._RF.push({},"2e7e1G1HrVGs7S8TKYomkPO","Notification",void 0),function(t){t.NEXT="N",t.ERROR="E",t.COMPLETE="C"}(c||(c=t("NotificationKind",{})));var u=t("Notification",function(){function t(t,i,n){this.hasValue=void 0,this.kind=t,this.value=i,this.error=n,this.hasValue="N"===t}var i=t.prototype;return i.observe=function(t){return s(this,t)},i.do=function(t,i,n){var o=this.kind,r=this.value,e=this.error;return"N"===o?null==t?void 0:t(r):"E"===o?null==i?void 0:i(e):null==n?void 0:n()},i.accept=function(t,i,n){return e(null==t?void 0:t.next)?this.observe(t):this.do(t,i,n)},i.toObservable=function(){var t=this.kind,i=this.value,e=this.error,c="N"===t?o(i):"E"===t?r((function(){return e})):"C"===t?n:0;if(!c)throw new TypeError("Unexpected notification kind "+t);return c},t.createNext=function(i){return new t("N",i)},t.createError=function(i){return new t("E",void 0,i)},t.createComplete=function(){return t.completeNotification},t}());function s(t,i){var n=t,o=n.kind,r=n.value,e=n.error;if("string"!=typeof o)throw new TypeError('Invalid notification, missing "kind"');"N"===o?null==i.next||i.next(r):"E"===o?null==i.error||i.error(e):null==i.complete||i.complete()}u.completeNotification=new u("C"),i._RF.pop()}}}));

System.register("chunks:///_virtual/NotificationCenter.ts",["cc","./ReactiveCommand.ts"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy},function(t){n=t.ReactiveCommand}],execute:function(){e._RF.push({},"8322ceJVhxEnJVDleUjVn81","NotificationCenter",void 0);t("nc",new(function(){function t(){this.rc=n.Create(),this.subscribeCustomEventTarget()}var e=t.prototype;return e.post=function(t,e){this.rc.execute({key:t,data:e})},e.subscribe=function(t,e){return this.rc.subscribe((function(n){t==n.key&&e(n.data)}))},e.subscribeCustomEventTarget=function(){},t}()));e._RF.pop()}}}));

System.register("chunks:///_virtual/NotificationFactories.ts",["cc"],(function(t){"use strict";var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){t({createNotification:o,errorNotification:function(t){return o("E",void 0,t)},nextNotification:function(t){return o("N",t,void 0)}}),i._RF.push({},"73ab26KGh5Ne4Vu9f2C/4wx","NotificationFactories",void 0);t("COMPLETE_NOTIFICATION",o("C",void 0,void 0));function o(t,i,o){return{kind:t,value:i,error:o}}i._RF.pop()}}}));

System.register("chunks:///_virtual/Npc.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts","./GameConfig.ts","./Enums.ts","./ReactiveProperty.ts","./PathPoint.ts","./BaseView.ts","./ReactiveCommand.ts","./utils.ts","./BundleAssetsManager.ts","./index.ts","./CommonObservable.ts","./CreatorSchedule.ts","./concat2.ts"],(function(t){"use strict";var e,i,a,n,s,r,o,l,u,h,c,p,d,g,P,v,f,_,y,m,b,k,S,C,N,D,z,x,I,R,T;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,a=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,o=t.v3,l=t.quat,u=t.Node,h=t.Enum,c=t.find,p=t.RigidBody,d=t.instantiate,g=t.Vec3,P=t.Quat,v=t.isValid},function(t){f=t.gm},function(t){_=t.GameConfig},function(t){y=t.PatrolType,m=t.EndTurnDirection,b=t.NpcStatus,k=t.GameStatus},function(t){S=t.ReactiveProperty},function(t){C=t.PathPoint},function(t){N=t.BaseView},function(t){D=t.ReactiveCommand},function(t){z=t.nullifySubscription},function(t){x=t.bam},null,function(t){I=t.instantFunc},function(t){R=t.Timer},function(t){T=t.concat}],execute:function(){var B,W,w,E,F,L,V,G,A,q,M,O;s._RF.push({},"d33e2ErUqhAMIqH5kF1+ALo","Npc",void 0);var U=r.ccclass,H=r.property,j=(r.menu,o()),Q=o(),Y=l(),J=l();t("Npc",(B=U("Npc"),W=H(u),w=H({type:h(y)}),E=H({type:h(m)}),B((V=e((L=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,a(e,"pathNode",V,n(e)),a(e,"patrolType",G,n(e)),e.patrolTypeBak=y.PingPong,a(e,"endTurnDirection",A,n(e)),a(e,"patrolSpeed",q,n(e)),a(e,"firstDelay",M,n(e)),a(e,"skinNum",O,n(e)),e.skinNumRP=S.Create(0),e._meshNode=null,e._skinContainer=null,e._rigidBody=null,e._sphereCollider=null,e._coneCollider=null,e.paths=null,e.pathsBak=null,e.npcStatus=S.Create(b.Empty),e.targetPathIdx=S.Create(0),e.targetPathIdxBak=0,e.curPathIdx=S.Create(null),e.curFirstWait=S.Create(0),e.curPreWait=S.Create(1/0),e.curPostWait=S.Create(0),e.curDizzWait=S.Create(0),e.patrolPause=S.Create(!1),e.arrivedEndPointCommand=D.Create(),e._lastPreDelay=null,e._lastPostDelay=null,e._pingpong_reverse=!1,e._pingpong_reverse_bak=!1,e._pingpong_end=!1,e._pingpong_end_bak=!1,e._pingpong_cur_loop=0,e._changeSkinSub=null,e._eshock_sub=null,e._eshockNode=null,e}i(e,t);var s=e.prototype;return s.willBind=function(){this._meshNode=c("mesh",this.node),this._skinContainer=c("mesh/skin",this.node),this._rigidBody=this.getComponent(p),this.initPath(),this.skinNumRP.value=this.skinNum},s.onDestroyView=function(){z.call(this,"_changeSkinSub"),z.call(this,"_eshock_sub")},s.initPath=function(){if(!CC_EDITOR){var t=this.pathNode;null==t&&(t=c("path",this.node)),this.refreshPath(t)}},s.refreshPath=function(t,e){if(void 0===e&&(e=!1),null==t)this.paths=[{preDelay:0,pos:o(this.node.worldPosition),postDelay:0}],e||(this.pathsBak=[this.paths[0]]);else{var i=t.getComponent(C).getPathPointInfo();this.paths=[i],e||(this.pathsBak=[i]);for(var a=0;a<t.children.length;a++){var n=t.children[a].getComponent(C).getPathPointInfo();this.paths.push(n),e||this.pathsBak.push(n)}e||t.destroy()}},s.useObserves=function(){var t=this;return[f.gameStatus.subscribe((function(e){f.gameStatus.value==k.Playing&&(t.npcStatus.value=b.Patrol)})),this.npcStatus.subscribe((function(e){t.npcStatus.value==b.Dead&&(j.set(t._rigidBody.angularFactor),j.x=1,j.z=1,t._rigidBody.angularFactor=j)})),this.targetPathIdx.subscribePairWise((function(e){t.curPathIdx.value=e[0],t.patrolType==y.PingPong?0==t.curPathIdx.value&&(t._pingpong_cur_loop++,t._pingpong_cur_loop%2==0&&t.arrivedEndPointCommand.execute()):t.patrolType==y.Once&&t.curPathIdx.value==t.paths.length-1&&t.arrivedEndPointCommand.execute()})),this.skinNumRP.subscribe(this.npcSkinChanged.bind(this))]},s.npcSkinChanged=function(){var t=this;if(this.log("changeSkinNum",this.skinNumRP.value),null!=this.skinNumRP.value&&0!=this.skinNumRP.value){z.call(this,"_changeSkinSub"),this._skinContainer.destroyAllChildren();var e="npcskin-"+this.skinNumRP.value.toString().padStart(3,"0");this._changeSkinSub=x.loadGamePrefabs("npcskin/"+e,(function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];var n=i[0],s=i[1];t.log("load game prefabs",n,s)})).subscribe((function(i){var a=x.getGamePrefab(e);t._skinContainer.addChild(d(a))}))}},s.nextTargetPathIdx=function(){if(1==this.paths.length)return 0;switch(this.patrolType){case y.Loop:return(this.targetPathIdx.value+1)%this.paths.length;case y.PingPong:if(this._pingpong_reverse){var t=this.targetPathIdx.value-1;return t<=0?(this._pingpong_reverse=!1,this._pingpong_end=!0):this._pingpong_end=!1,t}var e=this.targetPathIdx.value+1;return e>=this.paths.length-1?(this._pingpong_reverse=!0,this._pingpong_end=!0):this._pingpong_end=!1,e;case y.Once:return this.targetPathIdx.value==this.paths.length-1?this.targetPathIdx.value:this.targetPathIdx.value+1}},s.update=function(t){if(this.npcStatus.value==b.Patrol){if(this.patrolPause.value)return;if(this.patrolType==y.Lazy)return;if(this.curFirstWait.value<this.firstDelay)this.curFirstWait.value+=t;else{var e=this.paths[this.targetPathIdx.value];j.set(e.pos),j.y=0,this.node.getWorldPosition(Q),Q.y=0;var i=!1;if(g.distance(j,Q)<.1){this._lastPreDelay=e.preDelay,this._lastPostDelay=e.postDelay,this._pingpong_end&&(this.endTurnDirection==m.Left?this._rigidBody.applyLocalTorque(o(0,3,0)):this.endTurnDirection==m.Right&&this._rigidBody.applyLocalTorque(o(0,-3,0)));var a=this.targetPathIdx.value;this.targetPathIdx.value=this.nextTargetPathIdx(),i=a==this.targetPathIdx.value,this.curPreWait.value=0,this.curPostWait.value=0,e=this.paths[this.targetPathIdx.value]}if(i)0==this.targetPathIdx.value&&(Y.set(P.IDENTITY),this._meshNode.getRotation(J),J.slerp(Y,_.enemyRotateLerpRatio),this._meshNode.setRotation(J));else if(this.curPreWait.value<this._lastPreDelay)this.curPreWait.value+=t;else if(j.set(e.pos.x-Q.x,0,e.pos.z-Q.z),j.normalize().multiplyScalar(_.enemyMoveImpulse*t),Q.set(j).normalize(),P.fromViewUp(Y,Q,o(0,1,0)),this._meshNode.getWorldRotation(J),J.slerp(Y,_.enemyRotateLerpRatio),this._meshNode.setWorldRotation(J),this.curPostWait.value<this._lastPostDelay)this.curPostWait.value+=t;else{this._rigidBody.applyImpulse(j,o(0,-.01,0)),this._rigidBody.getLinearVelocity(j);var n=j.y;j.y=0;var s=j.length(),r=this.patrolSpeed;s>r&&(j.multiplyScalar(r/s),j.y=n,this._rigidBody.setLinearVelocity(j))}}}else this.npcStatus.value==b.Dizz?(this.curDizzWait.value+=t,this.curDizzWait.value>=_.npcDizzTime&&(this.npcStatus.value=b.Patrol)):this.npcStatus.value==b.FaceToPlayer&&(Q.set(f.playerPosCache.value),Q.subtract(this.node.worldPosition),Q.y=0,P.fromViewUp(Y,Q),this._meshNode.getWorldRotation(J),J.slerp(Y,_.enemyRotateLerpRatio),this._meshNode.setWorldRotation(J))},s.intoDizz=function(){this.npcStatus.value!=b.Patrol&&this.npcStatus.value!=b.Dizz||(this.npcStatus.value=b.Dizz,this.curDizzWait.value=0)},s.intoFaceToPlayer=function(){this.npcStatus.value==b.Patrol&&(this.npcStatus.value=b.FaceToPlayer)},s.outFromFaceToPlayer=function(){this.npcStatus.value==b.FaceToPlayer&&(this.npcStatus.value=b.Patrol)},s.addEShockEffect=function(){var t=this;z.call(this,"_eshock_sub"),this._eshock_sub=T(x.loadGamePrefabs("Particles/EShock",(function(){for(var e=arguments.length,i=new Array(e),a=0;a<e;a++)i[a]=arguments[a];var n=i[0],s=i[1];t.log("load game prefabs",n,s)})),I((function(){var e=x.getGamePrefab("EShock");t._eshockNode=d(e),t._meshNode.addChild(t._eshockNode)})),R(2,this.node),I((function(){v(t._eshockNode)&&t._eshockNode.destroy()}))).subscribe()},e}(N)).prototype,"pathNode",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(L.prototype,"patrolType",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return y.PingPong}}),A=e(L.prototype,"endTurnDirection",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return m.Empty}}),q=e(L.prototype,"patrolSpeed",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),M=e(L.prototype,"firstDelay",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=e(L.prototype,"skinNum",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=L))||F));s._RF.pop()}}}));

System.register("chunks:///_virtual/ObjectUnsubscribedError.ts",["cc","./createErrorClass.ts"],(function(r){"use strict";var e,s;return{setters:[function(r){e=r.cclegacy},function(r){s=r.createErrorClass}],execute:function(){e._RF.push({},"db330vv0n9IB5jJ6kRzExO8","ObjectUnsubscribedError",void 0);r("ObjectUnsubscribedError",s((function(r){return function(){r(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}})));e._RF.pop()}}}));

System.register("chunks:///_virtual/observable.ts",["cc"],(function(e){"use strict";var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"fc47dHjwDJI/rhYOqrNXTys","observable",void 0);e("observable","function"==typeof Symbol&&Symbol.observable||"@@observable");r._RF.pop()}}}));

System.register("chunks:///_virtual/Observable2.ts",["cc","./Subscriber.ts","./Subscription.ts","./observable.ts","./pipe.ts","./config.ts","./isFunction.ts","./errorContext.ts"],(function(r){"use strict";var n,t,e,i,u,o,c,s,b;return{setters:[function(r){n=r.cclegacy},function(r){t=r.Subscriber,e=r.SafeSubscriber},function(r){i=r.isSubscription},function(r){u=r.observable},function(r){o=r.pipeFromArray},function(r){c=r.config},function(r){s=r.isFunction},function(r){b=r.errorContext}],execute:function(){n._RF.push({},"9e056MJez9GcalYT7boKjl9","Observable",void 0);var f=r("Observable",function(){function r(r){this.source=void 0,this.operator=void 0,r&&(this._subscribe=r)}var n=r.prototype;return n.lift=function(n){var t=new r;return t.source=this,t.operator=n,t},n.subscribe=function(r,n,u){var o,c=this,f=(o=r)&&o instanceof t||function(r){return r&&s(r.next)&&s(r.error)&&s(r.complete)}(o)&&i(o)?r:new e(r,n,u);return b((function(){var r=c.operator,n=c.source;f.add(r?r.call(f,n):n?c._subscribe(f):c._trySubscribe(f))})),f},n._trySubscribe=function(r){try{return this._subscribe(r)}catch(n){r.error(n)}},n.forEach=function(r,n){var t=this;return new(n=a(n))((function(n,i){var u=new e({next:function(r){function n(n){return r.apply(this,arguments)}return n.toString=function(){return r.toString()},n}((function(n){try{r(n)}catch(r){i(r),u.unsubscribe()}})),error:i,complete:n});t.subscribe(u)}))},n._subscribe=function(r){var n;return null==(n=this.source)?void 0:n.subscribe(r)},n[u]=function(){return this},n.pipe=function(){for(var r=arguments.length,n=new Array(r),t=0;t<r;t++)n[t]=arguments[t];return o(n)(this)},n.toPromise=function(r){var n=this;return new(r=a(r))((function(r,t){var e;n.subscribe((function(r){return e=r}),(function(r){return t(r)}),(function(){return r(e)}))}))},r}());function a(r){var n;return null!=(n=null!=r?r:c.Promise)?n:Promise}f.create=function(r){return new f(r)},n._RF.pop()}}}));

System.register("chunks:///_virtual/observeOn.ts",["cc","./executeSchedule.ts","./lift.ts","./OperatorSubscriber.ts"],(function(e){"use strict";var t,n,r,u;return{setters:[function(e){t=e.cclegacy},function(e){n=e.executeSchedule},function(e){r=e.operate},function(e){u=e.createOperatorSubscriber}],execute:function(){e("observeOn",(function(e,t){void 0===t&&(t=0);return r((function(r,c){r.subscribe(u(c,(function(r){return n(c,e,(function(){return c.next(r)}),t)}),(function(){return n(c,e,(function(){return c.complete()}),t)}),(function(r){return n(c,e,(function(){return c.error(r)}),t)})))}))})),t._RF.push({},"49b1cobqchOvpV7T7jwiooe","observeOn",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/of.ts",["cc","./args.ts","./from.ts"],(function(t){"use strict";var r,n,e;return{setters:[function(t){r=t.cclegacy},function(t){n=t.popScheduler},function(t){e=t.from}],execute:function(){t("of",(function(){for(var t=arguments.length,r=new Array(t),c=0;c<t;c++)r[c]=arguments[c];var o=n(r);return e(r,o)})),r._RF.push({},"42d25i0BGpJ57GPvxT5nWyP","of",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/onErrorResumeNext.ts",["cc","./empty.ts","./onErrorResumeNext2.ts","./argsOrArgArray.ts"],(function(r){"use strict";var e,t,n,s;return{setters:[function(r){e=r.cclegacy},function(r){t=r.EMPTY},function(r){n=r.onErrorResumeNext},function(r){s=r.argsOrArgArray}],execute:function(){r("onErrorResumeNext",(function(){for(var r=arguments.length,e=new Array(r),o=0;o<r;o++)e[o]=arguments[o];return n(s(e))(t)})),e._RF.push({},"0eee1sb6sVKwaHpdqv9eIjH","onErrorResumeNext",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/onErrorResumeNext2.ts",["cc","./lift.ts","./innerFrom.ts","./argsOrArgArray.ts","./OperatorSubscriber.ts","./noop.ts"],(function(r){"use strict";var t,e,n,o,c,i;return{setters:[function(r){t=r.cclegacy},function(r){e=r.operate},function(r){n=r.innerFrom},function(r){o=r.argsOrArgArray},function(r){c=r.createOperatorSubscriber},function(r){i=r.noop}],execute:function(){r("onErrorResumeNext",(function(){for(var r=arguments.length,t=new Array(r),s=0;s<r;s++)t[s]=arguments[s];var u=o(t);return e((function(r,t){var e=[r].concat(u);!function r(){if(!t.closed)if(e.length>0){var o;try{o=n(e.shift())}catch(t){return void r()}var s=c(t,void 0,i,i);o.subscribe(s),s.add(r)}else t.complete()}()}))})),t._RF.push({},"b938fyVEpBNzrj1hlfP/GzM","onErrorResumeNext",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/OpenHomeChestPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePanel.ts","./ReactiveProperty.ts","./GameManager.ts","./BindButton.ts","./DataManager.ts"],(function(e){"use strict";var t,n,i,o,r,s,u,l,a,c,h,b,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,u=e.Button,l=e.Label},function(e){a=e.BasePanel},function(e){c=e.ReactiveProperty},function(e){h=e.gm},function(e){b=e.BindButton},function(e){p=e.dm}],execute:function(){var f,d,B,m,y,g,v,C,_,k,w;r._RF.push({},"58791ifEm5GcJwCzld7JMQm","OpenHomeChestPanel",void 0);var H=s.ccclass,P=s.property;e("OpenHomeChestPanel",(f=H("OpenHomeChestPanel"),d=P(u),B=P(u),m=P(u),y=P(l),f((C=t((v=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).ID=c.Create(null),i(t,"closeButton",C,o(t)),i(t,"cancelButton",_,o(t)),i(t,"unlockButton",k,o(t)),i(t,"rewardLabel",w,o(t)),t._ad_playing=!1,t}n(t,e);var r=t.prototype;return r.useObserves=function(){var e=this;return[this.ID.subscribe(this.refresh.bind(this)),h.choosedHomeChestID.subscribe((function(t){return e.ID.value=t})),b(this.closeButton).subscribe(this.closeButtonClicked.bind(this)),b(this.cancelButton).subscribe(this.closeButtonClicked.bind(this)),b(this.unlockButton).subscribe(this.unlockButtonClicked.bind(this))]},r.refresh=function(){this.rewardLabel.string=""+p.xlsx.HomeChest.main.coin},r.closeButtonClicked=function(){h.openHomeChestEnabled.value=!1},r.unlockButtonClicked=function(){var e=this;this._ad_playing||(this._ad_playing=!0,p.showAdsForHomeChest(this.ID.value).subscribe((function(t){e._ad_playing=!1,t&&(h.openHomeChestEnabled.value=!1)})))},t}(a)).prototype,"closeButton",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(v.prototype,"cancelButton",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(v.prototype,"unlockButton",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(v.prototype,"rewardLabel",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=v))||g));r._RF.pop()}}}));

System.register("chunks:///_virtual/Operator.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"22258ECpYNDH4r3ahY1HfaZ","Operator",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/OperatorSubscriber.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Subscriber.ts"],(function(r){"use strict";var t,e,i;return{setters:[function(r){t=r.inheritsLoose},function(r){e=r.cclegacy},function(r){i=r.Subscriber}],execute:function(){r("createOperatorSubscriber",(function(r,t,e,i,s){return new n(r,t,e,i,s)})),e._RF.push({},"1b0825o37tFxIfOBb0nNGVv","OperatorSubscriber",void 0);var n=r("OperatorSubscriber",function(r){function e(t,e,i,n,s,o){var c;return(c=r.call(this,t)||this).onFinalize=s,c.shouldUnsubscribe=o,c._next=e?function(r){try{e(r)}catch(r){t.error(r)}}:r.prototype._next,c._error=n?function(r){try{n(r)}catch(r){t.error(r)}finally{this.unsubscribe()}}:r.prototype._error,c._complete=i?function(){try{i()}catch(r){t.error(r)}finally{this.unsubscribe()}}:r.prototype._complete,c}return t(e,r),e.prototype.unsubscribe=function(){if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var t,e=this.closed;r.prototype.unsubscribe.call(this),!e&&(null==(t=this.onFinalize)||t.call(this))}},e}(i));e._RF.pop()}}}));

System.register("chunks:///_virtual/OptFilterFlag.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,i,n,l,a,o;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){l=t.cclegacy,a=t._decorator,o=t.Component}],execute:function(){var c,p,s;l._RF.push({},"7447aeY3EpPiYM/3L0hL9Iv","OptFilterFlag",void 0);var u=a.ccclass,f=a.property;t("OptFliterFlag",u("OptFliterFlag")((s=e((p=function(t){function e(){for(var e,r=arguments.length,l=new Array(r),a=0;a<r;a++)l[a]=arguments[a];return e=t.call.apply(t,[this].concat(l))||this,i(e,"fliterFlag",s,n(e)),e}return r(e,t),e}(o)).prototype,"fliterFlag",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),c=p))||c);l._RF.pop()}}}));

System.register("chunks:///_virtual/OptimizeScrollView.ts",["cc"],(function(t){"use strict";var l,o;return{setters:[function(t){l=t.cclegacy,o=t.Vec3}],execute:function(){t("optimizeScrollView",(function(t){var l=t;l._startInertiaScroll=function(t){var e=new o(t);e.multiplyScalar(10),l._startAttenuatingAutoScroll(e,t)},l._processAutoScrolling=function(t){var a=l._isNecessaryAutoScrollBrake(),r=a?.05:1;l._autoScrollAccumulatedTime+=t*(1/r);var c,i=Math.min(1,l._autoScrollAccumulatedTime/l._autoScrollTotalTime);l._autoScrollAttenuate&&(c=i,c-=1,i=Math.pow(c,9)+1);var n=l._autoScrollTargetDelta.clone();n.multiplyScalar(i);var s=l._autoScrollStartPosition.clone();s.add(n);var u=Math.abs(i-1)<=e;if(Math.abs(i-1)<=l.getScrollEndedEventTiming()&&!l._isScrollEndedWithThresholdEventFired&&(l._dispatchEvent("scroll-ended-with-threshold"),l._isScrollEndedWithThresholdEventFired=!0),l.elastic){var d=s.clone();d.subtract(l._autoScrollBrakingStartPosition),a&&d.multiplyScalar(r),s.set(l._autoScrollBrakingStartPosition),s.add(d)}else{var _=s.clone();_.subtract(l.getContentPosition());var S=l._getHowMuchOutOfBoundary(_);S.equals(o.ZERO,e)||(s.add(S),u=!0)}u&&(l._autoScrolling=!1);var v=s.clone();v.subtract(l._getContentPosition()),l._clampDelta(v),l._moveContent(v,u),l._dispatchEvent("scrolling"),l._autoScrolling||(l._isBouncing=!1,l._scrolling=!1,l._dispatchEvent("scroll-ended"))}})),l._RF.push({},"cc3e34qmDNLNY7ylPYkjAbl","OptimizeScrollView",void 0);var e=1e-4;l._RF.pop()}}}));

System.register("chunks:///_virtual/OptNearPlayer.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameManager.ts"],(function(r){"use strict";var t,e,o,n,i,a,s,l;return{setters:[function(r){t=r.inheritsLoose},function(r){e=r.cclegacy,o=r._decorator,n=r.macro,i=r.RigidBody,a=r.Vec3,s=r.Component},function(r){l=r.gm}],execute:function(){var c;e._RF.push({},"45329iX0IVP5ICko6byBq72","OptNearPlayer",void 0);var u=o.ccclass;o.property,r("OptNearPlayer",u("OptNearPlayer")(c=function(r){function e(){for(var t,e=arguments.length,o=new Array(e),n=0;n<e;n++)o[n]=arguments[n];return(t=r.call.apply(r,[this].concat(o))||this)._rigidbody=null,t}t(e,r);var o=e.prototype;return o.start=function(){var r=this;this.schedule((function(){r.refresh()}),.4,n.REPEAT_FOREVER,.4*Math.random())},o.refresh=function(){var r;if(null==this._rigidbody&&(this._rigidbody=this.getComponent(i)),null!=(null==(r=l.gameRoot3D)?void 0:r.player)){var t,e=a.squaredDistance(null==(t=l.gameRoot3D)?void 0:t.player.node.worldPosition,this.node.worldPosition);this._rigidbody.enabled=e<1}},e}(s))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/pairs.ts",["cc","./from.ts"],(function(t){"use strict";var e,r;return{setters:[function(t){e=t.cclegacy},function(t){r=t.from}],execute:function(){t("pairs",(function(t,e){return r(Object.entries(t),e)})),e._RF.push({},"a07ebbbb5FDa5Ki86OvVQiN","pairs",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/pairwise.ts",["cc","./lift.ts","./OperatorSubscriber.ts"],(function(t){"use strict";var r,e,i;return{setters:[function(t){r=t.cclegacy},function(t){e=t.operate},function(t){i=t.createOperatorSubscriber}],execute:function(){t("pairwise",(function(){return e((function(t,r){var e,c=!1;t.subscribe(i(r,(function(t){var i=e;e=t,c&&r.next([i,t]),c=!0})))}))})),r._RF.push({},"64300mvqPtOKqXa2M893cvr","pairwise",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/partition.ts",["cc","./not.ts","./filter.ts","./innerFrom.ts"],(function(t){"use strict";var n,i,r,e;return{setters:[function(t){n=t.cclegacy},function(t){i=t.not},function(t){r=t.filter},function(t){e=t.innerFrom}],execute:function(){t("partition",(function(t,n,o){return[r(n,o)(e(t)),r(i(n,o))(e(t))]})),n._RF.push({},"20fe9t6ztBGYLfuayJIRaur","partition",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/partition2.ts",["cc","./not.ts","./filter.ts"],(function(t){"use strict";var n,i,r;return{setters:[function(t){n=t.cclegacy},function(t){i=t.not},function(t){r=t.filter}],execute:function(){t("partition",(function(t,n){return function(c){return[r(t,n)(c),r(i(t,n))(c)]}})),n._RF.push({},"ffb46FtT0tOjpdG7wM9jJpE","partition",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/PathPoint.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,o,i,n,p,a,s,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,r=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,n=t.createClass},function(t){p=t.cclegacy,a=t._decorator,s=t.v3,l=t.Component}],execute:function(){var c,u,y,f;p._RF.push({},"d2e5aUQ+ZtLfJpQiIsZpHQj","PathPoint",void 0);var h=a.ccclass,P=a.property;t("PathPoint",h("PathPoint")((y=e((u=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),p=0;p<r;p++)n[p]=arguments[p];return e=t.call.apply(t,[this].concat(n))||this,o(e,"preDelay",y,i(e)),o(e,"postDelay",f,i(e)),e}return r(e,t),e.prototype.getPathPointInfo=function(){return{preDelay:this.preDelay,pos:s(this.pos),postDelay:this.postDelay}},n(e,[{key:"pos",get:function(){return this.node.getWorldPosition()}}]),e}(l)).prototype,"preDelay",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),f=e(u.prototype,"postDelay",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e(u.prototype,"pos",[P],Object.getOwnPropertyDescriptor(u.prototype,"pos"),u.prototype),c=u))||c);p._RF.pop()}}}));

System.register("chunks:///_virtual/performanceTimestampProvider.ts",["cc"],(function(e){"use strict";var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){r._RF.push({},"933ccskjKNLsIgfk/GRSXPZ","performanceTimestampProvider",void 0);var t=e("performanceTimestampProvider",{now:function(){return(t.delegate||performance).now()},delegate:void 0});r._RF.pop()}}}));

System.register("chunks:///_virtual/pipe.ts",["cc","./identity.ts"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy},function(t){n=t.identity}],execute:function(){function r(t){return 0===t.length?n:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}t({pipe:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return r(e)},pipeFromArray:r}),e._RF.push({},"e9073uVs0VDspzrI26z7YgL","pipe",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/Player.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ByteDanceManager.ts","./Exit.ts","./LockerDoor.ts","./Enemy.ts","./UserDataManager.ts","./DataManager.ts","./BundleAssetsManager.ts","./ReactiveProperty.ts","./GameConfig.ts","./GameManager.ts","./BaseView.ts","./BindCollider.ts","./index.ts","./utils.ts","./Enums.ts","./TweenStart.ts","./Trail.ts","./PrewarPropsSpeed.ts","./CommonObservable.ts","./CreatorSchedule.ts","./DataConfig.ts","./concat2.ts"],(function(e){"use strict";var t,a,i,n,o,r,s,l,u,c,d,h,f,g,m,p,v,y,b,_,P,C,S,N,E,k,w,R,T,B,D,I,V,M,G,x,A;return{setters:[function(e){t=e.inheritsLoose},function(e){a=e.cclegacy,i=e._decorator,n=e.v3,o=e.quat,r=e.find,s=e.RigidBody,l=e.Collider,u=e.sys,c=e.Vec3,d=e.Quat,h=e.instantiate,f=e.MeshRenderer,g=e.v4,m=e.isValid},function(e){p=e.bdm},function(e){v=e.Exit},function(e){y=e.LockerDoor},function(e){b=e.Enemy},function(e){_=e.udm},function(e){P=e.dm},function(e){C=e.bam},function(e){S=e.ReactiveProperty},function(e){N=e.GameConfig},function(e){E=e.gm},function(e){k=e.BaseView},function(e){w=e.BindColliderCollision},null,function(e){R=e.nullifySubscription},function(e){T=e.GameStatus,B=e.PrewarPropId},function(e){D=e.TweenToStart},function(e){I=e.Trail},function(e){V=e.PrewarPropsSpeed},function(e){M=e.instantFunc},function(e){G=e.Timer},function(e){x=e.DataConfig},function(e){A=e.concat}],execute:function(){var K;a._RF.push({},"e8975q0EENO0qJgpY4HdB0d","Player",void 0);var L=i.ccclass,F=(i.property,n()),O=n(),U=o(),W=o(),Z=o();o(),e("Player",L("Player")(K=function(e){function a(){for(var t,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))||this)._meshNode=null,t._rigidBody=null,t._collider=null,t._oriFriction=null,t.isDead=S.Create(!1),t.isComplete=S.Create(!1),t.skinNum=S.Create(null),t.gotKeys=S.Create([]),t.fanEffectRemain=0,t.fanEffectDirection=n(),t.trailNum=S.Create(null),t.speedEffect=S.Create(!1),t.invisableEffect=S.Create(!1),t.touchBedEnemy=!1,t._changeSkinSub=null,t._changeTrailSub=null,t._add_prewar_speed_sub=null,t._eshock_sub=null,t._eshockNode=null,t}t(a,e);var i=a.prototype;return i.willBind=function(){this._meshNode=r("mesh",this.node),this._rigidBody=this.getComponent(s),this._collider=this.getComponent(l)},i.onDestroyView=function(){R.call(this,"_eshock_sub"),R.call(this,"_changeSkinSub"),R.call(this,"_changeTrailSub"),R.call(this,"_add_prewar_speed_sub")},i.useObserves=function(){var e=this;return[this.isDead.subscribe((function(t){t?(e._rigidBody.isStatic=!0,E.gameStatus.value=T.Lose,p.report("stage_over",{id:E.stageInfo.value.stageNum,success:1}),e.log("玩家死亡")):e._rigidBody.isStatic=!1})),this.isComplete.subscribe((function(t){t&&(E.gameStatus.value=T.Win,p.report("stage_over",{id:E.stageInfo.value.stageNum,success:0}),u.platform==u.Platform.BYTEDANCE_MINI_GAME&&(_.maxStage.value>x.maxStageCount?p.setImRankData({dataType:0,value:x.maxStageCount.toString(),priority:0,extra:""}):p.setImRankData({dataType:0,value:_.maxStage.value.toString(),priority:0,extra:""})),E.winWaiting=!0,E.settleAccount(),e.log("胜利"))})),this.skinNum.subscribeUntilChanged(this.changeSkinNum.bind(this)),this.trailNum.subscribeUntilChanged(this.changeTrailNum.bind(this)),this.speedEffect.subscribeUntilChanged(this.changeSpeedEffect.bind(this)),this.invisableEffect.subscribeUntilChanged(this.changeInvisableEffect.bind(this)),E.curPrewarProps.subscribe((function(t){e.speedEffect.value=2==E.curPrewarProps.value,e.invisableEffect.value=3==E.curPrewarProps.value})),E.gameStatus.subscribe((function(t){[T.Prestart,T.StartPause,T.Playing].includes(E.gameStatus.value)&&(e.skinNum.value=_.skinNum.value)})),this.gotKeys.subscribe((function(e){E.gotKeys.value=e})),_.skinNum.subscribe((function(t){e.skinNum.value=_.skinNum.value}))]},i.start=function(){var e=this;this.getMainSubscription().add(w(this._collider).subscribe((function(t){if([T.Playing,T.Win].includes(E.gameStatus.value)&&!e.isDead.value&&!e.isComplete.value&&"onCollisionEnter"==t.event.type){var a=t.event.otherCollider.getComponent(b);null!=a&&(e.log("hit enemy!"),a.intoDizz());var i=t.event.otherCollider.node;if("lockerdoor_movable"==i.name){var o=i.parent.getComponent(y);if(0==o._opened){var r=e.gotKeys.value.findIndex((function(e){return e==o.needKeyId}));if(r>=0){var s=e.gotKeys.value.splice(r,1)[0];e.gotKeys.again(),o.open();var l=E.gameRoot3D.keys[s];l.node.active=!0,l.node.setParent(e.node),l.node.setPosition(n(0,1,0)),l.node.setRotationFromEuler(n(0,90,0)),l.useKeyAnim()}}}var u=i.getComponent(v);null!=u&&(e.isComplete.value=!0,e._rigidBody.isKinematic=!0,e.node.getWorldPosition(F),e.node.setParent(u._playerContainer),e.node.setWorldPosition(F),e.moveToPosition(u._playerContainer.worldPosition).subscribe({complete:function(){u.trigger()}}))}})))},i.moveToPosition=function(e){return D(this.node,.2,{position:c.ZERO,eulerAngles:c.ZERO})},i.update=function(e){if(!this.isDead.value&&[T.Playing,T.Win].includes(E.gameStatus.value)){this.fanEffectRemain>=0&&(this.fanEffectRemain-=e),F.set(E.realControlVarX.value,0,E.realControlVarZ.value).multiplyScalar(N.playerMoveImpulse*e),this.touchBedEnemy&&F.multiplyScalar(.1),this.node.getRotation(W),W.slerp(d.IDENTITY,N.playerRotateVerticalLerpRatio),this.node.setRotation(W),E.curPrewarProps.value==B.Speed&&F.multiplyScalar(N.PrewarProps[B.Speed].speedRate),this._rigidBody.applyImpulse(F,n(0,-.01,0)),this._rigidBody.getLinearVelocity(F);var t=F.y,a=F.length(),i=N.playerMoveMaxVelocity;E.curPrewarProps.value==B.Speed&&(i*=N.PrewarProps[B.Speed].speedRate),this.fanEffectRemain>=0&&(i*=2),a>i&&(F.multiplyScalar(i/a),F.y=t,this._rigidBody.setLinearVelocity(F)),this.changeFaceToVelocity(),E.playerPosCache.value.set(this.node.worldPosition),E.playerPosCache.again()}},i.changeFaceToVelocity=function(){(Math.abs(E.realControlVarX.value)>0||Math.abs(E.realControlVarZ.value)>0)&&(O.set(E.realControlVarX.value,0,E.realControlVarZ.value).normalize(),d.fromViewUp(U,O,n(0,1,0)),this._meshNode.getRotation(W),W.slerp(U,N.playerRotateLerpRatio),this._meshNode.setRotation(W),this.node.getRotation(Z),F.set(this.node.eulerAngles),F.y=0,d.fromEuler(U,F.x,F.y,F.z),Z.slerp(U,N.playerRotateLerpRatio),this.node.setRotation(Z))},i.changeSkinNum=function(){var e=this;this.log("changeSkinNum",this.skinNum.value),R.call(this,"_changeSkinSub"),this._meshNode.destroyAllChildren();var t=P.playerSkinNumToSkinKey(this.skinNum.value);this._changeSkinSub=C.loadGamePrefabs("GameObjects/player/"+t,(function(){for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];var n=a[0],o=a[1];e.log("load game prefabs",n,o)})).subscribe((function(a){var i=C.getGamePrefab(t);e._meshNode.addChild(h(i))}))},i.changeTrailNum=function(){var e=this;if(this.log("changeTrailNum",this.trailNum.value),R.call(this,"_changeTrailSub"),this.node.getComponentsInChildren(I).forEach((function(e){return e.node.destroy()})),null!=this.trailNum.value){var t=P.trailNumToTrailKey(this.trailNum.value);this._changeTrailSub=C.loadGamePrefabs("Trail/"+t,(function(){for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];var n=a[0],o=a[1];e.log("load game prefabs",n,o)})).subscribe((function(a){var i=C.getGamePrefab(t);e._meshNode.addChild(h(i))}))}},i.changeSpeedEffect=function(){var e=this;R.call(this,"_add_prewar_speed_sub"),this.node.getComponentsInChildren(V).forEach((function(e){return e.node.destroy()})),E.curPrewarProps.value==B.Speed&&(this._add_prewar_speed_sub=C.loadGamePrefabs("GameObjects/player/SpeedEffects/PrewarPropsSpeed",(function(){for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];var n=a[0],o=a[1];e.log("load game prefabs",n,o)})).subscribe((function(t){var a=C.getGamePrefab("PrewarPropsSpeed");e._meshNode.addChild(h(a))})))},i.changeInvisableEffect=function(){var e=this._meshNode.getComponentInChildren(f);if(null!=e){var t=e.getMaterialInstance(0);this.invisableEffect.value?t.setProperty("mainColor",g(1,1,1,.4)):t.setProperty("mainColor",g(1,1,1,1))}},i.addEShockEffect=function(){var e=this;R.call(this,"_eshock_sub"),this._eshock_sub=A(C.loadGamePrefabs("Particles/EShock",(function(){for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];var n=a[0],o=a[1];e.log("load game prefabs",n,o)})),M((function(){var t=C.getGamePrefab("EShock");e._eshockNode=h(t),e._meshNode.addChild(e._eshockNode),e._eshockNode.setY(1)})),G(2,this.node),M((function(){m(e._eshockNode)&&e._eshockNode.destroy()}))).subscribe()},a}(k))||K);a._RF.pop()}}}));

System.register("chunks:///_virtual/PlayerSkinIconRefs.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,n,t,i,c;return{setters:[function(e){r=e.applyDecoratedDescriptor,n=e.initializerDefineProperty},function(e){t=e.cclegacy,i=e._decorator,c=e.SpriteFrame}],execute:function(){var o,s,a,u,l;t._RF.push({},"cca87UvqtRLsaPb8mxOFusp","PlayerSkinIconRefs",void 0);var p=i.ccclass,f=i.property;e("PlayerSkinIconRefs",(o=p("PlayerSkinIconRefs"),s=f([c]),o((l=r((u=function(){function e(){n(this,"icons",l,this)}return e.prototype.getIcons=function(e){return this.icons[e]},e}()).prototype,"icons",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),a=u))||a));t._RF.pop()}}}));

System.register("chunks:///_virtual/pluck.ts",["cc","./map.ts"],(function(r){"use strict";var t,n;return{setters:[function(r){t=r.cclegacy},function(r){n=r.map}],execute:function(){r("pluck",(function(){for(var r=arguments.length,t=new Array(r),e=0;e<r;e++)t[e]=arguments[e];var c=t.length;if(0===c)throw new Error("list of properties cannot be empty.");return n((function(r){for(var n=r,e=0;e<c;e++){var u,i=null==(u=n)?void 0:u[t[e]];if(void 0===i)return;n=i}return n}))})),t._RF.push({},"5d1c7EiAhtEVJK1vUI9gOEQ","pluck",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/Polygon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts","./math.ts"],(function(t){"use strict";var i,s,n,o,e,r,h,a,c,_;return{setters:[function(t){i=t.inheritsLoose},function(t){s=t.cclegacy,n=t._decorator,o=t.Vec3,e=t.v3},function(t){r=t.BaseView},function(t){h=t.lineIntersection,a=t.pointInLine,c=t.pointToLineProjection,_=t.pointToPlaneProjection}],execute:function(){var u;s._RF.push({},"de830Fwp1JBZZo4XCVhIt7S","Polygon",void 0);var l=n.ccclass,p=(n.property,n.executeInEditMode);t("Polygon",l("Polygon")(u=p(u=function(t){function s(){for(var i,s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(i=t.call.apply(t,[this].concat(n))||this).points=null,i.normal=e(),i.S=e(),i._intRes=e(),i._A=e(),i._B=e(),i._oriProj=e(),i._tempEdge=e(),i}i(s,t);var n=s.prototype;return n.onLoadView=function(){this.loadPointList(),CC_EDITOR||this.node.removeAllChildren()},n.loadPointList=function(){this.points=this.node.children.map((function(t){return t.getWorldPosition()})),o.subtract(this._A,this.points[1],this.points[0]),o.subtract(this._B,this.points[this.points.length-1],this.points[0]),o.cross(this.normal,this._A,this._B),this.normal.normalize(),this.S=e(this.points[0])},n.inPolygon=function(t){var i=e();o.lerp(i,this.points[0],this.points[this.points.length-1],.5);for(var s=1,n=0;n<this.points.length-1;n++){var r=this.points[n],a=this.points[n+1];if(h(this._intRes,t,i,r,a),o.subtract(this._A,i,t),o.subtract(this._B,this._intRes,t),o.dot(this._A,this._B)>0)o.subtract(this._A,r,this._intRes),o.subtract(this._B,a,this._intRes),o.dot(this._A,this._B)<0&&s++}return s%2!=0},n.findFirstIntersection=function(t,i,s){for(var n=1/0,e=o.distance(i,s),r=0;r<this.points.length;r++){var _=this.points[r],u=this.points[(r+1)%this.points.length],l=!1;if(a(_,u,i)){if(this.warn("点在线上"),l=!0,this.inPolygon(s))return t.set(s),void(n=1/0);this._intRes.set(i)}else h(this._intRes,i,s,_,u);o.subtract(this._A,s,i),o.subtract(this._B,this._intRes,i);var p=o.dot(this._A,this._B);if(l||p>0){var d=o.distance(i,this._intRes);if(l&&(d=0),d<e){o.subtract(this._A,_,this._intRes),o.subtract(this._B,u,this._intRes);var f=o.dot(this._A,this._B);if((l||f<0)&&d<n){o.subtract(this._A,s,i),o.subtract(this._tempEdge,_,u),this._tempEdge.normalize();var g=o.dot(this._A,this._tempEdge);this._tempEdge.multiplyScalar(g),c(this._oriProj,_,u,i),o.add(t,this._oriProj,this._tempEdge),o.subtract(this._A,t,_),o.subtract(this._B,t,u),o.dot(this._A,this._B)>0&&(o.squaredDistance(_,t)<o.squaredDistance(u,t)?t.set(_):t.set(u)),n=d}}}}return n},n.projection=function(t,i){_(t,i,this.S,this.normal)},s}(r))||u)||u);s._RF.pop()}}}));

System.register("chunks:///_virtual/Pool.ts",["cc"],(function(o){"use strict";var t,n,e,l;return{setters:[function(o){t=o.cclegacy,n=o._decorator,e=o.instantiate,l=o.NodePool}],execute:function(){var r;t._RF.push({},"1bab0mhDKNAW5CDokKgEFQC","Pool",void 0);var i=n.ccclass;n.property,o("Pool",i("Pool")(r=function(){function o(o,t,n){if(this._prefab=null,this._nodePool=null,this._poolHandlerComp=null,this._prefab=o,this._poolHandlerComp=t,this._nodePool=new l(t),n>0)for(var r=0;r<n;r++){var i=e(this._prefab);this._nodePool.put(i)}}var t=o.prototype;return t.destroy=function(){this._nodePool.clear(),this._nodePool=null},t.getNodeFromPool=function(o){var t=null;return t=this._nodePool.size()>0?this._nodePool.get():e(this._prefab),o&&o.addChild(t),t},t.getFromPool=function(o){return this.getNodeFromPool(o).getComponent(this._poolHandlerComp)},t.putNodeToPool=function(o){this._nodePool.put(o)},t.putToPool=function(o){this._nodePool.put(o.node)},t.putAllChildrenToPool=function(o){var t=this,n=[];o.children.forEach((function(o){null!=o.getComponent(t._poolHandlerComp)&&n.push(o)})),n.forEach((function(o){return t.putNodeToPool(o)}))},o}())||r);t._RF.pop()}}}));

System.register("chunks:///_virtual/PrewarPropButton.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts","./ReactiveProperty.ts","./DataManager.ts","./UserDataManager.ts","./BindButton.ts","./GameManager.ts","./Enums.ts","./BundleAssetsManager.ts","./i18n.ts","./LanguageData.ts"],(function(t){"use strict";var e,i,n,r,a,l,u,o,s,c,p,f,b,h,v,g,d,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,l=t._decorator,u=t.Label,o=t.Button,s=t.Sprite},function(t){c=t.BaseView},function(t){p=t.ReactiveProperty},function(t){f=t.dm},function(t){b=t.udm},function(t){h=t.BindButton},function(t){v=t.gm},function(t){g=t.FlowStatus},function(t){d=t.bam},null,function(t){m=t.t}],execute:function(){var P,w,B,D,y,L,I,A,S,z,R,C,F;a._RF.push({},"eb2220KPe9AsKKARllYG4XP","PrewarPropButton",void 0);var M=l.ccclass,k=l.property;t("PrewarPropButton",(P=M("PrewarPropButton"),w=k(u),B=k(u),D=k(u),y=k(o),L=k(s),P((S=e((A=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return(e=t.call.apply(t,[this].concat(a))||this).ID=p.Create(null),n(e,"titleLabel",S,r(e)),n(e,"tipLabel",z,r(e)),n(e,"remainLabel",R,r(e)),n(e,"selfButton",C,r(e)),n(e,"iconSprite",F,r(e)),e}i(e,t);var a=e.prototype;return a.useObserves=function(){return[this.ID.subscribe(this.refresh.bind(this)),h(this.selfButton).subscribe(this.selfButtonClicked.bind(this))]},a.refresh=function(){var t,e,i,n=this.ID.value,r=f.xlsx.Tool.main[this.ID.value];if(null!=r){var a=null!=(t=null==(e=b.pp.value)||null==(i=e[this.ID.value])?void 0:i.ads)?t:0;this.titleLabel.string=m(r.Name),this.tipLabel.string=m(r.Des).replace("{0}",r.Dispatch.toString()),this.remainLabel.node.active=r.Ads>1,this.remainLabel.string=a+"/"+r.Ads,this.iconSprite.spriteFrame=d.gameAsstsRefs.prewarProps.getIcons(n)}},a.selfButtonClicked=function(){var t=this;this.log("selfButtonClicked",this.ID.value),f.showAdsForPrewarProp(this.ID.value).subscribe((function(e){if(e){t.ID.again();var i,n=b.pp.value[t.ID.value];if((null==n?void 0:n.remain)>0)v.curPrewarProps.value=null==(i=f.getCurPrewarProp())?void 0:i.ID,v.intoPlaying(),v.flowStatus.value=g.Game}}))},e}(c)).prototype,"titleLabel",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(A.prototype,"tipLabel",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(A.prototype,"remainLabel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(A.prototype,"selfButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(A.prototype,"iconSprite",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=A))||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/PrewarPropPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePanel.ts","./DataManager.ts","./PrewarPropButton.ts","./BindButton.ts","./GameManager.ts","./Enums.ts"],(function(t){"use strict";var r,e,n,o,a,i,u,l,s,c,p,P,b,f,g,d,B;return{setters:[function(t){r=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){a=t.cclegacy,i=t._decorator,u=t.Prefab,l=t.Node,s=t.Button,c=t.instantiate},function(t){p=t.BasePanel},function(t){P=t.dm},function(t){b=t.PrewarPropButton},function(t){f=t.BindButton},function(t){g=t.gm},function(t){d=t.GameStatus,B=t.FlowStatus}],execute:function(){var w,h,y,v,m,C,D,S,k;a._RF.push({},"818c3QSePNEDo4OONoHEIep","PrewarPropPanel",void 0);var z=i.ccclass,E=i.property;t("PrewarPropPanel",(w=z("PrewarPropPanel"),h=E(u),y=E(l),v=E(s),w((D=r((C=function(t){function r(){for(var r,e=arguments.length,a=new Array(e),i=0;i<e;i++)a[i]=arguments[i];return r=t.call.apply(t,[this].concat(a))||this,n(r,"prewarPropButtonPrefab",D,o(r)),n(r,"boardContainer",S,o(r)),n(r,"bgButton",k,o(r)),r}e(r,t);var a=r.prototype;return a.useObserves=function(){var t=this;return[f(this.bgButton).subscribe(this.bgButtonClicked.bind(this)),g.curPrewarProps.subscribe((function(r){return t.genPrewarProp()}))]},a.genPrewarProp=function(){var t=this;this.boardContainer.destroyAllChildren(),Object.keys(P.xlsx.Tool.main).forEach((function(r){var e=r,n=c(t.prewarPropButtonPrefab);n.setParent(t.boardContainer),n.getComponent(b).ID.value=e}))},a.bgButtonClicked=function(){this.log("bgButtonClicked"),g.intoPlaying(),g.gameStatus.value=d.Playing,g.flowStatus.value=B.Game},r}(p)).prototype,"prewarPropButtonPrefab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=r(C.prototype,"boardContainer",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=r(C.prototype,"bgButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=C))||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/PrewarPropsIcon.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts","./ReactiveProperty.ts","./DataManager.ts","./UserDataManager.ts","./BundleAssetsManager.ts","./i18n.ts","./LanguageData.ts"],(function(e){"use strict";var r,t,i,n,a,s,l,o,u,c,p,f,b,h;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,s=e._decorator,l=e.Label,o=e.Sprite},function(e){u=e.BaseView},function(e){c=e.ReactiveProperty},function(e){p=e.dm},function(e){f=e.udm},function(e){b=e.bam},null,function(e){h=e.t}],execute:function(){var v,m,g,y,P,D,I,L,d;a._RF.push({},"3eaf5L9FpNBxJbm2ZXrGfyx","PrewarPropsIcon",void 0);var w=s.ccclass,x=s.property;e("PrewarPropsIcon",(v=w("PrewarPropsIcon"),m=x(l),g=x(l),y=x(o),v((I=r((D=function(e){function r(){for(var r,t=arguments.length,a=new Array(t),s=0;s<t;s++)a[s]=arguments[s];return(r=e.call.apply(e,[this].concat(a))||this).ID=c.Create(null),i(r,"titleLabel",I,n(r)),i(r,"remainLabel",L,n(r)),i(r,"iconSprite",d,n(r)),r}t(r,e);var a=r.prototype;return a.useObserves=function(){var e=this;return[this.ID.subscribe(this.refresh.bind(this)),f.pp.subscribe((function(r){e.refresh()}))]},a.refresh=function(){var e,r,t,i=this.ID.value;if(null!=this.ID.value){var n=p.xlsx.Tool.main[this.ID.value];if(null!=n){var a=null!=(e=null==(r=f.pp.value)||null==(t=r[this.ID.value])?void 0:t.remain)?e:0;this.titleLabel.string=n.Name,this.remainLabel.node.active=a>0,this.remainLabel.string=""+h("gbp.remain").replace("{}",a),this.iconSprite.spriteFrame=b.gameAsstsRefs.prewarProps.getIcons(i)}}},r}(u)).prototype,"titleLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=r(D.prototype,"remainLabel",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=r(D.prototype,"iconSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=D))||P));a._RF.pop()}}}));

System.register("chunks:///_virtual/PrewarPropsRefs.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(r){"use strict";var e,t,o,n,s;return{setters:[function(r){e=r.applyDecoratedDescriptor,t=r.initializerDefineProperty},function(r){o=r.cclegacy,n=r._decorator,s=r.SpriteFrame}],execute:function(){var i,c,p,a,u;o._RF.push({},"6f474RAELtOFq0Qn0DsQFnr","PrewarPropsRefs",void 0);var f=n.ccclass,l=n.property;r("PrewarPropsRefs",(i=f("PrewarPropsRefs"),c=l([s]),i((u=e((a=function(){function r(){t(this,"prewarPropsIcons",u,this)}return r.prototype.getIcons=function(r){return this.prewarPropsIcons[r]},r}()).prototype,"prewarPropsIcons",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p=a))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/PrewarPropsSpeed.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,o,s;return{setters:[function(e){r=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,s=e.Component}],execute:function(){var n;t._RF.push({},"94017xa+GdPpKfXFAewEBSI","PrewarPropsSpeed",void 0);var p=o.ccclass;o.property,e("PrewarPropsSpeed",p("PrewarPropsSpeed")(n=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t}(s))||n);t._RF.pop()}}}));

System.register("chunks:///_virtual/publish.ts",["cc","./Subject.ts","./multicast.ts","./connect.ts"],(function(t){"use strict";var n,c,u,e;return{setters:[function(t){n=t.cclegacy},function(t){c=t.Subject},function(t){u=t.multicast},function(t){e=t.connect}],execute:function(){t("publish",(function(t){return t?function(n){return e(t)(n)}:function(t){return u(new c)(t)}})),n._RF.push({},"ffc3cFQ2kZPFIEFYHggJE/V","publish",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/publishBehavior.ts",["cc","./BehaviorSubject.ts","./ConnectableObservable.ts"],(function(e){"use strict";var n,t,r;return{setters:[function(e){n=e.cclegacy},function(e){t=e.BehaviorSubject},function(e){r=e.ConnectableObservable}],execute:function(){e("publishBehavior",(function(e){return function(n){var u=new t(e);return new r(n,(function(){return u}))}})),n._RF.push({},"d7d7eLlfIZJHY3pTy+clDUv","publishBehavior",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/publishLast.ts",["cc","./AsyncSubject.ts","./ConnectableObservable.ts"],(function(t){"use strict";var n,e,c;return{setters:[function(t){n=t.cclegacy},function(t){e=t.AsyncSubject},function(t){c=t.ConnectableObservable}],execute:function(){t("publishLast",(function(){return function(t){var n=new e;return new c(t,(function(){return n}))}})),n._RF.push({},"1ad9af636tNhpqVNzgTjg2F","publishLast",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/publishReplay.ts",["cc","./ReplaySubject.ts","./multicast.ts","./isFunction.ts"],(function(t){"use strict";var n,u,c,e;return{setters:[function(t){n=t.cclegacy},function(t){u=t.ReplaySubject},function(t){c=t.multicast},function(t){e=t.isFunction}],execute:function(){t("publishReplay",(function(t,n,i,s){i&&!e(i)&&(s=i);var a=e(i)?i:void 0;return function(e){return c(new u(t,n,s),a)(e)}})),n._RF.push({},"aab58sZF0VBMaJe6vYUVYLa","publishReplay",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/queue.ts",["cc","./QueueAction.ts","./QueueScheduler.ts"],(function(e){"use strict";var u,t,c;return{setters:[function(e){u=e.cclegacy},function(e){t=e.QueueAction},function(e){c=e.QueueScheduler}],execute:function(){u._RF.push({},"1fa49EMofZJsKpd0kom4Xm0","queue",void 0);var n=e("queueScheduler",new c(t));e("queue",n);u._RF.pop()}}}));

System.register("chunks:///_virtual/QueueAction.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AsyncAction.ts"],(function(t){"use strict";var e,u,s;return{setters:[function(t){e=t.inheritsLoose},function(t){u=t.cclegacy},function(t){s=t.AsyncAction}],execute:function(){u._RF.push({},"4e84fNazONIX6YuY5OU2Sdz","QueueAction",void 0);t("QueueAction",function(t){function u(e,u){var s;return(s=t.call(this,e,u)||this).scheduler=e,s.work=u,s}e(u,t);var s=u.prototype;return s.schedule=function(e,u){return void 0===u&&(u=0),u>0?t.prototype.schedule.call(this,e,u):(this.delay=u,this.state=e,this.scheduler.flush(this),this)},s.execute=function(e,u){return u>0||this.closed?t.prototype.execute.call(this,e,u):this._execute(e,u)},s.requestAsyncId=function(e,u,s){return void 0===s&&(s=0),null!=s&&s>0||null==s&&this.delay>0?t.prototype.requestAsyncId.call(this,e,u,s):e.flush(this)},u}(s));u._RF.pop()}}}));

System.register("chunks:///_virtual/QueueScheduler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AsyncScheduler.ts"],(function(e){"use strict";var u,t,c;return{setters:[function(e){u=e.inheritsLoose},function(e){t=e.cclegacy},function(e){c=e.AsyncScheduler}],execute:function(){t._RF.push({},"9552fES95xBbp4YvwFSBMqp","QueueScheduler",void 0);e("QueueScheduler",function(e){function t(){return e.apply(this,arguments)||this}return u(t,e),t}(c));t._RF.pop()}}}));

System.register("chunks:///_virtual/race.ts",["cc","./argsOrArgArray.ts","./raceWith.ts"],(function(r){"use strict";var t,c,e;return{setters:[function(r){t=r.cclegacy},function(r){c=r.argsOrArgArray},function(r){e=r.raceWith}],execute:function(){r("race",(function(){for(var r=arguments.length,t=new Array(r),n=0;n<r;n++)t[n]=arguments[n];return e.apply(void 0,c(t))})),t._RF.push({},"4b59fzPBQ1GdJGYw+vFSNQM","race",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/race2.ts",["cc","./Observable2.ts","./innerFrom.ts","./argsOrArgArray.ts","./OperatorSubscriber.ts"],(function(r){"use strict";var n,e,t,c,u;return{setters:[function(r){n=r.cclegacy},function(r){e=r.Observable},function(r){t=r.innerFrom},function(r){c=r.argsOrArgArray},function(r){u=r.createOperatorSubscriber}],execute:function(){function s(r){return function(n){for(var e=[],c=function(c){e.push(t(r[c]).subscribe(u(n,(function(r){if(e){for(var t=0;t<e.length;t++)t!==c&&e[t].unsubscribe();e=null}n.next(r)}))))},s=0;e&&!n.closed&&s<r.length;s++)c(s)}}r({race:function(){for(var r=arguments.length,n=new Array(r),u=0;u<r;u++)n[u]=arguments[u];return 1===(n=c(n)).length?t(n[0]):new e(s(n))},raceInit:s}),n._RF.push({},"c1dabPDxOhC1aNIwBrEqr6I","race",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/raceWith.ts",["cc","./race2.ts","./lift.ts","./identity.ts"],(function(t){"use strict";var e,n,c,i;return{setters:[function(t){e=t.cclegacy},function(t){n=t.raceInit},function(t){c=t.operate},function(t){i=t.identity}],execute:function(){t("raceWith",(function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return e.length?c((function(t,c){n([t].concat(e))(c)})):i})),e._RF.push({},"25de2fF3RNHkJzlViXeVkP3","raceWith",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/RandomChooseTools.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var r,o;return{setters:[function(n){r=n.construct},function(n){o=n.cclegacy}],execute:function(){n({genListProbSum:e,randomChoose:function(n){return null==n||0==n.length?null:n[Math.floor(Math.random()*n.length)]},randomChooseMulti:function(n,o){void 0===o&&(o=1);if(null==n)return[];var t=r(Array,n),e=[];for(;e.length<o;){var l=Math.floor(Math.random()*t.length);if(e.push.apply(e,t.splice(l,1)),t.length<=0)break}return e},randomChooseWithProb:function n(r,o,l){void 0===l&&(l=!1);if(null==r||0==r.length)return null;l&&e(r,o);var u=r[r.length-1][t(o)];if(null==u)return n(r,o,!0);for(var a=Math.random()*u,h=0;h<r.length;h++){var i=r[h],f=i[t(o)];if(null==u)return n(r,o,!0);if(a<f)return i}},randomChooseWithProbMulti:function(n,o,l){if(null==n||0==n.length)return[];var u=r(Array,n),a=[];for(;a.length<l;){e(u,o);for(var h=u[u.length-1][t(o)],i=Math.random()*h,f=0;f<u.length;f++){var s=u[f],c=s[t(o)];if(i<c){a.push(s),u.splice(f,1);break}}if(u.length<=0)break}return a}}),o._RF.push({},"10721BhvVZANYogiMh3gDgI","RandomChooseTools",void 0);var t=function(n){return n+"_sum"};function e(n,r){for(var o=0,e=0;e<n.length;e++){var l=n[e];o+=l[r],l[t(r)]=o}}o._RF.pop()}}}));

System.register("chunks:///_virtual/range.ts",["cc","./Observable2.ts","./empty.ts"],(function(e){"use strict";var n,t,c;return{setters:[function(e){n=e.cclegacy},function(e){t=e.Observable},function(e){c=e.EMPTY}],execute:function(){e("range",(function(e,n,r){null==n&&(n=e,e=0);if(n<=0)return c;var u=n+e;return new t(r?function(n){var t=e;return r.schedule((function(){t<u?(n.next(t++),this.schedule()):n.complete()}))}:function(n){for(var t=e;t<u&&!n.closed;)n.next(t++);n.complete()})})),n._RF.push({},"5c2e4E6LfZHbLVIWFfcrs9P","range",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/ReactiveBoolean.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReactiveProperty.ts"],(function(e){"use strict";var t,i,r,o,a,n,u,l;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,a=e.createClass},function(e){n=e.cclegacy,u=e._decorator},function(e){l=e.ReactiveProperty}],execute:function(){var c,s,p;n._RF.push({},"402d3EqlWdJhpaTPmmHLTIh","ReactiveBoolean",void 0);var f=u.ccclass,h=u.property;u.float,e("ReactiveBoolean",f("ReactiveBoolean")((p=t((s=function(e){function t(){var t;return t=e.call(this)||this,r(t,"_Value",p,o(t)),t.init(t.Value),t}return i(t,e),t.DefaultValue=function(e){},t.prototype.loadValue=function(){this.value=this.Value},a(t,[{key:"Value",get:function(){return this._Value},set:function(e){this._Value=e,this._subject&&(this.value=e)}}]),t}(l)).prototype,"_Value",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),t(s.prototype,"Value",[h],Object.getOwnPropertyDescriptor(s.prototype,"Value"),s.prototype),c=s))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/ReactiveCommand.ts",["cc","./index.ts","./Subject.ts"],(function(t){"use strict";var e,n,c;return{setters:[function(t){e=t.cclegacy,n=t._decorator},null,function(t){c=t.Subject}],execute:function(){e._RF.push({},"2a41fUSwZBLQrV99YN5ESWK","ReactiveCommand",void 0);n.ccclass,t("ReactiveCommand",function(){function t(){this._subject=null}t.Create=function(){return(new t).init()};var e=t.prototype;return e.init=function(){return this._subject=new c,this},e.execute=function(t){this._subject.next(t)},e.subscribe=function(t){return this._subject.subscribe(t)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/ReactiveList.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./ReactiveOp.ts","./Subject.ts"],(function(t){"use strict";var i,s,e,n,c;return{setters:[function(t){i=t.createClass},function(t){s=t.cclegacy,e=t._decorator},null,function(t){n=t.RxOp},function(t){c=t.Subject}],execute:function(){var u;s._RF.push({},"cf74b3rh6BP2JNhTaekzYqN","ReactiveList",void 0);var r=e.ccclass;e.property,t("ReactiveList",r(u=function(){function t(){this.list=void 0,this._subject=null}t.Create=function(){return(new t).init()};var s=t.prototype;return s.init=function(){return this.list=[],this._subject=new c,this},s.push=function(t){this.list.push(t),this._subject.next({op:n.push,v:t})},s.pop=function(){var t=this.list.pop();return this._subject.next({op:n.pop,v:t}),t},s.unshift=function(t){this.list.unshift(t),this._subject.next({op:n.unshift,v:t})},s.shift=function(){var t=this.list.shift();return this._subject.next({op:n.shift,v:t}),t},s.clear=function(){this.list=[],this._subject.next({op:n.clear})},s.replace=function(t){var i=this.list.findIndex(t);if(i>=0){for(var s,e=arguments.length,c=new Array(e>1?e-1:0),u=1;u<e;u++)c[u-1]=arguments[u];(s=this.list).splice.apply(s,[i,1].concat(c)),this._subject.next({op:n.replace})}},s.customHandle=function(t){t(this.list)&&this._subject.next({op:n.custom})},s.subscribe=function(t){return this._subject.subscribe(t)},i(t,[{key:"value",get:function(){return this.list},set:function(t){this.list=[];for(var i=0;i<t.length;i++)this.list.push(t[i]),this._subject.next({op:n.init,v:t[i]})}}]),t}())||u);s._RF.pop()}}}));

System.register("chunks:///_virtual/ReactiveMap.ts",["cc","./index.ts","./ReactiveOp.ts","./BehaviorSubject.ts","./Subject.ts","./pairwise.ts"],(function(t){"use strict";var e,n,i,s,u,c;return{setters:[function(t){e=t.cclegacy,n=t._decorator},null,function(t){i=t.RxOp},function(t){s=t.BehaviorSubject},function(t){u=t.Subject},function(t){c=t.pairwise}],execute:function(){var o;e._RF.push({},"768dcxJ2XtJQ62oIUHvNU9k","ReactiveMap",void 0);var a=n.ccclass;n.property,t("ReactiveMap",a(o=function(){function t(){this.map=void 0,this._subject=null,this._count_subject=null,this._exist_subject=null}t.Create=function(){return(new t).init()};var e=t.prototype;return e.init=function(){var t=this;return this.map={},this._count_subject=new s(0),this._exist_subject=new u,this._subject=new u,this._count_subject.pipe(c()).subscribe((function(e){0==e[0]&&e[1]>0&&t._exist_subject.next({op:i.haveItem}),e[0]>0&&0==e[1]&&t._exist_subject.next({op:i.noItem})})),this},e.get=function(t){return this.map[t]},e.set=function(t,e){null==this.map[t]?(this.map[t]=e,this._subject.next({op:i.add,k:t,v:e}),this._count_subject.next(this._count_subject.value+1)):(this.map[t]=e,null==e?this._subject.next({op:i.delete,k:t,v:this.map[t]}):this._subject.next({op:i.change,k:t,v:e}))},e.remove=function(t){if(null!=this.map[t]){var e=this.map[t];delete this.map[t],this._subject.next({op:i.delete,k:t,v:e}),this._count_subject.next(this._count_subject.value-1)}},e.clear=function(){for(var t in this.map)null!=this.map[t]&&this._subject.next({op:i.delete,k:t,v:this.map[t]});this.map={},this._count_subject.next(0)},e.count=function(){return this._count_subject.value},e.countRecount=function(){var t=0;for(var e in this.map)null!=this.map[e]&&t++;return t},e.subscribe=function(t){return this._subject.subscribe(t)},t}())||o);e._RF.pop()}}}));

System.register("chunks:///_virtual/ReactiveNumber.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReactiveProperty.ts"],(function(e){"use strict";var t,r,i,u,a,o,n,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,u=e.assertThisInitialized,a=e.createClass},function(e){o=e.cclegacy,n=e._decorator},function(e){c=e.ReactiveProperty}],execute:function(){var l,s,p;o._RF.push({},"36181VDR89D1Kjr/045oUBk","ReactiveNumber",void 0);var f=n.ccclass,v=n.property;n.float,e("ReactiveNumber",f("ReactiveNumber")((p=t((s=function(e){function t(){var t;return t=e.call(this)||this,i(t,"_Value",p,u(t)),t.init(t.Value),t}return r(t,e),t.DefaultValue=function(e){},t.prototype.loadValue=function(){this.value=this.Value},a(t,[{key:"Value",get:function(){return this._Value},set:function(e){this._Value=e,this._subject&&(this.value=e)}}]),t}(c)).prototype,"_Value",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),t(s.prototype,"Value",[v],Object.getOwnPropertyDescriptor(s.prototype,"Value"),s.prototype),l=s))||l);o._RF.pop()}}}));

System.register("chunks:///_virtual/ReactiveOp.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var c;e("RxOp",void 0),t._RF.push({},"f3676D6jn5Cz6u4VsHCncym","ReactiveOp",void 0),function(e){e[e.init=0]="init",e[e.push=1]="push",e[e.pop=2]="pop",e[e.unshift=3]="unshift",e[e.shift=4]="shift",e[e.replace=5]="replace",e[e.clear=6]="clear",e[e.custom=7]="custom",e[e.add=8]="add",e[e.change=9]="change",e[e.delete=10]="delete",e[e.haveItem=11]="haveItem",e[e.noItem=12]="noItem"}(c||(c=e("RxOp",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/ReactiveProperty.ts",["./rollupPluginModLoBabelHelpers.js","cc","./index.ts","./BehaviorSubject.ts","./distinctUntilChanged.ts","./pairwise.ts","./filter.ts","./take.ts"],(function(t){"use strict";var e,n,i,u,r,c,s,o;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy,i=t._decorator},null,function(t){u=t.BehaviorSubject},function(t){r=t.distinctUntilChanged},function(t){c=t.pairwise},function(t){s=t.filter},function(t){o=t.take}],execute:function(){var b;n._RF.push({},"eec02Jn/URCXYXxR9rexJSH","ReactiveProperty",void 0);var a=i.ccclass;i.property,t("ReactiveProperty",a("ReactiveProperty")(b=function(){function t(){this._subject=null}t.Create=function(e){return(new t).init(e)};var n=t.prototype;return n.init=function(t){return this._subject=new u(t),this},n.subscribe=function(t){return this._subject.subscribe(t)},n.subscribeUntilChanged=function(t){return this._subject.pipe(r()).subscribe(t)},n.subscribePairWise=function(t){return this._subject.pipe(c()).subscribe(t)},n.subscribeOnceIf=function(t,e){return this._subject.pipe(s((function(e){return t(e)})),o(1)).subscribe(e)},n.whenTrueOnce=function(){return this._subject.pipe(s((function(t){return!!t})),o(1))},n.whenTrue=function(){return this._subject.pipe(s((function(t){return!!t})))},n.subscribeWhenTrue=function(t){return this.whenTrueOnce().subscribe(t)},n.again=function(){this._subject.next(this.value)},e(t,[{key:"value",get:function(){return this._subject.value},set:function(t){this._subject.next(t)}}]),t}())||b);n._RF.pop()}}}));

System.register("chunks:///_virtual/ReactiveString.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReactiveProperty.ts","./CreatorSchedule.ts"],(function(e){"use strict";var t,r,i,n,o,a,c,u,s;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createClass},function(e){a=e.cclegacy,c=e._decorator},function(e){u=e.ReactiveProperty},function(e){s=e.Asap}],execute:function(){var l,p,f;a._RF.push({},"186832V2oFLo7LThp/cFu0a","ReactiveString",void 0);var v=c.ccclass,y=c.property;c.float,e("ReactiveString",v("ReactiveString")((f=t((p=function(e){function t(){var t;return t=e.call(this)||this,i(t,"_Value",f,n(t)),s().subscribe((function(e){t.init(t.Value)})),t}return r(t,e),t.DefaultValue=function(e){},o(t,[{key:"Value",get:function(){return this._Value},set:function(e){this._Value=e,this._subject&&(this.value=e)}}]),t}(u)).prototype,"_Value",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),t(p.prototype,"Value",[y],Object.getOwnPropertyDescriptor(p.prototype,"Value"),p.prototype),l=p))||l);a._RF.pop()}}}));

System.register("chunks:///_virtual/reduce.ts",["cc","./scanInternals.ts","./lift.ts"],(function(t){"use strict";var e,n,c;return{setters:[function(t){e=t.cclegacy},function(t){n=t.scanInternals},function(t){c=t.operate}],execute:function(){t("reduce",(function(t,e){return c(n(t,e,arguments.length>=2,!1,!0))})),e._RF.push({},"731db2v4eZM3Y/zOYt2E7k+","reduce",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/refCount.ts",["cc","./lift.ts","./OperatorSubscriber.ts"],(function(n){"use strict";var e,t,r;return{setters:[function(n){e=n.cclegacy},function(n){t=n.operate},function(n){r=n.createOperatorSubscriber}],execute:function(){n("refCount",(function(){return t((function(n,e){var t=null;n._refCount++;var u=r(e,void 0,void 0,void 0,(function(){if(!n||n._refCount<=0||0<--n._refCount)t=null;else{var r=n._connection,u=t;t=null,!r||u&&r!==u||r.unsubscribe(),e.unsubscribe()}}));n.subscribe(u),u.closed||(t=n.connect())}))})),e._RF.push({},"0d7876yWHJNCKXuaqDdQbn+","refCount",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/repeat.ts",["cc","./empty.ts","./lift.ts","./OperatorSubscriber.ts","./innerFrom.ts","./timer.ts"],(function(t){"use strict";var e,n,r,u,i,c;return{setters:[function(t){e=t.cclegacy},function(t){n=t.EMPTY},function(t){r=t.operate},function(t){u=t.createOperatorSubscriber},function(t){i=t.innerFrom},function(t){c=t.timer}],execute:function(){t("repeat",(function(t){var e,o=1/0;if(null!=t)if("object"==typeof t){var s=t.count;o=void 0===s?1/0:s,e=t.delay}else o=t;return o<=0?function(){return n}:r((function(t,n){var r,s=0,f=function(){var t;if(null==(t=r)||t.unsubscribe(),r=null,null!=e){var o="number"==typeof e?c(e):i(e(s)),f=u(n,(function(){f.unsubscribe(),a()}));o.subscribe(f)}else a()},a=function(){var e=!1;r=t.subscribe(u(n,void 0,(function(){++s<o?r?f():e=!0:n.complete()}))),e&&f()};a()}))})),e._RF.push({},"ce838p88QxK2aSqtZwuMnI5","repeat",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/repeatWhen.ts",["cc","./Subject.ts","./lift.ts","./OperatorSubscriber.ts"],(function(t){"use strict";var n,e,u,c;return{setters:[function(t){n=t.cclegacy},function(t){e=t.Subject},function(t){u=t.operate},function(t){c=t.createOperatorSubscriber}],execute:function(){t("repeatWhen",(function(t){return u((function(n,u){var r,i,o=!1,s=!1,f=!1,b=function(){return f&&s&&(u.complete(),!0)},p=function(){return i||(i=new e,t(i).subscribe(c(u,(function(){r?a():o=!0}),(function(){s=!0,b()})))),i},a=function t(){f=!1,r=n.subscribe(c(u,void 0,(function(){f=!0,!b()&&p().next()}))),o&&(r.unsubscribe(),r=null,o=!1,t())};a()}))})),n._RF.push({},"f534fktKp5OkpUinXAbHWZf","repeatWhen",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/ReplaySubject.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Subject.ts","./dateTimestampProvider.ts"],(function(i){"use strict";var e,t,n,r;return{setters:[function(i){e=i.inheritsLoose},function(i){t=i.cclegacy},function(i){n=i.Subject},function(i){r=i.dateTimestampProvider}],execute:function(){t._RF.push({},"0e522EA5J1G6IV4Il+swTOB","ReplaySubject",void 0);i("ReplaySubject",function(i){function t(e,t,n){var s;return void 0===e&&(e=1/0),void 0===t&&(t=1/0),void 0===n&&(n=r),(s=i.call(this)||this)._buffer=[],s._infiniteTimeWindow=!0,s._bufferSize=e,s._windowTime=t,s._timestampProvider=n,s._infiniteTimeWindow=t===1/0,s._bufferSize=Math.max(1,e),s._windowTime=Math.max(1,t),s}e(t,i);var n=t.prototype;return n.next=function(e){var t=this.isStopped,n=this._buffer,r=this._infiniteTimeWindow,s=this._timestampProvider,o=this._windowTime;t||(n.push(e),!r&&n.push(s.now()+o)),this._trimBuffer(),i.prototype.next.call(this,e)},n._subscribe=function(i){this._throwIfClosed(),this._trimBuffer();for(var e=this._innerSubscribe(i),t=this._infiniteTimeWindow,n=this._buffer.slice(),r=0;r<n.length&&!i.closed;r+=t?1:2)i.next(n[r]);return this._checkFinalizedStatuses(i),e},n._trimBuffer=function(){var i=this._bufferSize,e=this._timestampProvider,t=this._buffer,n=this._infiniteTimeWindow,r=(n?1:2)*i;if(i<1/0&&r<t.length&&t.splice(0,t.length-r),!n){for(var s=e.now(),o=0,u=1;u<t.length&&t[u]<=s;u+=2)o=u;o&&t.splice(0,o+1)}},t}(n));t._RF.pop()}}}));

System.register("chunks:///_virtual/reportUnhandledError.ts",["cc","./config.ts","./timeoutProvider.ts"],(function(r){"use strict";var t,n,o;return{setters:[function(r){t=r.cclegacy},function(r){n=r.config},function(r){o=r.timeoutProvider}],execute:function(){r("reportUnhandledError",(function(r){o.setTimeout((function(){var t=n.onUnhandledError;if(!t)throw r;t(r)}))})),t._RF.push({},"5454eOpdD9H55DYdqdQVCon","reportUnhandledError",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/ResizeToVisibleSize.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var i,t,o,r,n,s,c,p,a,l;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){n=e.cclegacy,s=e._decorator,c=e.Enum,p=e.view,a=e.UITransform,l=e.Component}],execute:function(){var u,h,d,z,f;e("ResizeMode",void 0),n._RF.push({},"2177eXj3b1OXZtZ9KJ4p1oD","ResizeToVisibleSize",void 0);var g,S=s.ccclass,b=s.property;!function(e){e[e.Stretch=0]="Stretch",e[e.FixAspect=1]="FixAspect"}(g||(g=e("ResizeMode",{}))),c(g);e("ResizeToVisibleSize",(u=S("ResizeToVisibleSize"),h=b({type:g}),u((f=i((z=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return i=e.call.apply(e,[this].concat(n))||this,o(i,"resizeMode",f,r(i)),i}return t(i,e),i.prototype.start=function(){var e=p.getVisibleSize(),i=p.getDesignResolutionSize(),t=e.width/i.width;this.resizeMode==g.Stretch?t>1&&(this.node.getComponent(a).width*=t):this.resizeMode==g.FixAspect&&t>1&&(this.node.getComponent(a).width*=t,this.node.getComponent(a).height*=t)},i}(l)).prototype,"resizeMode",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.Stretch}}),d=z))||d));n._RF.pop()}}}));

System.register("chunks:///_virtual/retry.ts",["cc","./lift.ts","./OperatorSubscriber.ts","./identity.ts","./timer.ts","./innerFrom.ts"],(function(t){"use strict";var n,e,r,i,u,c;return{setters:[function(t){n=t.cclegacy},function(t){e=t.operate},function(t){r=t.createOperatorSubscriber},function(t){i=t.identity},function(t){u=t.timer},function(t){c=t.innerFrom}],execute:function(){t("retry",(function(t){void 0===t&&(t=1/0);var n;n=t&&"object"==typeof t?t:{count:t};var o=n,s=o.count,f=void 0===s?1/0:s,b=o.delay,a=o.resetOnSuccess,v=void 0!==a&&a;return f<=0?i:e((function(t,n){var e,i=0;!function o(){var s=!1;e=t.subscribe(r(n,(function(t){v&&(i=0),n.next(t)}),void 0,(function(t){if(i++<f){var a=function(){e?(e.unsubscribe(),e=null,o()):s=!0};if(null!=b){var v="number"==typeof b?u(b):c(b(t,i)),l=r(n,(function(){l.unsubscribe(),a()}),(function(){n.complete()}));v.subscribe(l)}else a()}else n.error(t)}))),s&&(e.unsubscribe(),e=null,o())}()}))})),n._RF.push({},"40eacZWzzxJzL3pGbViaTvC","retry",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/retryWhen.ts",["cc","./Subject.ts","./lift.ts","./OperatorSubscriber.ts"],(function(t){"use strict";var e,n,r,u;return{setters:[function(t){e=t.cclegacy},function(t){n=t.Subject},function(t){r=t.operate},function(t){u=t.createOperatorSubscriber}],execute:function(){t("retryWhen",(function(t){return r((function(e,r){var c,i,s=!1;!function o(){c=e.subscribe(u(r,void 0,void 0,(function(e){i||(i=new n,t(i).subscribe(u(r,(function(){return c?o():s=!0})))),i&&i.next(e)}))),s&&(c.unsubscribe(),c=null,s=!1,o())}()}))})),e._RF.push({},"fb026enDlBBC4tExcDuB+/J","retryWhen",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/RxCCConfig.ts",["cc","./ReactiveCommand.ts"],(function(t){"use strict";var n,c,e;return{setters:[function(t){n=t.cclegacy,c=t._decorator},function(t){e=t.ReactiveCommand}],execute:function(){var o,i;n._RF.push({},"3e3a55yDQVAI407hZ4lynLE","RxCCConfig",void 0);var a=c.ccclass,C=(c.property,t("RxCCConfig",a("RxCCConfig")(((i=function(){this.buttonWillClickCommand=e.Create(),this.buttonTouchStartCommand=e.Create(),this.buttonTouchEndCommand=e.Create()}).instance=void 0,o=i))||o));t("rxccconfig",C.instance=new C);n._RF.pop()}}}));

System.register("chunks:///_virtual/RxSelfClearanceArrayLoop.ts",["cc","./index.ts","./BehaviorSubject.ts","./filter.ts"],(function(t){"use strict";var e,n,r,i;return{setters:[function(t){e=t.cclegacy,n=t.warn},null,function(t){r=t.BehaviorSubject},function(t){i=t.filter}],execute:function(){e._RF.push({},"6b703UCa+xBd6QZDh0Mk76Q","RxSelfClearanceArrayLoop",void 0);t("RxSelfClearanceArrayLoop",function(){function t(){this._subject=null,this._totalCount=null}t.Create=function(e){return(new t).init(e)};var e=t.prototype;return e.init=function(t){if(0!=t)return this._totalCount=t,this._subject=new r({v:-1,self:this}),this;n("RxSelfClearanceLoop 输入列表至少需要一个元素")},e.subscribe=function(t){return this._subject.pipe(i((function(t){return t.v>=0}))).subscribe({next:t.next,complete:t.complete})},e.next=function(){var t=this._subject.value.v+1;t==this._totalCount?this._subject.complete():this._subject.next({v:t,self:this})},e.error=function(t){this._subject.error(t)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/RxSelfClearanceLoop.ts",["cc","./index.ts","./BehaviorSubject.ts"],(function(t){"use strict";var e,n,s;return{setters:[function(t){e=t.cclegacy,n=t.warn},null,function(t){s=t.BehaviorSubject}],execute:function(){e._RF.push({},"e7741ggs2JJX49PKNlBHxeO","RxSelfClearanceLoop",void 0);t("RxSelfClearanceLoop",function(){function t(){this._subject=null,this._nextRootKeyDic={},this._lastRootKey=null,this._firstRootKey=null}t.Create=function(e){return(new t).init(e)};var e=t.prototype;return e.init=function(t){if(0!=t.length){for(var e=0;e<t.length;e++){var i=t[e];null!=this._lastRootKey?this._nextRootKeyDic[this._lastRootKey]=i:this._firstRootKey=i,this._lastRootKey=i}return this._subject=new s({v:t[0],self:this}),this}n("RxSelfClearanceLoop 输入列表至少需要一个元素")},e.subscribe=function(t){return this._subject.subscribe({next:t.next,complete:t.complete})},e.next=function(){var t=this._subject.value.v,e=this._nextRootKeyDic[t];null==e?this._subject.complete():this._subject.next({v:e,self:this})},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/SafeBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts","./math.ts","./utils.ts","./TweenStart.ts","./index.ts","./BindCollider.ts","./Player.ts","./UserDataManager.ts","./GameManager.ts","./ReactiveProperty.ts","./AnimationPlay.ts","./CommonObservable.ts","./DataManager.ts","./DataConfig.ts","./Observable2.ts","./concat2.ts","./filter.ts","./take.ts"],(function(t){"use strict";var e,i,n,o,s,r,a,u,l,c,f,p,h,g,d,x,_,y,v,b,m,B,A,C,P,w,R,S,L,T,D,O,M;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,s=t.createClass},function(t){r=t.cclegacy,a=t._decorator,u=t.v3,l=t.quat,c=t.Enum,f=t.find,p=t.Quat,h=t.Vec3,g=t.Collider,d=t.ParticleSystem,x=t.Animation},function(t){_=t.BaseView},function(t){y=t.linear},function(t){v=t.nullifySubscription},function(t){b=t.TweenToStart},null,function(t){m=t.BindColliderCollision},function(t){B=t.Player},function(t){A=t.udm},function(t){C=t.gm},function(t){P=t.ReactiveProperty},function(t){w=t.AnimationPlayWithEvent},function(t){R=t.instantFunc},function(t){S=t.dm},function(t){L=t.DevConfig},function(t){T=t.Observable},function(t){D=t.concat},function(t){O=t.filter},function(t){M=t.take}],execute:function(){var j,k,E,I,z,V,F;t("SafeBoxAxisType",void 0),r._RF.push({},"0e427JwjwhHdp09Em6ywhZj","SafeBox",void 0);var G,N=a.ccclass,U=a.property,H=(u(),l());!function(t){t[t.Left=0]="Left",t[t.Right=1]="Right"}(G||(G=t("SafeBoxAxisType",{}))),c(G);t("SafeBox",(j=N("SafeBox"),k=U({slide:!0,range:[0,1,.01]}),E=U({type:G}),j((V=e((z=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,n(e,"_progress",V,o(e)),n(e,"_safeBoxAxisType",F,o(e)),e.opened=P.Create(!1),e._root=null,e._collider=null,e._axisLeft=null,e._axisRight=null,e._part=null,e._surroundpart=null,e._sub=null,e}i(e,t);var r=e.prototype;return r.ref=function(){null==this._root&&(this._root=f("root",this.node)),null==this._axisLeft&&(this._axisLeft=f("root/doorAxis-Left",this.node)),null==this._axisRight&&(this._axisRight=f("root/doorAxis-Right",this.node))},r.refresh=function(){if(this.ref(),null!=this._axisLeft){var t=y(0,1,0,7*-Math.PI/8,this.progress);p.fromAxisAngle(H,h.UP,t),this._axisLeft.setRotation(H)}if(null!=this._axisRight){var e=y(0,1,0,7*Math.PI/8,this.progress);p.fromAxisAngle(H,h.UP,e),this._axisRight.setRotation(H)}},r.willBind=function(){this._collider=f("root/mesh",this.node).getComponent(g),this._part=f("Particle",this.node).getComponent(d),this._surroundpart=f("root/Particle",this.node).getComponent(d)},r.onDestroyView=function(){v.call(this,"_sub")},r.useObserves=function(){var t=this;return[this.opened.subscribe((function(e){null==t._sub&&(e?(t.progress=1,t._surroundpart.stop()):(t.progress=0,t._surroundpart.play()))}))]},r.start=function(){var t=this;this.getMainSubscription().add(m(this._collider).subscribe((function(e){if("onCollisionEnter"==e.event.type&&(null!=e.event.otherCollider.getComponent(B)&&0==t.opened.value)){var i,n;t.open();var o=C.stageInfo.value,s=L.isEditor?L.editorSafeBoxCoin:null!=(i=null==(n=S.xlsx.Level.index[o.stageNum])?void 0:n.SafeBoxCoin)?i:0;A.coin.value+=s;var r=new Set(A.safeBoxGot.value);r.add(C.stageInfo.value.stageNum),A.safeBoxGot.value=Array.from(r),A.save()}})))},r.open=function(){var t=this;v.call(this,"_sub"),this._sub=new T((function(e){var i=D(R((function(){t._surroundpart.stop()})),w(t._root.getComponent(x),"preopen").pipe(O((function(t){return"event"==t.state&&"open"==t.eventName})),M(1)),R((function(){t._part.play()})),b(t,.4,{progress:1},{easing:"bounceOut"})).subscribe({complete:function(){e.next(null),e.complete()}});return function(){i.unsubscribe(),v.call(t,"_sub")}})).subscribe(),this.opened.value=!0},r.close=function(){v.call(this,"_sub"),this.progress=0,this.opened.value=!1},s(e,[{key:"progress",get:function(){return this._progress},set:function(t){this._progress=t,this.refresh()}},{key:"safeBoxAxisType",get:function(){return this._safeBoxAxisType},set:function(t){this._safeBoxAxisType=t,this.ref(),this._axisLeft.active=t==G.Left,this._axisRight.active=t==G.Right}}]),e}(_)).prototype,"_progress",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),e(z.prototype,"progress",[k],Object.getOwnPropertyDescriptor(z.prototype,"progress"),z.prototype),F=e(z.prototype,"_safeBoxAxisType",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return G.Left}}),e(z.prototype,"safeBoxAxisType",[E],Object.getOwnPropertyDescriptor(z.prototype,"safeBoxAxisType"),z.prototype),I=z))||I));r._RF.pop()}}}));

System.register("chunks:///_virtual/sample.ts",["cc","./lift.ts","./noop.ts","./OperatorSubscriber.ts"],(function(t){"use strict";var n,e,r,c;return{setters:[function(t){n=t.cclegacy},function(t){e=t.operate},function(t){r=t.noop},function(t){c=t.createOperatorSubscriber}],execute:function(){t("sample",(function(t){return e((function(n,e){var u=!1,s=null;n.subscribe(c(e,(function(t){u=!0,s=t}))),t.subscribe(c(e,(function(){if(u){u=!1;var t=s;s=null,e.next(t)}}),r))}))})),n._RF.push({},"774665P47xCTJMwBPgWev5J","sample",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/sampleTime.ts",["cc","./async.ts","./sample.ts","./interval.ts"],(function(e){"use strict";var t,n,c,s;return{setters:[function(e){t=e.cclegacy},function(e){n=e.asyncScheduler},function(e){c=e.sample},function(e){s=e.interval}],execute:function(){e("sampleTime",(function(e,t){void 0===t&&(t=n);return c(s(e,t))})),t._RF.push({},"7a1c7pgBwpES4bmot6Ac7ju","sampleTime",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/ScaleWidthToVisibleSize.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var i,t,o,n,s,r;return{setters:[function(e){i=e.inheritsLoose},function(e){t=e.cclegacy,o=e._decorator,n=e.view,s=e.v3,r=e.Component}],execute:function(){var c;t._RF.push({},"460f1uEJzdFDpbpjwOZ/0MT","ScaleWidthToVisibleSize",void 0);var l=o.ccclass;o.property,e("ScaleWidthToVisibleSize",l("ScaleWidthToVisibleSize")(c=function(e){function t(){return e.apply(this,arguments)||this}return i(t,e),t.prototype.onLoad=function(){var e=n.getVisibleSize(),i=n.getDesignResolutionSize();if(e.width<i.width){var t=e.width/i.width;this.node.setWorldScale(s(t,t,t))}},t}(r))||c);t._RF.pop()}}}));

System.register("chunks:///_virtual/scan.ts",["cc","./lift.ts","./scanInternals.ts"],(function(n){"use strict";var t,c,s;return{setters:[function(n){t=n.cclegacy},function(n){c=n.operate},function(n){s=n.scanInternals}],execute:function(){n("scan",(function(n,t){return c(s(n,t,arguments.length>=2,!0))})),t._RF.push({},"55953OAhLlOdbFgGjtu+KSE","scan",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/scanInternals.ts",["cc","./OperatorSubscriber.ts"],(function(n){"use strict";var t,e;return{setters:[function(n){t=n.cclegacy},function(n){e=n.createOperatorSubscriber}],execute:function(){n("scanInternals",(function(n,t,r,c,s){return function(u,i){var a=r,o=t,f=0;u.subscribe(e(i,(function(t){var e=f++;o=a?n(o,t,e):(a=!0,t),c&&i.next(o)}),s&&function(){a&&i.next(o),i.complete()}))}})),t._RF.push({},"65504LkQMhETrCcWWoXEMEv","scanInternals",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/scheduleArray.ts",["cc","./Observable2.ts"],(function(e){"use strict";var t,c;return{setters:[function(e){t=e.cclegacy},function(e){c=e.Observable}],execute:function(){e("scheduleArray",(function(e,t){return new c((function(c){var r=0;return t.schedule((function(){r===e.length?c.complete():(c.next(e[r++]),c.closed||this.schedule())}))}))})),t._RF.push({},"f73567jOYZKHaKrpeIhF0dC","scheduleArray",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/scheduleAsyncIterable.ts",["cc","./Observable2.ts","./executeSchedule.ts"],(function(e){"use strict";var t,n,c;return{setters:[function(e){t=e.cclegacy},function(e){n=e.Observable},function(e){c=e.executeSchedule}],execute:function(){e("scheduleAsyncIterable",(function(e,t){if(!e)throw new Error("Iterable cannot be null");return new n((function(n){c(n,t,(function(){var u=e[Symbol.asyncIterator]();c(n,t,(function(){u.next().then((function(e){e.done?n.complete():n.next(e.value)}))}),0,!0)}))}))})),t._RF.push({},"76c4f2n33ZEN5uaFqjBcP0t","scheduleAsyncIterable",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/scheduled.ts",["cc","./scheduleObservable.ts","./schedulePromise.ts","./scheduleArray.ts","./scheduleIterable.ts","./scheduleAsyncIterable.ts","./isInteropObservable.ts","./isPromise.ts","./isArrayLike.ts","./isIterable.ts","./isAsyncIterable.ts","./throwUnobservableError.ts","./isReadableStreamLike.ts","./scheduleReadableStreamLike.ts"],(function(e){"use strict";var t,s,r,i,n,c,u,l,a,o,f,b,d,h;return{setters:[function(e){t=e.cclegacy},function(e){s=e.scheduleObservable},function(e){r=e.schedulePromise},function(e){i=e.scheduleArray},function(e){n=e.scheduleIterable},function(e){c=e.scheduleAsyncIterable},function(e){u=e.isInteropObservable},function(e){l=e.isPromise},function(e){a=e.isArrayLike},function(e){o=e.isIterable},function(e){f=e.isAsyncIterable},function(e){b=e.createInvalidObservableTypeError},function(e){d=e.isReadableStreamLike},function(e){h=e.scheduleReadableStreamLike}],execute:function(){e("scheduled",(function(e,t){if(null!=e){if(u(e))return s(e,t);if(a(e))return i(e,t);if(l(e))return r(e,t);if(f(e))return c(e,t);if(o(e))return n(e,t);if(d(e))return h(e,t)}throw b(e)})),t._RF.push({},"36110Z9k25La76fwGaq7KEt","scheduled",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/scheduleIterable.ts",["cc","./Observable2.ts","./iterator.ts","./isFunction.ts","./executeSchedule.ts"],(function(e){"use strict";var t,n,r,u,c;return{setters:[function(e){t=e.cclegacy},function(e){n=e.Observable},function(e){r=e.iterator},function(e){u=e.isFunction},function(e){c=e.executeSchedule}],execute:function(){e("scheduleIterable",(function(e,t){return new n((function(n){var i;return c(n,t,(function(){i=e[r](),c(n,t,(function(){var e,t;try{var r=i.next();e=r.value,t=r.done}catch(e){return void n.error(e)}t?n.complete():n.next(e)}),0,!0)})),function(){var e;return u(null==(e=i)?void 0:e.return)&&i.return()}}))})),t._RF.push({},"adda4CHq8VKVbRvi461Ji36","scheduleIterable",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/scheduleObservable.ts",["cc","./innerFrom.ts","./observeOn.ts","./subscribeOn.ts"],(function(e){"use strict";var n,s,r,t;return{setters:[function(e){n=e.cclegacy},function(e){s=e.innerFrom},function(e){r=e.observeOn},function(e){t=e.subscribeOn}],execute:function(){e("scheduleObservable",(function(e,n){return s(e).pipe(t(n),r(n))})),n._RF.push({},"2b732UFnDFKE5elY3nDH+En","scheduleObservable",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/schedulePromise.ts",["cc","./innerFrom.ts","./observeOn.ts","./subscribeOn.ts"],(function(e){"use strict";var n,s,c,r;return{setters:[function(e){n=e.cclegacy},function(e){s=e.innerFrom},function(e){c=e.observeOn},function(e){r=e.subscribeOn}],execute:function(){e("schedulePromise",(function(e,n){return s(e).pipe(r(n),c(n))})),n._RF.push({},"5fc78mOFv9Dv7SNc2uihJnd","schedulePromise",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/Scheduler.ts",["cc","./dateTimestampProvider.ts"],(function(e){"use strict";var t,n;return{setters:[function(e){t=e.cclegacy},function(e){n=e.dateTimestampProvider}],execute:function(){t._RF.push({},"6b571BEWi5NXIw3oAbnWAV0","Scheduler",void 0),e("Scheduler",function(){function e(t,n){void 0===n&&(n=e.now),this.now=void 0,this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(e,t,n){return void 0===t&&(t=0),new this.schedulerActionCtor(this,e).schedule(n,t)},e}()).now=n.now,t._RF.pop()}}}));

System.register("chunks:///_virtual/scheduleReadableStreamLike.ts",["cc","./scheduleAsyncIterable.ts","./isReadableStreamLike.ts"],(function(e){"use strict";var t,c,r;return{setters:[function(e){t=e.cclegacy},function(e){c=e.scheduleAsyncIterable},function(e){r=e.readableStreamLikeToAsyncGenerator}],execute:function(){e("scheduleReadableStreamLike",(function(e,t){return c(r(e),t)})),t._RF.push({},"3b152DSkFNDfZRn+rhrhvfG","scheduleReadableStreamLike",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/scripts",["./MainSceneCanvas.ts","./DetectorEx.ts","./EditorGrid.ts","./FaceToCamera.ts","./MainCameraTarget.ts","./PrewarPropsSpeed.ts","./dev.ts","./ActiveSetter.ts","./AlignHelper.ts","./BedEnemy.ts","./BoltDoor.ts","./BoltDoorSingle.ts","./BottomTrigger.ts","./Ceiling.ts","./Dart.ts","./DataModel.ts","./Door.ts","./Dozer.ts","./Enemy.ts","./Exit.ts","./ExitStep.ts","./Face.ts","./Facility.ts","./Fan.ts","./Floor.ts","./FloorDoor.ts","./GameRoot3D.ts","./GameTools.ts","./Glass.ts","./GoldCard.ts","./HomeChestContainer.ts","./Infrared.ts","./InfraredSingle.ts","./Key.ts","./LockerDoor.ts","./ModelAssetsRefs.ts","./Npc.ts","./OptFilterFlag.ts","./OptNearPlayer.ts","./PathPoint.ts","./Player.ts","./SafeBox.ts","./SkinBox.ts","./Stage.ts","./Switcher.ts","./SwitcherInfrared.ts","./SwitcherTrap.ts","./Trail.ts","./TrapDoor.ts","./Trigger.ts","./TriggerInfoItem.ts","./TriggerResponse.ts","./en.ts","./i18n.ts","./zh.ts","./ethanLibs.ts","./NotificationCenter.ts","./AnimationPlay.ts","./AssetManagerLoad.ts","./BaseManager.ts","./BaseView.ts","./BindButton.ts","./BindCollider.ts","./BindEditBox.ts","./BindNode.ts","./BindPageView.ts","./BindScrollView.ts","./BindSlider.ts","./BindToggle.ts","./CommonObservable.ts","./CreatorSchedule.ts","./GlobalInstanceFinder.ts","./KeyEvent.ts","./LifeCycleReactive.ts","./LogWithTag.ts","./MergeWithTimer.ts","./MouseEvent.ts","./ReactiveBoolean.ts","./ReactiveCommand.ts","./ReactiveList.ts","./ReactiveMap.ts","./ReactiveNumber.ts","./ReactiveOp.ts","./ReactiveProperty.ts","./ReactiveString.ts","./RxCCConfig.ts","./TouchEvent.ts","./TweenStart.ts","./Watch.ts","./RxSelfClearanceArrayLoop.ts","./RxSelfClearanceLoop.ts","./CreatorAction.ts","./CreatorScheduler.ts","./creator.ts","./creatorIntervalProvider.ts","./index.ts","./AnyCatcher.ts","./AsyncSubject.ts","./BehaviorSubject.ts","./Notification.ts","./NotificationFactories.ts","./Observable2.ts","./Operator.ts","./ReplaySubject.ts","./Scheduler.ts","./Subject.ts","./Subscriber.ts","./Subscription.ts","./AjaxResponse.ts","./ajax.ts","./errors.ts","./getXHRResponse.ts","./types2.ts","./config.ts","./firstValueFrom.ts","./lastValueFrom.ts","./ConnectableObservable.ts","./bindCallback.ts","./bindCallbackInternals.ts","./bindNodeCallback.ts","./combineLatest2.ts","./concat2.ts","./connectable.ts","./defer.ts","./WebSocketSubject.ts","./animationFrames.ts","./fetch.ts","./webSocket.ts","./empty.ts","./forkJoin.ts","./from.ts","./fromEvent.ts","./fromEventPattern.ts","./fromSubscribable.ts","./generate.ts","./iif.ts","./innerFrom.ts","./interval.ts","./merge.ts","./never.ts","./of.ts","./onErrorResumeNext.ts","./pairs.ts","./partition.ts","./race2.ts","./range.ts","./throwError.ts","./timer.ts","./using.ts","./zip.ts","./OperatorSubscriber.ts","./audit.ts","./auditTime.ts","./buffer.ts","./bufferCount.ts","./bufferTime.ts","./bufferToggle.ts","./bufferWhen.ts","./catchError.ts","./combineAll.ts","./combineLatest.ts","./combineLatestAll.ts","./combineLatestWith.ts","./concat.ts","./concatAll.ts","./concatMap.ts","./concatMapTo.ts","./concatWith.ts","./connect.ts","./count.ts","./debounce.ts","./debounceTime.ts","./defaultIfEmpty.ts","./delay.ts","./delayWhen.ts","./dematerialize.ts","./distinct.ts","./distinctUntilChanged.ts","./distinctUntilKeyChanged.ts","./elementAt.ts","./endWith.ts","./every.ts","./exhaust.ts","./exhaustAll.ts","./exhaustMap.ts","./expand.ts","./filter.ts","./finalize.ts","./find.ts","./findIndex.ts","./first.ts","./flatMap.ts","./groupBy.ts","./ignoreElements.ts","./isEmpty.ts","./joinAllInternals.ts","./last.ts","./map.ts","./mapTo.ts","./materialize.ts","./max.ts","./merge2.ts","./mergeAll.ts","./mergeInternals.ts","./mergeMap.ts","./mergeMapTo.ts","./mergeScan.ts","./mergeWith.ts","./min.ts","./multicast.ts","./observeOn.ts","./onErrorResumeNext2.ts","./pairwise.ts","./partition2.ts","./pluck.ts","./publish.ts","./publishBehavior.ts","./publishLast.ts","./publishReplay.ts","./race.ts","./raceWith.ts","./reduce.ts","./refCount.ts","./repeat.ts","./repeatWhen.ts","./retry.ts","./retryWhen.ts","./sample.ts","./sampleTime.ts","./scan.ts","./scanInternals.ts","./sequenceEqual.ts","./share.ts","./shareReplay.ts","./single.ts","./skip.ts","./skipLast.ts","./skipUntil.ts","./skipWhile.ts","./startWith.ts","./subscribeOn.ts","./switchAll.ts","./switchMap.ts","./switchMapTo.ts","./switchScan.ts","./take.ts","./takeLast.ts","./takeUntil.ts","./takeWhile.ts","./tap.ts","./throttle.ts","./throttleTime.ts","./throwIfEmpty.ts","./timeInterval.ts","./timeout.ts","./timeoutWith.ts","./timestamp.ts","./toArray.ts","./window.ts","./windowCount.ts","./windowTime.ts","./windowToggle.ts","./windowWhen.ts","./withLatestFrom.ts","./zip2.ts","./zipAll.ts","./zipWith.ts","./scheduleArray.ts","./scheduleAsyncIterable.ts","./scheduleIterable.ts","./scheduleObservable.ts","./schedulePromise.ts","./scheduleReadableStreamLike.ts","./scheduled.ts","./Action.ts","./AnimationFrameAction.ts","./AnimationFrameScheduler.ts","./AsapAction.ts","./AsapScheduler.ts","./AsyncAction.ts","./AsyncScheduler.ts","./QueueAction.ts","./QueueScheduler.ts","./VirtualTimeScheduler.ts","./animationFrame.ts","./animationFrameProvider.ts","./asap.ts","./async.ts","./dateTimestampProvider.ts","./immediateProvider.ts","./intervalProvider.ts","./performanceTimestampProvider.ts","./queue.ts","./timeoutProvider.ts","./timerHandle.ts","./iterator.ts","./observable.ts","./ColdObservable.ts","./HotObservable.ts","./SubscriptionLog.ts","./SubscriptionLoggable.ts","./TestMessage.ts","./TestScheduler.ts","./types.ts","./ArgumentOutOfRangeError.ts","./EmptyError.ts","./Immediate.ts","./NotFoundError.ts","./ObjectUnsubscribedError.ts","./SequenceError.ts","./UnsubscriptionError.ts","./applyMixins.ts","./args.ts","./argsArgArrayOrObject.ts","./argsOrArgArray.ts","./arrRemove.ts","./createErrorClass.ts","./createObject.ts","./errorContext.ts","./executeSchedule.ts","./identity.ts","./isArrayLike.ts","./isAsyncIterable.ts","./isDate.ts","./isFunction.ts","./isInteropObservable.ts","./isIterable.ts","./isObservable.ts","./isPromise.ts","./isReadableStreamLike.ts","./isScheduler.ts","./lift.ts","./mapOneOrManyArgs.ts","./noop.ts","./not.ts","./pipe.ts","./reportUnhandledError.ts","./subscribeToArray.ts","./throwUnobservableError.ts","./workarounds.ts","./utils.ts","./BasePanel.ts","./BaseUIRoot.ts","./UIManager.ts","./CocosTools.ts","./JsonFromNodeXlsxTools.ts","./LayoutEx.ts","./MainColorLerp.ts","./Multiset.ts","./Polygon.ts","./Pool.ts","./RandomChooseTools.ts","./ResizeToVisibleSize.ts","./ScaleWidthToVisibleSize.ts","./LeanDynamicPageView.ts","./LeanDynamicScrollView.ts","./OptimizeScrollView.ts","./SetTools.ts","./SmartNodePool.ts","./UUID.ts","./Effect3_4.ts","./ShareAssets.ts","./Visualization.ts","./XlsxArrayTools.ts","./applyMixins2.ts","./date.ts","./math.ts","./singleton.ts","./string.ts","./touchFloat.ts","./AssetsRefs.ts","./CodeChestRefs.ts","./CommonRefs.ts","./TaskRefs.ts","./AudioManager.ts","./BundleAssetsManager.ts","./CloudManager.ts","./DataConfig.ts","./DataManager.ts","./EditorClientManager.ts","./Enums.ts","./GameAssetsRefs.ts","./PlayerSkinIconRefs.ts","./PrewarPropsRefs.ts","./GameManager.ts","./Types3.ts","./UserDataManager.ts","./ByteDanceManager.ts","./ByteDanceRecorderManager.ts","./ByteDanceVideoAdManager.ts","./AppPrivacyPanel.ts","./BuildingUnlockPanel.ts","./CodeChestButton.ts","./CodeChestPanel.ts","./FrontTipPanel.ts","./GameBottomPropsPanel.ts","./PrewarPropsIcon.ts","./GameEditorPanel.ts","./GameStagePanel.ts","./GetPsPanel.ts","./HomeChest.ts","./LogoPanel.ts","./LosePanel.ts","./LuckySkinPanel.ts","./MainMenuPanel.ts","./OpenHomeChestPanel.ts","./PrewarPropButton.ts","./PrewarPropPanel.ts","./SettingPanel.ts","./SkinPanel.ts","./SkinSkinBtn.ts","./SkinSkinPageView.ts","./SkinSkinPanel.ts","./Baise.ts","./StageIndicatorPanel.ts","./TaskHomeItem.ts","./TaskHomePanel.ts","./TaskHomeScrollView.ts","./TabButtonStyle.ts","./TaskPanel.ts","./TaskSignItem.ts","./TaskSignPanel.ts","./TaskSignScrollView.ts","./TaskStageItem.ts","./TaskStagePanel.ts","./TaskStageScrollView.ts","./TopLeftPanel.ts","./GoldCards.ts","./TopRightGoldCardPanel.ts","./TopRightPanel.ts","./TutorialPanel.ts","./UIConfig.ts","./UIRoot.ts","./ShakingRoot.ts","./WinPanel.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/sequenceEqual.ts",["cc","./lift.ts","./OperatorSubscriber.ts"],(function(e){"use strict";var t,u,r;return{setters:[function(e){t=e.cclegacy},function(e){u=e.operate},function(e){r=e.createOperatorSubscriber}],execute:function(){e("sequenceEqual",(function(e,t){void 0===t&&(t=function(e,t){return e===t});return u((function(u,n){var c={buffer:[],complete:!1},o={buffer:[],complete:!1},f=function(e){n.next(e),n.complete()},i=function(e,u){var c=r(n,(function(r){var n=u.buffer,c=u.complete;0===n.length?c?f(!1):e.buffer.push(r):!t(r,n.shift())&&f(!1)}),(function(){e.complete=!0;var t=u.complete,r=u.buffer;t&&f(0===r.length),null==c||c.unsubscribe()}));return c};u.subscribe(i(c,o)),e.subscribe(i(o,c))}))})),t._RF.push({},"47b67QUrEdIGo8uYrSSt23J","sequenceEqual",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/SequenceError.ts",["cc","./createErrorClass.ts"],(function(e){"use strict";var r,t;return{setters:[function(e){r=e.cclegacy},function(e){t=e.createErrorClass}],execute:function(){r._RF.push({},"71fedBUkyhAnomtznWP/tT5","SequenceError",void 0);e("SequenceError",t((function(e){return function(r){e(this),this.name="SequenceError",this.message=r}})));r._RF.pop()}}}));

System.register("chunks:///_virtual/SettingPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePanel.ts","./GameManager.ts","./UserDataManager.ts","./BindButton.ts","./DataConfig.ts","./lastValueFrom.ts","./CreatorSchedule.ts","./Enums.ts","./UIManager.ts"],(function(t){"use strict";var e,n,i,o,u,r,a,s,c,l,f,b,g,d,p,v,B,m,h,x;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,u=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){a=t.cclegacy,s=t._decorator,c=t.Button,l=t.EditBox,f=t.find},function(t){b=t.BasePanel},function(t){g=t.gm},function(t){d=t.udm},function(t){p=t.BindButton},function(t){v=t.DevConfig},function(t){B=t.lastValueFrom},function(t){m=t.NextFrame},function(t){h=t.FlowStatus},function(t){x=t.uim}],execute:function(){var y,w,S,_,C,O,P,D,F,z,L;a._RF.push({},"b032fpCVcJHErLVchAFaDWU","SettingPanel",void 0);var k=s.ccclass,E=s.property;t("SettingPanel",(y=k("SettingPanel"),w=E(c),S=E(c),_=E(c),C=E(l),y((D=e((P=function(t){function e(){for(var e,n=arguments.length,u=new Array(n),r=0;r<n;r++)u[r]=arguments[r];return e=t.call.apply(t,[this].concat(u))||this,i(e,"closeButton",D,o(e)),i(e,"bgmButton",F,o(e)),i(e,"sfxButton",z,o(e)),i(e,"editBox",L,o(e)),e}n(e,t);var a=e.prototype;return a.willBind=function(){f("main/devLayout",this.node).active=v.godButton},a.useObserves=function(){var t=this;return[p(this.closeButton).subscribe(this.closeButtonClicked.bind(this)),p(this.bgmButton).subscribe((function(t){d.bgmOn.value=!d.bgmOn.value,d.save()})),p(this.sfxButton).subscribe((function(t){d.sfxOn.value=!d.sfxOn.value,d.save()})),d.bgmOn.subscribe((function(e){f("off_di",t.bgmButton.node).active=!e,f("on_di",t.bgmButton.node).active=e})),d.sfxOn.subscribe((function(e){f("off_di",t.sfxButton.node).active=!e,f("on_di",t.sfxButton.node).active=e}))]},a.closeButtonClicked=function(){g.settingEnabled.value=!1},a.setCurStage=function(){var t=u(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d.curStage.value=Number(this.editBox.string),d.save(),g.stageClear(!0),t.next=5,B(m());case 5:return g.stageNumSelected.value=d.curStage.value,g.flowStatus.value=h.Game,t.next=9,B(x.standby.whenTrueOnce());case 9:g.stageLoad({reason:"win_continue"}),g.frontTipShow("最好重启一下").subscribe();case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),e}(b)).prototype,"closeButton",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(P.prototype,"bgmButton",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(P.prototype,"sfxButton",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=e(P.prototype,"editBox",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=P))||O));a._RF.pop()}}}));

System.register("chunks:///_virtual/SetTools.ts",["cc"],(function(r){"use strict";var t;return{setters:[function(r){t=r.cclegacy}],execute:function(){r({isSame:function(r,t){return Array.from(r).every((function(r){return t.has(r)}))&&Array.from(t).every((function(t){return r.has(t)}))},isSubSet:function(r,t){return Array.from(r).every((function(r){return t.has(r)}))}}),t._RF.push({},"ac96aAoTBtHHoNn+Am4IRSp","SetTools",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/ShakingRoot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts","./ReactiveNumber.ts","./Observable2.ts","./utils.ts","./AnimationPlay.ts","./TweenStart.ts","./index.ts","./ReactiveCommand.ts","./concat2.ts"],(function(t){"use strict";var e,n,i,s,a,u,r,o,l,h,c,g,d,f,p,b,m,v;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,s=t.assertThisInitialized},function(t){a=t.cclegacy,u=t._decorator,r=t.quat,o=t.Node,l=t.Quat,h=t.Animation},function(t){c=t.BaseView},function(t){g=t.ReactiveNumber},function(t){d=t.Observable},function(t){f=t.nullifySubscription},function(t){p=t.AnimationPlayWithSkip},function(t){b=t.TweenToStart},null,function(t){m=t.ReactiveCommand},function(t){v=t.concat}],execute:function(){var A,x,_,I,R,w,S,y;a._RF.push({},"10468ZteiBALKBhcADp/51Q","ShakingRoot",void 0);var k=u.ccclass,M=u.property,C=u.executeInEditMode,B=r();t("ShakingRoot",(A=k("ShakingRoot"),x=M(g),_=M(o),A(I=C((w=e((R=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),u=0;u<n;u++)a[u]=arguments[u];return e=t.call.apply(t,[this].concat(a))||this,i(e,"mode",w,s(e)),e.resultAng=[25,12.5,0,-12.5,-25],e.multi=[2,3,5,3,2],e.resultIdx=0,e.finResultCommand=m.Create(),e.updateCommand=m.Create(),i(e,"ang",S,s(e)),i(e,"arrowAxis",y,s(e)),e._sub_run=null,e.skip=null,e._stageAnim=null,e.canAutoStop=!1,e._lastAng=0,e.running=!1,e}n(e,t);var a=e.prototype;return a.willBind=function(){this.ang.loadValue()},a.useObserves=function(){var t=this;return[this.ang.subscribe(this.refresh.bind(this)),this.finResultCommand.subscribe((function(e){return t.log("结果监听测试",e)}))]},a.onDestroyView=function(){f.call(this,"_sub_run")},a.refresh=function(){l.fromAngleZ(B,this.ang.value),this.arrowAxis.setRotation(B)},a.startSpeed=function(){switch(this.mode){case 0:return 3;case 1:return 8}},a.startToSpeed=function(){switch(this.mode){case 0:case 1:return 2}},a.run=function(){var t=this;1==this.mode&&(this.resultIdx=Math.floor(5*Math.random()),this.log("resultIdx",this.resultIdx)),this.running=!0,f.call(this,"_sub_run"),this._sub_run=new d((function(e){t.canAutoStop=!1;var n=p(t.getComponent(h),"shakingRootRun"),i=n.observable,s=n.skip;t.skip=s;var a=null,u=i.subscribe({next:function(e){var n=e,i=n.target;"info"==n.state&&(t._stageAnim=i.getState("shakingRootRun"),t._stageAnim.speed=t.startSpeed(),a=b(t._stageAnim,Math.random()+1,{speed:t.startToSpeed()},{easing:"quadIn"}).subscribe({complete:function(){1==t.mode&&(t.canAutoStop=!0,a=b(t._stageAnim,.5,{speed:1}).subscribe())}}))},complete:function(){e.next(null),e.complete()}});return function(){u.unsubscribe(),a&&a.unsubscribe()}})).subscribe()},a.stop=function(){this.running=!1,this.canAutoStop=!1,this.skip&&this.skip(),this.skip=null,0==this.mode&&this.getResultIdxNow(),this.finResultCommand.execute({resultIdx:this.resultIdx}),this.locateAnim()},a.getResultIdxNow=function(){var t=this,e=null,n=1/0;this.resultAng.forEach((function(i,s){var a=Math.abs(t.ang.value-i);n>a&&(n=a,e=s)})),this.resultIdx=e},a.complete=function(){this.log("end:",this.ang.value)},a.update=function(){if(this.canAutoStop){var t=Math.min(Math.abs(this.ang.value-this.resultAng[this.resultIdx]),Math.abs(this.ang.value-this.resultAng[4-this.resultIdx]));this.log("@diff",t,this._lastAng,this.ang.value,this._lastAng>this.ang.value),t<6.5&&this.stop()}this.getResultIdxNow(),this.updateCommand.execute({resultIdx:this.resultIdx}),this._lastAng=this.ang.value},a.locateAnim=function(){var t=0;t=Math.abs(this.ang.value-this.resultAng[this.resultIdx])<Math.abs(this.ang.value-this.resultAng[4-this.resultIdx])?this.resultAng[this.resultIdx]:this.resultAng[4-this.resultIdx],f.call(this,"_sub_run");var e=this._lastAng>this.ang.value?1:-1;this._sub_run=v(b(this.ang,.05,{value:t+4*e}),b(this.ang,.1,{value:t-4*e}),b(this.ang,.1,{value:t+2*e}),b(this.ang,.1,{value:t-2*e}),b(this.ang,.1,{value:t+1*e}),b(this.ang,.1,{value:t-1*e}),b(this.ang,.1,{value:t})).subscribe()},e}(c)).prototype,"mode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),S=e(R.prototype,"ang",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return g.DefaultValue(25)}}),y=e(R.prototype,"arrowAxis",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=R))||I)||I));a._RF.pop()}}}));

System.register("chunks:///_virtual/share.ts",["cc","./innerFrom.ts","./Subject.ts","./Subscriber.ts","./lift.ts"],(function(n){"use strict";var e,r,t,u,i;return{setters:[function(n){e=n.cclegacy},function(n){r=n.innerFrom},function(n){t=n.Subject},function(n){u=n.SafeSubscriber},function(n){i=n.operate}],execute:function(){function o(n,e){for(var r=arguments.length,t=new Array(r>2?r-2:0),i=2;i<r;i++)t[i-2]=arguments[i];if(!0!==e){if(!1!==e){var o=new u({next:function(){o.unsubscribe(),n()}});return e.apply(void 0,t).subscribe(o)}}else n()}n("share",(function(n){void 0===n&&(n={});var e=n,c=e.connector,s=void 0===c?function(){return new t}:c,f=e.resetOnError,a=void 0===f||f,b=e.resetOnComplete,v=void 0===b||b,l=e.resetOnRefCountZero,d=void 0===l||l;return function(n){var e,t,c,f=0,b=!1,l=!1,p=function(){var n;null==(n=t)||n.unsubscribe(),t=void 0},h=function(){p(),e=c=void 0,b=l=!1},m=function(){var n=e;h(),null==n||n.unsubscribe()};return i((function(n,i){var S;f++,l||b||p();var y=c=null!=(S=c)?S:s();i.add((function(){0!==--f||l||b||(t=o(m,d))})),y.subscribe(i),!e&&f>0&&(e=new u({next:function(n){return y.next(n)},error:function(n){l=!0,p(),t=o(h,a,n),y.error(n)},complete:function(){b=!0,p(),t=o(h,v),y.complete()}}),r(n).subscribe(e))}))(n)}})),e._RF.push({},"8ab07lFRW5BUouIg/yuK8NP","share",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/ShareAssets.ts",["cc","./Effect3_4.ts"],(function(e){"use strict";var t,i,n,s,r,a,c;return{setters:[function(e){t=e.cclegacy,i=e.Material,n=e.game,s=e.Game,r=e.gfx,a=e.EffectAsset},function(e){c=e.Effect3_4}],execute:function(){t._RF.push({},"30adbZ0wsVOgJVOnhW2E47L","ShareAssets",void 0);var o=new i;o._uuid="cinestation-line-material";var u=new i;u._uuid="cinestation-view-material",n.on(s.EVENT_GAME_INITED,(function(){o.initialize({effectName:"builtin-unlit",defines:{USE_VERTEX_COLOR:!0},states:{primitive:r.PrimitiveMode.LINE_LIST}}),o.passes.forEach((function(e){return e.tryCompile()}));var e=Object.assign(new a,c);e.onLoaded(),u.initialize({effectAsset:e}),u.passes.forEach((function(e){return e.tryCompile()}))}));e("shareAssets",new(function(){function e(){this.viewMaterial=u,this.lineMaterial=o}return e.prototype.__setDebugProperty=function(e,t){this.viewMaterial.setProperty(e,t)},e}()));t._RF.pop()}}}));

System.register("chunks:///_virtual/shareReplay.ts",["cc","./ReplaySubject.ts","./share.ts"],(function(e){"use strict";var r,t,n;return{setters:[function(e){r=e.cclegacy},function(e){t=e.ReplaySubject},function(e){n=e.share}],execute:function(){e("shareReplay",(function(e,r,c){var o,u=!1;if(e&&"object"==typeof e){var s=e.bufferSize;o=void 0===s?1/0:s;var a=e.windowTime;r=void 0===a?1/0:a;var i=e.refCount;u=void 0!==i&&i,c=e.scheduler}else o=null!=e?e:1/0;return n({connector:function(){return new t(o,r,c)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})})),r._RF.push({},"3c720rSzrlN3a3/xvgIymn+","shareReplay",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/single.ts",["cc","./EmptyError.ts","./SequenceError.ts","./NotFoundError.ts","./lift.ts","./OperatorSubscriber.ts"],(function(r){"use strict";var n,t,e,o,c,u;return{setters:[function(r){n=r.cclegacy},function(r){t=r.EmptyError},function(r){e=r.SequenceError},function(r){o=r.NotFoundError},function(r){c=r.operate},function(r){u=r.createOperatorSubscriber}],execute:function(){r("single",(function(r){return c((function(n,c){var i,s=!1,a=!1,f=0;n.subscribe(u(c,(function(t){a=!0,r&&!r(t,f++,n)||(s&&c.error(new e("Too many matching values")),s=!0,i=t)}),(function(){s?(c.next(i),c.complete()):c.error(a?new o("No matching values"):new t)})))}))})),n._RF.push({},"f7a0dm2mXZJZak5UF7lTSDY","single",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/singleton.ts",["cc"],(function(n){"use strict";var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){function e(n){var t=null;return Object.defineProperty(n,"getInstance",{value:function(){return t||(t=new n)}}),n}n("singleton",e),t._RF.push({},"459f5/b0UNCCJuTJjwirnT1","singleton",void 0),(e||(e=n("singleton",{}))).get=function(n){return n.getInstance()},t._RF.pop()}}}));

System.register("chunks:///_virtual/SkinBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts","./BindCollider.ts","./Player.ts","./utils.ts","./index.ts","./AnimationPlay.ts","./forkJoin.ts","./concat2.ts","./of.ts","./map.ts"],(function(n){"use strict";var t,o,i,e,s,r,l,u,c,a,d,h,_,f,m,p;return{setters:[function(n){t=n.inheritsLoose},function(n){o=n.cclegacy,i=n._decorator,e=n.find,s=n.Collider,r=n.v3,l=n.Animation},function(n){u=n.BaseView},function(n){c=n.BindColliderTrigger},function(n){a=n.Player},function(n){d=n.nullifySubscription},null,function(n){h=n.AnimationPlay},function(n){_=n.forkJoin},function(n){f=n.concat},function(n){m=n.of},function(n){p=n.map}],execute:function(){var b;o._RF.push({},"69d9eY3xltKALTxTejYq6jr","SkinBox",void 0);var g=i.ccclass;i.property,n("SkinBox",g("SkinBox")(b=function(n){function o(){for(var t,o=arguments.length,i=new Array(o),e=0;e<o;e++)i[e]=arguments[e];return(t=n.call.apply(n,[this].concat(i))||this)._collider=null,t._rootNode=null,t._meshNode=null,t._anim_sub=null,t}t(o,n);var i=o.prototype;return i.willBind=function(){this._rootNode=e("root",this.node),this._meshNode=e("root/mesh",this.node),this._collider=this._meshNode.getComponent(s)},i.start=function(){var n=this;this.getMainSubscription().add(c(this._collider).subscribe((function(t){if("onTriggerEnter"==t.event.type){var o=t.event.otherCollider.node.getComponent(a);null!=o&&(n._collider.enabled=!1,n.node.setParent(o.node),n.node.setPosition(r(0,1,0)),n.node.setRotationFromEuler(r(0,90,0)),n.gotTrailAnim(),o.trailNum.value=0)}})))},i.standbyAnim=function(){d.call(this,"_anim_sub"),this._anim_sub=_([h(this._rootNode.getComponent(l),"skinbox_root"),h(this._meshNode.getComponent(l),"skinbox_mesh")]).subscribe()},i.gotTrailAnim=function(){var n=this;d.call(this,"_anim_sub"),this._anim_sub=f(h(this._meshNode.getComponent(l),"skinbox_mesh_got"),m(null).pipe(p((function(t){n.node.active=!1})))).subscribe()},o}(u))||b);o._RF.pop()}}}));

System.register("chunks:///_virtual/SkinPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePanel.ts","./BindButton.ts","./GameManager.ts","./UserDataManager.ts","./GameAssetsRefs.ts","./DataManager.ts","./ReactiveProperty.ts","./MergeWithTimer.ts","./Enums.ts","./math.ts"],(function(n){"use strict";var t,e,i,o,r,a,s,u,c,l,d,p,f,k,b,h,m,v,B;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,a=n._decorator,s=n.Button,u=n.Sprite,c=n.UIOpacity},function(n){l=n.BasePanel},function(n){d=n.BindButton},function(n){p=n.gm},function(n){f=n.udm},function(n){k=n.GameAssetsRefs},function(n){b=n.dm},function(n){h=n.ReactiveProperty},function(n){m=n.MergeWithTimer},function(n){v=n.SkinTab},function(n){B=n.linearClamp}],execute:function(){var S,g,y,_,U,C,P,A,w,F;r._RF.push({},"452e1axCUJF/ZDzSG7MLN6f","SkinPanel",void 0);var I=a.ccclass,M=a.property;n("SkinPanel",(S=I("SkinPanel"),g=M(s),y=M(u),_=M(s),S(((F=function(n){function t(){for(var t,e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return t=n.call.apply(n,[this].concat(r))||this,i(t,"closeButton",P,o(t)),i(t,"curSkinIconSprite",A,o(t)),i(t,"randomUnlockButton",w,o(t)),t.isAdSkinFull=h.Create(!1),t._ad_playing=!1,t}e(t,n);var r=t.prototype;return r.useObserves=function(){var n=this;return[d(this.closeButton).subscribe(this.closeButtonClicked.bind(this)),d(this.randomUnlockButton).subscribe(this.randomUnlockButtonClicked.bind(this)),m([this.isAdSkinFull._subject,p.skinTab._subject,t.pageViewContentX._subject]).subscribe(this.refreshUnlockButton.bind(this)),f.skinGot.subscribe((function(t){var e=new Set(f.skinGot.value);n.isAdSkinFull.value=b.adSkinIds.every((function(n){return e.has(n)}))})),f.skinNum.subscribe((function(t){n.curSkinIconSprite.spriteFrame=k.instance.playerSkinIcon.getIcons(t)}))]},r.closeButtonClicked=function(){p.skinPanelEnabled.value=!1},r.randomUnlockButtonClicked=function(){var n=this;if(!this._ad_playing){this._ad_playing=!0;var t=b.getAdSkinRandom();b.showAdsForAdSkin(t).subscribe((function(t){n._ad_playing=!1}))}},r.refreshUnlockButton=function(){if(!this.isAdSkinFull.value&&p.skinTab.value==v.Skin){this.randomUnlockButton.node.active=!0;var n=Math.abs(t.pageViewContentX.value+500),e=B(100,200,255,0,n);this.randomUnlockButton.getComponent(c).opacity=e,this.randomUnlockButton.interactable=e>200}else this.randomUnlockButton.node.active=!1},t}(l)).pageViewContentX=h.Create(0),P=t((C=F).prototype,"closeButton",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(C.prototype,"curSkinIconSprite",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=t(C.prototype,"randomUnlockButton",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=C))||U));r._RF.pop()}}}));

System.register("chunks:///_virtual/SkinSkinBtn.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReactiveProperty.ts","./DataManager.ts","./UserDataManager.ts","./BaseView.ts","./BindButton.ts","./MergeWithTimer.ts","./GameAssetsRefs.ts"],(function(e){"use strict";var t,i,n,r,o,s,l,u,a,c,f,p,b,d,h,v,k;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,s=e._decorator,l=e.Button,u=e.Node,a=e.Sprite,c=e.Label},function(e){f=e.ReactiveProperty},function(e){p=e.dm},function(e){b=e.udm},function(e){d=e.BaseView},function(e){h=e.BindButton},function(e){v=e.MergeWithTimer},function(e){k=e.GameAssetsRefs}],execute:function(){var m,y,S,g,B,N,D,I,w,z,L,_,R,G,M,j,x;o._RF.push({},"7afb9Urvt1KvL9dlybo5Z9T","SkinSkinBtn",void 0);var A=s.ccclass,F=s.property;e("SkinSkinBtn",(m=A("SkinSkinBtn"),y=F(l),S=F(u),g=F(u),B=F(a),N=F(a),D=F(u),I=F(c),m((L=t((z=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))||this).ID=f.Create(null),n(t,"selfButton",L,r(t)),n(t,"lockedNode",_,r(t)),n(t,"unlockedNode",R,r(t)),n(t,"iconSprite",G,r(t)),n(t,"icon2Sprite",M,r(t)),n(t,"selectedNode",j,r(t)),n(t,"testLabel",x,r(t)),t}i(t,e);var o=t.prototype;return o.useObserves=function(){return[v([this.ID._subject,b.skinGot._subject,b.skinNum._subject]).subscribe(this.refresh.bind(this)),h(this.selfButton).subscribe(this.selfButtonClicked.bind(this))]},o.refresh=function(){var e,t=this.ID.value;null==this.ID.value?e="N/A":(e=this.ID.value+"\n"+p.xlsx.Skin.index[this.ID.value].Name,b.skinGot.value.includes(this.ID.value)?this.unlockedNode.active=!0:(e="*"+e,this.lockedNode.active=!0),b.skinNum.value==this.ID.value?(e="["+e+"]",this.selectedNode.active=!0):this.selectedNode.active=!1),this.testLabel.string=e,this.iconSprite.spriteFrame=k.instance.playerSkinIcon.getIcons(t),this.icon2Sprite.spriteFrame=k.instance.playerSkinIcon.getIcons(t)},o.selfButtonClicked=function(){b.skinGot.value.includes(this.ID.value)&&(b.skinNum.value=this.ID.value,b.save())},t}(d)).prototype,"selfButton",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=t(z.prototype,"lockedNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(z.prototype,"unlockedNode",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(z.prototype,"iconSprite",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(z.prototype,"icon2Sprite",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(z.prototype,"selectedNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(z.prototype,"testLabel",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=z))||w));o._RF.pop()}}}));

System.register("chunks:///_virtual/SkinSkinPageView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LeanDynamicPageView.ts","./SmartNodePool.ts","./SkinSkinBtn.ts","./DataManager.ts","./SkinPanel.ts"],(function(e){"use strict";var t,n,i,o,r,a,c,s,u,l,f,p,P;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,c=e.v3,s=e.Prefab},function(e){u=e.LeanDynamicPageView},function(e){l=e.SmartNodePool},function(e){f=e.SkinSkinBtn},function(e){p=e.dm},function(e){P=e.SkinPanel}],execute:function(){var h,m,S,d,k;r._RF.push({},"8e3779soIROqo1irfVXTx78","SkinSkinPageView",void 0);var g=a.ccclass,y=a.property,w=c();e("SkinSkinPageView",(h=g("SkinSkinPageView"),m=y(s),h((k=t((d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"itemPrefab",k,o(t)),t.itemPool=null,t}n(t,e);var r=t.prototype;return r.onLoadView=function(){e.prototype.onLoadView.call(this),this.itemPool=new l,this.itemPool.setPrefab(this.itemPrefab)},r.onDestroyView=function(){e.prototype.onDestroyView.call(this),this.itemPool.clear()},r.getDataCount=function(){return 3},r.getItemNode=function(){return this.itemPool.getNode()},r.putItemNode=function(e){this.itemPool.putNode(e)},r.refreshRow=function(e){this.currentItems[e].getComponentsInChildren(f).forEach((function(t,n){0==e?t.ID.value=p.adSkinIds[n]:1==e?t.ID.value=p.luckySkinIDs[n]:2==e&&(t.ID.value=p.chestSkinIDs[n])}))},r.update=function(e){this.contentNode.getPosition(w),P.pageViewContentX.value=w.x},t}(u)).prototype,"itemPrefab",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=d))||S));r._RF.pop()}}}));

System.register("chunks:///_virtual/SkinSkinPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePanel.ts","./of.ts","./SkinSkinPageView.ts"],(function(e){"use strict";var n,i,t,r,a,o,l,u,s,c;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,t=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.Prefab},function(e){u=e.BasePanel},function(e){s=e.of},function(e){c=e.SkinSkinPageView}],execute:function(){var p,f,k,S,P,g,w;a._RF.push({},"24d6fXVwRdJTr+Nsta0PSoW","SkinSkinPanel",void 0);var y=o.ccclass,b=o.property;e("SkinSkinPanel",(p=y("SkinSkinPanel"),f=b(l),k=b(c),p((g=n((P=function(e){function n(){for(var n,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=e.call.apply(e,[this].concat(a))||this,t(n,"skinSkinPage",g,r(n)),t(n,"pageView",w,r(n)),n}i(n,e);var a=n.prototype;return a.useObserves=function(){return[]},a.willOpen=function(){return this.pageView.openPageView(),s(null)},n}(u)).prototype,"skinSkinPage",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=n(P.prototype,"pageView",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=P))||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/skip.ts",["cc","./filter.ts"],(function(t){"use strict";var n,c;return{setters:[function(t){n=t.cclegacy},function(t){c=t.filter}],execute:function(){t("skip",(function(t){return c((function(n,c){return t<=c}))})),n._RF.push({},"adf9cpBEZRGGoLmto5YZNwW","skip",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/skipLast.ts",["cc","./identity.ts","./lift.ts","./OperatorSubscriber.ts"],(function(t){"use strict";var r,n,e,i;return{setters:[function(t){r=t.cclegacy},function(t){n=t.identity},function(t){e=t.operate},function(t){i=t.createOperatorSubscriber}],execute:function(){t("skipLast",(function(t){return t<=0?n:e((function(r,n){var e=new Array(t),c=0;return r.subscribe(i(n,(function(r){var i=c++;if(i<t)e[i]=r;else{var s=i%t,u=e[s];e[s]=r,n.next(u)}}))),function(){e=null}}))})),r._RF.push({},"11544dHXX1DJrTMcWbklBrd","skipLast",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/skipUntil.ts",["cc","./lift.ts","./OperatorSubscriber.ts","./innerFrom.ts","./noop.ts"],(function(n){"use strict";var t,r,i,e,u;return{setters:[function(n){t=n.cclegacy},function(n){r=n.operate},function(n){i=n.createOperatorSubscriber},function(n){e=n.innerFrom},function(n){u=n.noop}],execute:function(){n("skipUntil",(function(n){return r((function(t,r){var c=!1,s=i(r,(function(){null==s||s.unsubscribe(),c=!0}),u);e(n).subscribe(s),t.subscribe(i(r,(function(n){return c&&r.next(n)})))}))})),t._RF.push({},"d6454QJfDxLrrzqKFDUErgp","skipUntil",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/skipWhile.ts",["cc","./lift.ts","./OperatorSubscriber.ts"],(function(t){"use strict";var e,r,i;return{setters:[function(t){e=t.cclegacy},function(t){r=t.operate},function(t){i=t.createOperatorSubscriber}],execute:function(){t("skipWhile",(function(t){return r((function(e,r){var n=!1,c=0;e.subscribe(i(r,(function(e){return(n||(n=!t(e,c++)))&&r.next(e)})))}))})),e._RF.push({},"7b6813MnVRA/5qRxO/irHFX","skipWhile",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/SmartNodePool.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,o,n,a;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,o=t._decorator,n=t.instantiate,a=t.NodePool}],execute:function(){var i;r._RF.push({},"9984cqvD19GCZDZappo1zfr","SmartNodePool",void 0);var c=o.ccclass;o.property,t("SmartNodePool",c("SmartNodePool")(i=function(t){function r(){for(var e,r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];return(e=t.call.apply(t,[this].concat(o))||this).prefab=null,e}e(r,t);var o=r.prototype;return o.setPrefab=function(t){this.prefab=t},o.prepare=function(t){for(var e=0;e<t;e++)this.putNode(n(this.prefab))},o.getNode=function(){return this.size()>0?this.get():n(this.prefab)},o.putNode=function(t){return this.put(t)},o.clear=function(){t.prototype.clear.call(this)},r}(a))||i);r._RF.pop()}}}));

System.register("chunks:///_virtual/Stage.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EditorGrid.ts","./GameConfig.ts","./OptFilterFlag.ts","./BaseView.ts"],(function(t){"use strict";var e,n,i,o,r,s,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},function(t){o=t.EditorGrid},function(t){r=t.GameConfig},function(t){s=t.OptFliterFlag},function(t){c=t.BaseView}],execute:function(){var u;n._RF.push({},"d446dpGptBI4oBQGivoVhIH","Stage",void 0);var a=i.ccclass,l=(i.property,i.executeInEditMode);t("Stage",a("Stage")(u=l(u=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var i=n.prototype;return i.willBind=function(){this.getComponentsInChildren(s).forEach((function(t){r.optimizeFilter()>=t.fliterFlag&&t.node.destroy()}))},i.onLoadView=function(){if(CC_EDITOR){null==this.getComponent(o)&&this.addComponent(o)}else{var t=this.getComponent(o);null!=t&&t.destroy()}},n}(c))||u)||u);n._RF.pop()}}}));

System.register("chunks:///_virtual/StageIndicatorPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePanel.ts","./ReactiveProperty.ts","./UserDataManager.ts","./DataManager.ts","./Baise.ts"],(function(e){"use strict";var t,a,r,i,n,u,l,o,s,c,p,b,g,f,h,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,a=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){n=e.cclegacy,u=e._decorator,l=e.Prefab,o=e.Label,s=e.Node,c=e.instantiate},function(e){p=e.BasePanel},function(e){b=e.ReactiveProperty},function(e){g=e.udm},function(e){f=e.dm},function(e){h=e.Baise,v=e.BaiseType}],execute:function(){var d,y,m,P,S,B,L,C,x,F,T;n._RF.push({},"26b79W1EdhKBp3ijMfOqAVs","StageIndicatorPanel",void 0);var z=u.ccclass,D=u.property;e("StageIndicatorPanel",(d=z("StageIndicatorPanel"),y=D(l),m=D(o),P=D(o),S=D(s),d((C=t((L=function(e){function t(){for(var t,a=arguments.length,n=new Array(a),u=0;u<a;u++)n[u]=arguments[u];return t=e.call.apply(e,[this].concat(n))||this,r(t,"baisePrefab",C,i(t)),r(t,"headLabel",x,i(t)),r(t,"tailLabel",F,i(t)),t.group=b.Create(null),r(t,"baiseContainer",T,i(t)),t}a(t,e);var n=t.prototype;return n.useObserves=function(){var e=this;return[this.group.subscribeUntilChanged(this.refresh.bind(this)),g.curStage.subscribe((function(t){return e.group.value=f.getGroupByStageNum(t)}))]},n.clear=function(){this.baiseContainer.destroyAllChildren()},n.refresh=function(){if(this.clear(),null!=this.group.value){for(var e=0,t=this.group.value._FromStageNum;t<=this.group.value.ToStageNum;t++){var a=c(this.baisePrefab);a.setParent(this.baiseContainer);var r=a.getComponent(h),i=f.xlsx.Level.index[t];null!=f.xlsx.Skin.index[i.BossSkinID]&&(r.isBoss.value=!0),t<g.curStage.value?(r.baiseType.value=v.Front,r.jumpAnim(.1*e)):t>g.curStage.value?r.baiseType.value=v.Back:(r.baiseType.value=v.Current,r.jumpAnim(.1*e)),e++}this.headLabel.string=this.group.value._FromStageNum+"F",this.tailLabel.string=this.group.value.ToStageNum+"F"}},t}(p)).prototype,"baisePrefab",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(L.prototype,"headLabel",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(L.prototype,"tailLabel",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(L.prototype,"baiseContainer",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=L))||B));n._RF.pop()}}}));

System.register("chunks:///_virtual/startWith.ts",["cc","./concat2.ts","./args.ts","./lift.ts"],(function(t){"use strict";var n,c,r,e;return{setters:[function(t){n=t.cclegacy},function(t){c=t.concat},function(t){r=t.popScheduler},function(t){e=t.operate}],execute:function(){t("startWith",(function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var i=r(n);return e((function(t,r){(i?c(n,t,i):c(n,t)).subscribe(r)}))})),n._RF.push({},"be8a7wO43xBqYHxIMPpUjTf","startWith",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/string.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"d93f9r8cx5POIxmVQnmC7+l","string",void 0);t("toKDotString",(function(t){for(var n=""+t,r="",e=n.length-1;e>=0;e--){r=n[e]+r,0!=e&&(n.length-e)%3==0&&(r=","+r)}return r}));n._RF.pop()}}}));

System.register("chunks:///_virtual/Subject.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Observable2.ts","./Subscription.ts","./ObjectUnsubscribedError.ts","./arrRemove.ts","./errorContext.ts"],(function(r){"use strict";var e,t,n,s,o,i,u,c,l,h;return{setters:[function(r){e=r.inheritsLoose,t=r.createForOfIteratorHelperLoose,n=r.createClass},function(r){s=r.cclegacy},function(r){o=r.Observable},function(r){i=r.EMPTY_SUBSCRIPTION,u=r.Subscription},function(r){c=r.ObjectUnsubscribedError},function(r){l=r.arrRemove},function(r){h=r.errorContext}],execute:function(){s._RF.push({},"f4caeKu+zFB+5L2gcRnEVDU","Subject",void 0);var a=r("Subject",function(r){function s(){var e;return(e=r.call(this)||this).closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}e(s,r);var a=s.prototype;return a.lift=function(r){var e=new f(this,this);return e.operator=r,e},a._throwIfClosed=function(){if(this.closed)throw new c},a.next=function(r){var e=this;h((function(){if(e._throwIfClosed(),!e.isStopped){e.currentObservers||(e.currentObservers=Array.from(e.observers));for(var n,s=t(e.currentObservers);!(n=s()).done;){n.value.next(r)}}}))},a.error=function(r){var e=this;h((function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=r;for(var t=e.observers;t.length;)t.shift().error(r)}}))},a.complete=function(){var r=this;h((function(){if(r._throwIfClosed(),!r.isStopped){r.isStopped=!0;for(var e=r.observers;e.length;)e.shift().complete()}}))},a.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},a._trySubscribe=function(e){return this._throwIfClosed(),r.prototype._trySubscribe.call(this,e)},a._subscribe=function(r){return this._throwIfClosed(),this._checkFinalizedStatuses(r),this._innerSubscribe(r)},a._innerSubscribe=function(r){var e=this,t=this.hasError,n=this.isStopped,s=this.observers;return t||n?i:(this.currentObservers=null,s.push(r),new u((function(){e.currentObservers=null,l(s,r)})))},a._checkFinalizedStatuses=function(r){var e=this.hasError,t=this.thrownError,n=this.isStopped;e?r.error(t):n&&r.complete()},a.asObservable=function(){var r=new o;return r.source=this,r},n(s,[{key:"observed",get:function(){var r;return(null==(r=this.observers)?void 0:r.length)>0}}]),s}(o));a.create=function(r,e){return new f(r,e)};var f=r("AnonymousSubject",function(r){function t(e,t){var n;return(n=r.call(this)||this).destination=e,n.source=t,n}e(t,r);var n=t.prototype;return n.next=function(r){var e;null==(e=this.destination)||null==e.next||e.next(r)},n.error=function(r){var e;null==(e=this.destination)||null==e.error||e.error(r)},n.complete=function(){var r;null==(r=this.destination)||null==r.complete||r.complete()},n._subscribe=function(r){var e,t;return null!=(e=null==(t=this.source)?void 0:t.subscribe(r))?e:i},t}(a));s._RF.pop()}}}));

System.register("chunks:///_virtual/subscribeOn.ts",["cc","./lift.ts"],(function(t){"use strict";var c,e;return{setters:[function(t){c=t.cclegacy},function(t){e=t.operate}],execute:function(){t("subscribeOn",(function(t,c){void 0===c&&(c=0);return e((function(e,n){n.add(t.schedule((function(){return e.subscribe(n)}),c))}))})),c._RF.push({},"9c642P2aC5PuZaE5238Qy01","subscribeOn",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/Subscriber.ts",["./rollupPluginModLoBabelHelpers.js","cc","./isFunction.ts","./Subscription.ts","./config.ts","./reportUnhandledError.ts","./noop.ts","./NotificationFactories.ts","./timeoutProvider.ts","./errorContext.ts"],(function(t){"use strict";var n,i,e,r,o,s,c,u,a,p,l,f,h,d;return{setters:[function(t){n=t.inheritsLoose,i=t.assertThisInitialized},function(t){e=t.cclegacy},function(t){r=t.isFunction},function(t){o=t.Subscription,s=t.isSubscription},function(t){c=t.config},function(t){u=t.reportUnhandledError},function(t){a=t.noop},function(t){p=t.nextNotification,l=t.errorNotification,f=t.COMPLETE_NOTIFICATION},function(t){h=t.timeoutProvider},function(t){d=t.captureError}],execute:function(){e._RF.push({},"9d6baT/hSRMb4nwMnEgZhBH","Subscriber",void 0);var b=t("Subscriber",function(t){function e(n){var e;return(e=t.call(this)||this).isStopped=!1,e.destination=void 0,n?(e.destination=n,s(n)&&n.add(i(e))):e.destination=E,e}n(e,t),e.create=function(t,n,i){return new m(t,n,i)};var r=e.prototype;return r.next=function(t){this.isStopped?_(p(t),this):this._next(t)},r.error=function(t){this.isStopped?_(l(t),this):(this.isStopped=!0,this._error(t))},r.complete=function(){this.isStopped?_(f,this):(this.isStopped=!0,this._complete())},r.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},r._next=function(t){this.destination.next(t)},r._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},r._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(o)),v=Function.prototype.bind;function S(t,n){return v.call(t,n)}var x=function(){function t(t){this.partialObserver=t}var n=t.prototype;return n.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(t){y(t)}},n.error=function t(n){var i=this.partialObserver;if(i.error)try{i.error(n)}catch(t){y(t)}else y(n)},n.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(t){y(t)}},t}(),m=t("SafeSubscriber",function(t){function e(n,e,o){var s,u,a;(s=t.call(this)||this,r(n)||!n)?u={next:null!=n?n:void 0,error:null!=e?e:void 0,complete:null!=o?o:void 0}:i(s)&&c.useDeprecatedNextContext?((a=Object.create(n)).unsubscribe=function(){return s.unsubscribe()},u={next:n.next&&S(n.next,a),error:n.error&&S(n.error,a),complete:n.complete&&S(n.complete,a)}):u=n;return s.destination=new x(u),s}return n(e,t),e}(b));function y(t){c.useDeprecatedSynchronousErrorHandling?d(t):u(t)}function _(t,n){var i=c.onStoppedNotification;i&&h.setTimeout((function(){return i(t,n)}))}var E=t("EMPTY_OBSERVER",{closed:!0,next:a,error:function(t){throw t},complete:a});e._RF.pop()}}}));

System.register("chunks:///_virtual/subscribeToArray.ts",["cc"],(function(r){"use strict";var e;return{setters:[function(r){e=r.cclegacy}],execute:function(){e._RF.push({},"d55c4HIOblGJImxbfKAaQZJ","subscribeToArray",void 0);r("subscribeToArray",(function(r){return function(e){for(var c=0,t=r.length;c<t&&!e.closed;c++)e.next(r[c]);e.complete()}}));e._RF.pop()}}}));

System.register("chunks:///_virtual/Subscription.ts",["./rollupPluginModLoBabelHelpers.js","cc","./isFunction.ts","./UnsubscriptionError.ts","./arrRemove.ts"],(function(r){"use strict";var i,n,t,e,s;return{setters:[function(r){i=r.createForOfIteratorHelperLoose},function(r){n=r.cclegacy},function(r){t=r.isFunction},function(r){e=r.UnsubscriptionError},function(r){s=r.arrRemove}],execute:function(){r("isSubscription",(function(r){return r instanceof o||r&&"closed"in r&&t(r.remove)&&t(r.add)&&t(r.unsubscribe)})),n._RF.push({},"bc2a12OSqNPGpXjZh65DNUB","Subscription",void 0);var a,o=r("Subscription",function(){function r(r){this.closed=!1,this._parentage=null,this._finalizers=null,this.initialTeardown=r}var n=r.prototype;return n.unsubscribe=function(){var r;if(!this.closed){this.closed=!0;var n=this._parentage;if(n)if(this._parentage=null,Array.isArray(n))for(var s,a=i(n);!(s=a()).done;){s.value.remove(this)}else n.remove(this);var o=this.initialTeardown;if(t(o))try{o()}catch(i){r=i instanceof e?i.errors:[i]}var u=this._finalizers;if(u){this._finalizers=null;for(var l,f=i(u);!(l=f()).done;){var h=l.value;try{c(h)}catch(i){var v;r=null!=(v=r)?v:[],i instanceof e?r=[].concat(r,i.errors):r.push(i)}}}if(r)throw new e(r)}},n.add=function(i){if(i&&i!==this)if(this.closed)c(i);else{var n;if(i instanceof r){if(i.closed||i._hasParent(this))return;i._addParent(this)}(this._finalizers=null!=(n=this._finalizers)?n:[]).push(i)}},n._hasParent=function(r){var i=this._parentage;return i===r||Array.isArray(i)&&i.includes(r)},n._addParent=function(r){var i=this._parentage;this._parentage=Array.isArray(i)?(i.push(r),i):i?[i,r]:r},n._removeParent=function(r){var i=this._parentage;i===r?this._parentage=null:Array.isArray(i)&&s(i,r)},n.remove=function(i){var n=this._finalizers;n&&s(n,i),i instanceof r&&i._removeParent(this)},r}());o.EMPTY=((a=new o).closed=!0,a);r("EMPTY_SUBSCRIPTION",o.EMPTY);function c(r){t(r)?r():r.unsubscribe()}n._RF.pop()}}}));

System.register("chunks:///_virtual/SubscriptionLog.ts",["cc"],(function(i){"use strict";var t;return{setters:[function(i){t=i.cclegacy}],execute:function(){t._RF.push({},"b9e51dB4/VGU4raRWdzuVQP","SubscriptionLog",void 0);i("SubscriptionLog",(function(i,t){void 0===t&&(t=1/0),this.subscribedFrame=i,this.unsubscribedFrame=t}));t._RF.pop()}}}));

System.register("chunks:///_virtual/SubscriptionLoggable.ts",["cc","./SubscriptionLog.ts"],(function(s){"use strict";var i,t;return{setters:[function(s){i=s.cclegacy},function(s){t=s.SubscriptionLog}],execute:function(){i._RF.push({},"231822j3mhLdbDcOHs3MVdH","SubscriptionLoggable",void 0);s("SubscriptionLoggable",function(){function s(){this.subscriptions=[],this.scheduler=void 0}var i=s.prototype;return i.logSubscribedFrame=function(){return this.subscriptions.push(new t(this.scheduler.now())),this.subscriptions.length-1},i.logUnsubscribedFrame=function(s){var i=this.subscriptions,n=i[s];i[s]=new t(n.subscribedFrame,this.scheduler.now())},s}());i._RF.pop()}}}));

System.register("chunks:///_virtual/switchAll.ts",["cc","./switchMap.ts","./identity.ts"],(function(t){"use strict";var c,i,n;return{setters:[function(t){c=t.cclegacy},function(t){i=t.switchMap},function(t){n=t.identity}],execute:function(){t("switchAll",(function(){return i(n)})),c._RF.push({},"0ab90aX241BMYRWyuvjkGpN","switchAll",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/Switcher.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TrapDoor.ts","./FloorDoor.ts","./Fan.ts","./BoltDoor.ts","./Dozer.ts","./ReactiveProperty.ts","./BaseView.ts","./BindCollider.ts","./index.ts","./ReactiveCommand.ts","./creator.ts","./map.ts","./distinctUntilChanged.ts","./throttleTime.ts"],(function(e){"use strict";var t,o,r,n,i,l,s,c,a,u,d,f,g,h,p,m,b,C,N,v,y,D,_,w;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,r=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator,s=e.v3,c=e.Node,a=e.find,u=e.BoxCollider,d=e.game},function(e){f=e.TrapDoor},function(e){g=e.FloorDoor},function(e){h=e.Fan},function(e){p=e.BoltDoor},function(e){m=e.Dozer},function(e){b=e.ReactiveProperty},function(e){C=e.BaseView},function(e){N=e.BindColliderTrigger},null,function(e){v=e.ReactiveCommand},function(e){y=e.nodeScheduler},function(e){D=e.map},function(e){_=e.distinctUntilChanged},function(e){w=e.throttleTime}],execute:function(){var z,T,B,x,S,E,F,P,R,j,I,L,M;i._RF.push({},"e2468ylbbdDFaxNr4NqJZBa","Switcher",void 0);var U=l.ccclass,V=l.property,k=s();e("Switcher",(z=U("Switcher"),T=V([c]),B=V([c]),x=V([c]),S=V([c]),E=V([c]),z((R=t((P=function(e){function t(){for(var t,o=arguments.length,i=new Array(o),l=0;l<o;l++)i[l]=arguments[l];return(t=e.call.apply(e,[this].concat(i))||this)._detector=null,t._boxCollider=null,t._meshNode=null,r(t,"dozerNodes",R,n(t)),r(t,"boltDoorNodes",j,n(t)),r(t,"fanNodes",I,n(t)),r(t,"floorNodes",L,n(t)),r(t,"trapNodes",M,n(t)),t.otherColliderCount=b.Create(0),t.triggeringCommand=v.Create(),t}o(t,e);var i=t.prototype;return i.willBind=function(){this._detector=a("Detector",this.node),this._boxCollider=this._detector.getComponent(u),null==this._meshNode&&(this._meshNode=a("Detector/mesh",this.node))},i.useObserves=function(){var e=this;return[this.otherColliderCount._subject.pipe(D((function(e){return e>0})),_()).subscribe((function(t){e._meshNode.getPosition(k),k.y=t?-.11:-.05,e._meshNode.setPosition(k)})),this.triggeringCommand._subject.pipe(w(100,y(this.node))).subscribe((function(t){e.log("@throttleTime",d.totalTime),e.dozerNodes.forEach((function(e){e.getComponent(m).triggered()})),e.boltDoorNodes.forEach((function(e){e.getComponent(p).triggered()})),e.fanNodes.forEach((function(e){e.getComponent(h).triggered()})),e.floorNodes.forEach((function(e){e.getComponent(g).triggered()})),e.trapNodes.forEach((function(e){var t=e.getComponent(f);null==t&&(t=e.getComponentInChildren(f)),t.triggered()}))}))]},i.start=function(){var e=this;this.getMainSubscription().add(N(this._boxCollider).subscribe((function(t){"onTriggerEnter"==t.event.type?(e.otherColliderCount.value++,e.log("Switcher triggered!",d.totalTime),e.triggeringCommand.execute()):"onTriggerExit"==t.event.type&&e.otherColliderCount.value--})))},t}(C)).prototype,"dozerNodes",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),j=t(P.prototype,"boltDoorNodes",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=t(P.prototype,"fanNodes",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),L=t(P.prototype,"floorNodes",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=t(P.prototype,"trapNodes",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=P))||F));i._RF.pop()}}}));

System.register("chunks:///_virtual/SwitcherInfrared.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Infrared.ts","./ReactiveProperty.ts","./BaseView.ts","./BindCollider.ts","./index.ts","./CreatorSchedule.ts","./CommonObservable.ts","./utils.ts","./map.ts","./distinctUntilChanged.ts","./concat2.ts","./of.ts"],(function(t){"use strict";var e,n,i,r,o,s,c,l,u,a,d,f,h,p,b,_,g,C,v,y,w;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){o=t.cclegacy,s=t._decorator,c=t.v3,l=t.Node,u=t.find,a=t.BoxCollider},function(t){d=t.Infrared},function(t){f=t.ReactiveProperty},function(t){h=t.BaseView},function(t){p=t.BindColliderTrigger},null,function(t){b=t.Timer},function(t){_=t.instantFunc},function(t){g=t.nullifySubscription},function(t){C=t.map},function(t){v=t.distinctUntilChanged},function(t){y=t.concat},function(t){w=t.of}],execute:function(){var m,S,O,I,M,x;o._RF.push({},"5d2cbNH/+1GuY99ZSFrOvfI","SwitcherInfrared",void 0);var B=s.ccclass,P=s.property,D=c();t("SwitcherInfrared",(m=B("SwitcherInfrared"),S=P([l]),m((M=e((I=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return(e=t.call.apply(t,[this].concat(o))||this)._detector=null,e._boxCollider=null,e._detectorMeshOn=null,e._detectorMeshOff=null,i(e,"infraredNodes",M,r(e)),i(e,"delay",x,r(e)),e._sub=null,e.otherColliderCount=f.Create(0),e}n(e,t);var o=e.prototype;return o.willBind=function(){this._detector=u("Detector",this.node),this._detectorMeshOn=u("mesh-on",this._detector),this._detectorMeshOff=u("mesh-off",this._detector),this._boxCollider=this._detector.getComponent(a)},o.useObserves=function(){var t=this;return[this.otherColliderCount._subject.pipe(C((function(t){return t>0})),v()).subscribe((function(e){g.call(t,"_sub"),t._sub=y(e?w(null):b(t.delay,t.node),_((function(){t.setSwitch(e)}))).subscribe()}))]},o.onDestroyView=function(){g.call(this,"_sub")},o.setSwitch=function(t){this._detector.getPosition(D),D.y=t?0:.06,this._detector.setPosition(D),this._detectorMeshOn.active=t,this._detectorMeshOff.active=!t,this.infraredNodes.forEach((function(e){t?e.getComponent(d).close():e.getComponent(d).open()}))},o.start=function(){var t=this;this.getMainSubscription().add(p(this._boxCollider).subscribe((function(e){"onTriggerEnter"==e.event.type?(t.otherColliderCount.value++,t.log("Switcher triggered!")):"onTriggerExit"==e.event.type&&t.otherColliderCount.value--})))},e}(h)).prototype,"infraredNodes",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=e(I.prototype,"delay",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),O=I))||O));o._RF.pop()}}}));

System.register("chunks:///_virtual/SwitcherTrap.ts",["./rollupPluginModLoBabelHelpers.js","cc","./TrapDoor.ts","./ReactiveProperty.ts","./BaseView.ts","./BindCollider.ts","./index.ts","./ReactiveCommand.ts","./creator.ts","./map.ts","./distinctUntilChanged.ts","./throttleTime.ts"],(function(e){"use strict";var t,i,r,o,n,s,c,l,u,a,d,h,p,g,f,m,C,_,b,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized,n=e.createClass},function(e){s=e.cclegacy,c=e._decorator,l=e.v3,u=e.Node,a=e.find,d=e.BoxCollider},function(e){h=e.TrapDoor},function(e){p=e.ReactiveProperty},function(e){g=e.BaseView},function(e){f=e.BindColliderTrigger},null,function(e){m=e.ReactiveCommand},function(e){C=e.nodeScheduler},function(e){_=e.map},function(e){b=e.distinctUntilChanged},function(e){v=e.throttleTime}],execute:function(){var y,w,N,T,x,D,B;s._RF.push({},"37ba7k59hxKvZiOUPBq6gOW","SwitcherTrap",void 0);var P=c.ccclass,S=c.property,R=l();e("SwitcherTrap",(y=P("SwitcherTrap"),w=S({slide:!0,range:[0,3,1]}),N=S([u]),y((D=t((x=function(e){function t(){for(var t,i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];return(t=e.call.apply(e,[this].concat(n))||this)._detector=null,t._boxCollider=null,t._meshNode=null,r(t,"_direction",D,o(t)),r(t,"trapNodes",B,o(t)),t.otherColliderCount=p.Create(0),t.triggeringCommand=m.Create(),t}i(t,e);var s=t.prototype;return s.willBind=function(){this._detector=a("Detector",this.node),this._boxCollider=this._detector.getComponent(d),null==this._meshNode&&(this._meshNode=a("Detector/mesh",this.node))},s.useObserves=function(){var e=this;return[this.otherColliderCount._subject.pipe(_((function(e){return e>0})),b()).subscribe((function(t){e._meshNode.getPosition(R),R.y=t?-.11:-.05,e._meshNode.setPosition(R)})),this.triggeringCommand._subject.pipe(v(100,C(this.node))).subscribe((function(t){e.trapNodes.forEach((function(e){var t=e.getComponent(h);null==t&&(t=e.getComponentInChildren(h)),t.triggered()}))}))]},s.start=function(){var e=this;this.getMainSubscription().add(f(this._boxCollider).subscribe((function(t){"onTriggerEnter"==t.event.type?(e.otherColliderCount.value++,e.log("Switcher triggered!"),e.triggeringCommand.execute()):"onTriggerExit"==t.event.type&&e.otherColliderCount.value--})))},n(t,[{key:"direction",get:function(){return this._direction},set:function(e){this._direction=e,null==this._meshNode&&(this._meshNode=a("Detector/mesh",this.node)),this._meshNode.setRotationFromEuler(l(0,-90*e-90,0))}}]),t}(g)).prototype,"_direction",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),t(x.prototype,"direction",[w],Object.getOwnPropertyDescriptor(x.prototype,"direction"),x.prototype),B=t(x.prototype,"trapNodes",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=x))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/switchMap.ts",["cc","./innerFrom.ts","./lift.ts","./OperatorSubscriber.ts"],(function(n){"use strict";var t,r,c,e;return{setters:[function(n){t=n.cclegacy},function(n){r=n.innerFrom},function(n){c=n.operate},function(n){e=n.createOperatorSubscriber}],execute:function(){n("switchMap",(function(n,t){return c((function(c,u){var i=null,s=0,o=!1,f=function(){return o&&!i&&u.complete()};c.subscribe(e(u,(function(c){var o;null==(o=i)||o.unsubscribe();var a=0,b=s++;r(n(c,b)).subscribe(i=e(u,(function(n){return u.next(t?t(c,n,b,a++):n)}),(function(){i=null,f()})))}),(function(){o=!0,f()})))}))})),t._RF.push({},"119efgChM5AoIqvRRFrn6Yc","switchMap",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/switchMapTo.ts",["cc","./switchMap.ts","./isFunction.ts"],(function(t){"use strict";var n,c,i;return{setters:[function(t){n=t.cclegacy},function(t){c=t.switchMap},function(t){i=t.isFunction}],execute:function(){t("switchMapTo",(function(t,n){return i(n)?c((function(){return t}),n):c((function(){return t}))})),n._RF.push({},"8f722O46GxG/K2Bk0fZOjX7","switchMapTo",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/switchScan.ts",["cc","./switchMap.ts","./lift.ts"],(function(t){"use strict";var n,c,i;return{setters:[function(t){n=t.cclegacy},function(t){c=t.switchMap},function(t){i=t.operate}],execute:function(){t("switchScan",(function(t,n){return i((function(i,u){var e=n;return c((function(n,c){return t(e,n,c)}),(function(t,n){return e=n,n}))(i).subscribe(u),function(){e=null}}))})),n._RF.push({},"e1e41SKW0BJN6ZsTmoUflih","switchScan",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/TabButtonStyle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts","./ReactiveProperty.ts","./AssetsRefs.ts"],(function(e){"use strict";var t,r,i,o,s,n,a,c,u,l,f,p;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){s=e.cclegacy,n=e._decorator,a=e.color,c=e.Label,u=e.Sprite},function(e){l=e.BaseView},function(e){f=e.ReactiveProperty},function(e){p=e.AssetsRefs}],execute:function(){var b,h,d,y,v,S,B;s._RF.push({},"e4a74kqQKxGgZ3A/0tfFAqE","TabButtonStyle",void 0);var R=n.ccclass,g=n.property,m=(n.executeInEditMode,a());e("TabButtonStyle",(b=R("TabButtonStyle"),h=g(c),d=g(u),b((S=t((v=function(e){function t(){for(var t,r=arguments.length,s=new Array(r),n=0;n<r;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))||this).choosed=f.Create(!1),i(t,"textLabel",S,o(t)),i(t,"boardSprite",B,o(t)),t}r(t,e);var s=t.prototype;return s.useObserves=function(){return[this.choosed.subscribe(this.refresh.bind(this))]},s.refresh=function(){this.choosed.value?(this.textLabel.color=m.fromHEX("#ffffff"),this.boardSprite.spriteFrame=p.instance.taskRefs.choosedBoard):(this.textLabel.color=m.fromHEX("#0083e5"),this.boardSprite.spriteFrame=p.instance.taskRefs.unchoosedBoard)},t}(l)).prototype,"textLabel",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(v.prototype,"boardSprite",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=v))||y));s._RF.pop()}}}));

System.register("chunks:///_virtual/take.ts",["cc","./empty.ts","./lift.ts","./OperatorSubscriber.ts"],(function(t){"use strict";var e,n,c,r;return{setters:[function(t){e=t.cclegacy},function(t){n=t.EMPTY},function(t){c=t.operate},function(t){r=t.createOperatorSubscriber}],execute:function(){t("take",(function(t){return t<=0?function(){return n}:c((function(e,n){var c=0;e.subscribe(r(n,(function(e){++c<=t&&(n.next(e),t<=c&&n.complete())})))}))})),e._RF.push({},"77f5dpD84JO1ZcqRYHVdJ+3","take",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/takeLast.ts",["./rollupPluginModLoBabelHelpers.js","cc","./empty.ts","./lift.ts","./OperatorSubscriber.ts"],(function(t){"use strict";var e,n,r,o,u;return{setters:[function(t){e=t.createForOfIteratorHelperLoose},function(t){n=t.cclegacy},function(t){r=t.EMPTY},function(t){o=t.operate},function(t){u=t.createOperatorSubscriber}],execute:function(){t("takeLast",(function(t){return t<=0?function(){return r}:o((function(n,r){var o=[];n.subscribe(u(r,(function(e){o.push(e),t<o.length&&o.shift()}),(function(){for(var t,n=e(o);!(t=n()).done;){var u=t.value;r.next(u)}r.complete()}),void 0,(function(){o=null})))}))})),n._RF.push({},"0abb23t/zZH2qiAoz6dat5b","takeLast",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/takeUntil.ts",["cc","./lift.ts","./OperatorSubscriber.ts","./innerFrom.ts","./noop.ts"],(function(t){"use strict";var n,e,r,c,i;return{setters:[function(t){n=t.cclegacy},function(t){e=t.operate},function(t){r=t.createOperatorSubscriber},function(t){c=t.innerFrom},function(t){i=t.noop}],execute:function(){t("takeUntil",(function(t){return e((function(n,e){c(t).subscribe(r(e,(function(){return e.complete()}),i)),!e.closed&&n.subscribe(e)}))})),n._RF.push({},"bbff1qpUnBL77Jjdkhj+/60","takeUntil",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/takeWhile.ts",["cc","./lift.ts","./OperatorSubscriber.ts"],(function(e){"use strict";var t,r,c;return{setters:[function(e){t=e.cclegacy},function(e){r=e.operate},function(e){c=e.createOperatorSubscriber}],execute:function(){e("takeWhile",(function(e,t){void 0===t&&(t=!1);return r((function(r,i){var n=0;r.subscribe(c(i,(function(r){var c=e(r,n++);(c||t)&&i.next(r),!c&&i.complete()})))}))})),t._RF.push({},"cded5F8vu5KF4WqxydTHdL2","takeWhile",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/tap.ts",["cc","./isFunction.ts","./lift.ts","./OperatorSubscriber.ts","./identity.ts"],(function(n){"use strict";var t,e,r,i,u;return{setters:[function(n){t=n.cclegacy},function(n){e=n.isFunction},function(n){r=n.operate},function(n){i=n.createOperatorSubscriber},function(n){u=n.identity}],execute:function(){n("tap",(function(n,t,c){var o=e(n)||t||c?{next:n,error:t,complete:c}:n;return o?r((function(n,t){null==o.subscribe||o.subscribe();var e=!0;n.subscribe(i(t,(function(n){null==o.next||o.next(n),t.next(n)}),(function(){e=!1,null==o.complete||o.complete(),t.complete()}),(function(n){e=!1,null==o.error||o.error(n),t.error(n)}),(function(){e&&(null==o.unsubscribe||o.unsubscribe()),null==o.finalize||o.finalize()})))})):u})),t._RF.push({},"87025NaVrVBWoSqPUbw74nU","tap",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/TaskHomeItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts","./ReactiveNumber.ts","./Enums.ts","./ReactiveProperty.ts","./DataManager.ts","./GameAssetsRefs.ts","./BindButton.ts","./GameManager.ts","./MergeWithTimer.ts","./UserDataManager.ts","./i18n.ts","./LanguageData.ts"],(function(e){"use strict";var t,i,o,n,r,a,s,c,u,l,d,f,m,h,p,b,g,v,y,N,k,w,x,B,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized,r=e.createClass},function(e){a=e.cclegacy,s=e._decorator,c=e.color,u=e.v3,l=e.Node,d=e.Label,f=e.Button,m=e.find,h=e.Sprite},function(e){p=e.BaseView},function(e){b=e.ReactiveNumber},function(e){g=e.TaskHomeStatus},function(e){v=e.ReactiveProperty},function(e){y=e.dm},function(e){N=e.GameAssetsRefs},function(e){k=e.BindButton},function(e){w=e.gm},function(e){x=e.MergeWithTimer},function(e){B=e.udm},null,function(e){I=e.t}],execute:function(){var T,D,H,P,C,E,_,z,L,R,S,M,X,U,j,G,F,V,A,O;a._RF.push({},"cab7feCeXxBTozGJ1FNdWvi","TaskHomeItem",void 0);var W=s.ccclass,J=s.property,q=s.executeInEditMode,K=c(),Q=u();e("TaskHomeItem",(T=W("TaskHomeItem"),D=J(l),H=J(d),P=J(l),C=J(l),E=J([l]),_=J([l]),z=J(f),L=J(b),R=J({type:g}),T(S=q((X=t((M=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,o(t,"boardNode",X,n(t)),o(t,"textLabel",U,n(t)),o(t,"gotNode",j,n(t)),o(t,"rewardNode",G,n(t)),o(t,"commonPairNodes",F,n(t)),o(t,"skinPairNodes",V,n(t)),o(t,"claimButton",A,n(t)),t.ID=v.Create(null),o(t,"_status",O,n(t)),t}i(t,e);var a=t.prototype;return a.useObserves=function(){return[this._status.subscribe(this.refreshStatus.bind(this)),x([this.ID._subject,B.taskHome._subject,B.taskHomeGotSet._subject]).subscribe(this.refresh.bind(this)),k(this.claimButton).subscribe(this.claimButtonClicked.bind(this))]},a.claimButtonClicked=function(){this.log("claimButtonClicked"),y.claimTaskHome(this.ID.value),w.frontTipShow(I("_.claimsuc")).subscribe()},a.refresh=function(){var e=this.ID.value;if(null!=e){var t=y.isTaskHomeCompleted(e),i=t.finished,o=t.completed;this.status=o?g.Completed:i?g.Unclaimed:g.Unfinished;var n=y.xlsx.Task.home[e],r=y.xlsx.Reward.index[n.RewardID],a=y.xlsx.Item.index[r.ItemID];[0,1].includes(a.Type)?this.commonPairNodes.forEach((function(e){e.active=!0,m("label",e).getComponent(d).string=""+r.Num})):this.commonPairNodes.forEach((function(e){e.active=!1,m("label",e).getComponent(d).string=""+r.Num})),2==a.Type?this.skinPairNodes.forEach((function(e){e.active=!0,m("icon",e).getComponent(h).spriteFrame=N.instance.playerSkinIcon.getIcons(a.SkinID)})):this.skinPairNodes.forEach((function(e){e.active=!1}));var s=I(y.xlsx.Task.type[n.TypeID].Text);n.Param.forEach((function(e,t){s=s.replace("{"+t+"}",e.toString())})),this.textLabel.string=s}},a.refreshStatus=function(){switch(this.status){case g.Unfinished:this.boardNode.getComponent(h).color=K.fromHEX("#27a2f0"),this.textLabel.color=K.fromHEX("#2ce9ff"),this.gotNode.active=!1,this.rewardNode.active=!0,this.rewardNode.setPosition(this.rewardNode.getPosition(Q).set(320,Q.y,Q.z)),this.claimButton.node.active=!1;break;case g.Unclaimed:this.boardNode.getComponent(h).color=K.fromHEX("#f7ec54"),this.textLabel.color=K.fromHEX("#6e48ed"),this.rewardNode.active=!1,this.claimButton.node.active=!0;break;case g.Completed:this.boardNode.getComponent(h).color=K.fromHEX("#6e48ed"),this.textLabel.color=K.fromHEX("#48d6fe"),this.gotNode.active=!0,this.rewardNode.active=!1,this.claimButton.node.active=!1}},r(t,[{key:"status",get:function(){return this._status.value},set:function(e){this._status.Value=e}}]),t}(p)).prototype,"boardNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(M.prototype,"textLabel",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(M.prototype,"gotNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(M.prototype,"rewardNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(M.prototype,"commonPairNodes",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=t(M.prototype,"skinPairNodes",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=t(M.prototype,"claimButton",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(M.prototype,"_status",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.DefaultValue(g.Unfinished)}}),t(M.prototype,"status",[R],Object.getOwnPropertyDescriptor(M.prototype,"status"),M.prototype),S=M))||S)||S));a._RF.pop()}}}));

System.register("chunks:///_virtual/TaskHomePanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePanel.ts","./index.ts","./TaskHomeScrollView.ts","./of.ts"],(function(e){"use strict";var n,r,t,o,i,l,s,a,c;return{setters:[function(e){n=e.applyDecoratedDescriptor,r=e.inheritsLoose,t=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,l=e._decorator},function(e){s=e.BasePanel},null,function(e){a=e.TaskHomeScrollView},function(e){c=e.of}],execute:function(){var u,p,f,w,m;i._RF.push({},"bf07eYH6/JAwbvCBrrmuKAV","TaskHomePanel",void 0);var y=l.ccclass,h=l.property;e("TaskHomePanel",(u=y("TaskHomePanel"),p=h(a),u((m=n((w=function(e){function n(){for(var n,r=arguments.length,i=new Array(r),l=0;l<r;l++)i[l]=arguments[l];return n=e.call.apply(e,[this].concat(i))||this,t(n,"scrollView",m,o(n)),n}return r(n,e),n.prototype.willOpen=function(){return this.scrollView.openScrollView(),c(null)},n}(s)).prototype,"scrollView",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=w))||f));i._RF.pop()}}}));

System.register("chunks:///_virtual/TaskHomeScrollView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LeanDynamicScrollView.ts","./SmartNodePool.ts","./Enums.ts","./DataManager.ts","./TaskHomeItem.ts"],(function(t){"use strict";var e,o,i,n,r,a,s,l,c,u,m,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Prefab},function(t){l=t.default},function(t){c=t.SmartNodePool},function(t){u=t.TaskHomeStatus},function(t){m=t.dm},function(t){f=t.TaskHomeItem}],execute:function(){var p,h,d,P,y;r._RF.push({},"fb104tLTEBMP5NtamEiAVcv","TaskHomeScrollView",void 0);var w=a.ccclass,k=a.property;t("TaskHomeScrollView",(p=w("TaskHomeScrollView"),h=k(s),p((y=e((P=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"itemPrefab",y,n(e)),e.itemPool=null,e}o(e,t);var r=e.prototype;return r.onLoadView=function(){t.prototype.onLoadView.call(this),this.itemPool=new c,this.itemPool.setPrefab(this.itemPrefab)},r.onDestroyView=function(){t.prototype.onDestroyView.call(this),this.itemPool.clear()},r.getDataCount=function(){return m.xlsx.Task.taskHomeIDList.length},r.getItemNode=function(){return this.itemPool.getNode()},r.putItemNode=function(t){return this.itemPool.putNode(t)},r.refreshRow=function(t){var e=this.currentItems[t].getComponent(f);e.status=u.Unfinished,e.ID.value=m.xlsx.Task.taskHomeIDList[t]},e}(l)).prototype,"itemPrefab",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=P))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/TaskPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePanel.ts","./GameManager.ts","./TabButtonStyle.ts","./Enums.ts","./BindButton.ts"],(function(t){"use strict";var e,n,o,i,u,a,r,s,l,c,b,f;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){u=t.cclegacy,a=t._decorator,r=t.Button},function(t){s=t.BasePanel},function(t){l=t.gm},function(t){c=t.TabButtonStyle},function(t){b=t.TaskTab},function(t){f=t.BindButton}],execute:function(){var B,g,p,h,m,v,d,k,y,T,P;u._RF.push({},"6a48fHsslZIF5MiImK4MIc/","TaskPanel",void 0);var S=a.ccclass,w=a.property;t("TaskPanel",(B=S("TaskPanel"),g=w(r),p=w(r),h=w(r),m=w(r),B((k=e((d=function(t){function e(){for(var e,n=arguments.length,u=new Array(n),a=0;a<n;a++)u[a]=arguments[a];return e=t.call.apply(t,[this].concat(u))||this,o(e,"closeButton",k,i(e)),o(e,"stageButton",y,i(e)),o(e,"homeButton",T,i(e)),o(e,"signButton",P,i(e)),e}n(e,t);var u=e.prototype;return u.useObserves=function(){var t=this;return[l.taskTab.subscribe((function(e){t.stageButton.getComponent(c).choosed.value=e==b.Stage,t.homeButton.getComponent(c).choosed.value=e==b.Home,t.signButton.getComponent(c).choosed.value=e==b.Sign})),f(this.closeButton).subscribe(this.closeButtonClicked.bind(this)),f(this.stageButton).subscribe((function(t){return l.taskTab.value=b.Stage})),f(this.homeButton).subscribe((function(t){return l.taskTab.value=b.Home})),f(this.signButton).subscribe((function(t){return l.taskTab.value=b.Sign}))]},u.onLoadView=function(){l.taskTab.value=b.Stage},u.closeButtonClicked=function(){l.taskPanelEnabled.value=!1},e}(s)).prototype,"closeButton",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=e(d.prototype,"stageButton",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(d.prototype,"homeButton",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=e(d.prototype,"signButton",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=d))||v));u._RF.pop()}}}));

System.register("chunks:///_virtual/TaskRefs.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){"use strict";var r,t,i,o,n;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){i=e.cclegacy,o=e._decorator,n=e.SpriteFrame}],execute:function(){var s,a,c,u,l,p,f;i._RF.push({},"2e94bga7/9EFalCfpVijsZJ","TaskRefs",void 0);var d=o.ccclass,h=o.property;e("TaskRefs",(s=d("TaskRefs"),a=h(n),c=h(n),s((p=r((l=function(){t(this,"unchoosedBoard",p,this),t(this,"choosedBoard",f,this)}).prototype,"unchoosedBoard",[a],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=r(l.prototype,"choosedBoard",[c],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),u=l))||u));i._RF.pop()}}}));

System.register("chunks:///_virtual/TaskSignItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts","./ReactiveNumber.ts","./Enums.ts","./ReactiveProperty.ts","./DataManager.ts","./GameAssetsRefs.ts","./BindButton.ts","./GameManager.ts","./MergeWithTimer.ts","./UserDataManager.ts","./i18n.ts","./LanguageData.ts"],(function(t){"use strict";var e,i,o,n,s,r,a,u,c,l,d,h,f,b,g,m,p,v,N,y,w,B,k,P,I,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized,s=t.createClass},function(t){r=t.cclegacy,a=t._decorator,u=t.color,c=t.v3,l=t.Node,d=t.Label,h=t.Button,f=t.find,b=t.Sprite,g=t.LabelOutline},function(t){m=t.BaseView},function(t){p=t.ReactiveNumber},function(t){v=t.TaskSignStatus},function(t){N=t.ReactiveProperty},function(t){y=t.dm},function(t){w=t.GameAssetsRefs},function(t){B=t.BindButton},function(t){k=t.gm},function(t){P=t.MergeWithTimer},function(t){I=t.udm},null,function(t){C=t.t}],execute:function(){var S,T,x,D,z,L,R,_,M,E,H,F,X,j,A,G,O,V,U,W,q,J;r._RF.push({},"be2e9gwPMtFp437OVUnf7Md","TaskSignItem",void 0);var K=a.ccclass,Q=a.property,Y=a.executeInEditMode,Z=u(),$=c();t("TaskSignItem",(S=K("TaskSignItem"),T=Q(l),x=Q(d),D=Q(l),z=Q(l),L=Q(l),R=Q(l),_=Q(h),M=Q(h),E=Q(p),H=Q({type:v}),S(F=Y((j=e((X=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,o(e,"boardNode",j,n(e)),o(e,"textLabel",A,n(e)),o(e,"gotNode",G,n(e)),o(e,"rewardNode",O,n(e)),o(e,"commonPairNode",V,n(e)),o(e,"skinPairNode",U,n(e)),o(e,"resignButton",W,n(e)),o(e,"claimButton",q,n(e)),e.ID=N.Create(null),o(e,"_status",J,n(e)),e.processing=!1,e}i(e,t);var r=e.prototype;return r.useObserves=function(){return[this._status.subscribe(this.refreshStatus.bind(this)),P([this.ID._subject,I.sign._subject,I.signGotSet._subject]).subscribe(this.refresh.bind(this)),B(this.resignButton).subscribe(this.resignButtonClicked.bind(this)),B(this.claimButton).subscribe(this.claimButtonClicked.bind(this))]},r.resignButtonClicked=function(){var t=this;this.log("resignButtonClicked"),this.processing||(this.processing=!0,y.showAdsForTaskResign(this.ID.value).subscribe((function(e){t.processing=!1,k.frontTipShow(C("f.claimsucc")).subscribe()})))},r.claimButtonClicked=function(){this.log("claimButtonClicked"),this.processing||(y.claimTaskSign(this.ID.value),k.frontTipShow(C("f.claimsucc")).subscribe())},r.refresh=function(){var t=this.ID.value;if(null!=t){var e=y.isSignRowActivated(t),i=e.activated,o=e.today;i?I.signGotSet.value.has(t)?this.status=v.Completed:this.status=o?v.Today:v.Missed:this.status=v.Future;var n=y.xlsx.Task.sign[t],s=y.xlsx.Reward.index[n.RewardID],r=y.xlsx.Item.index[s.ItemID];[0,1].includes(r.Type)?(this.commonPairNode.active=!0,f("label",this.commonPairNode).getComponent(d).string=""+s.Num):this.commonPairNode.active=!1,2==r.Type?(this.skinPairNode.active=!0,f("icon",this.skinPairNode).getComponent(b).spriteFrame=w.instance.playerSkinIcon.getIcons(r.SkinID)):this.skinPairNode.active=!1,this.textLabel.string=C("tsi.day").replace("{}",""+(this.ID.value+1))}},r.refreshStatus=function(){switch(this.rewardNode.getComponentInChildren(g).enabled=this.status==v.Today,this.status){case v.Future:this.boardNode.getComponent(b).color=Z.fromHEX("#27a2f0"),this.textLabel.color=Z.fromHEX("#2ce9ff"),this.gotNode.active=!1,this.rewardNode.active=!0,this.rewardNode.setPosition(this.rewardNode.getPosition($).set(320,$.y,$.z)),this.resignButton.node.active=!1,this.claimButton.node.active=!1;break;case v.Today:this.boardNode.getComponent(b).color=Z.fromHEX("#f7ec54"),this.textLabel.color=Z.fromHEX("#6e48ed"),this.gotNode.active=!1,this.rewardNode.active=!0,this.rewardNode.setPosition(this.rewardNode.getPosition($).set(-10,$.y,$.z)),this.resignButton.node.active=!1,this.claimButton.node.active=!0;break;case v.Missed:this.boardNode.getComponent(b).color=Z.fromHEX("#2bcbd9"),this.textLabel.color=Z.fromHEX("#ffffff"),this.gotNode.active=!1,this.rewardNode.active=!0,this.rewardNode.setPosition(this.rewardNode.getPosition($).set(-10,$.y,$.z)),this.resignButton.node.active=!0,this.claimButton.node.active=!1;break;case v.Completed:this.boardNode.getComponent(b).color=Z.fromHEX("#6e48ed"),this.textLabel.color=Z.fromHEX("#48d6fe"),this.gotNode.active=!0,this.rewardNode.active=!1,this.resignButton.node.active=!1,this.claimButton.node.active=!1}},s(e,[{key:"status",get:function(){return this._status.value},set:function(t){this._status.Value=t}}]),e}(m)).prototype,"boardNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(X.prototype,"textLabel",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(X.prototype,"gotNode",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(X.prototype,"rewardNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=e(X.prototype,"commonPairNode",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(X.prototype,"skinPairNode",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(X.prototype,"resignButton",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=e(X.prototype,"claimButton",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),J=e(X.prototype,"_status",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.DefaultValue(v.Future)}}),e(X.prototype,"status",[H],Object.getOwnPropertyDescriptor(X.prototype,"status"),X.prototype),F=X))||F)||F));r._RF.pop()}}}));

System.register("chunks:///_virtual/TaskSignPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePanel.ts","./TaskSignScrollView.ts","./of.ts"],(function(e){"use strict";var n,i,r,t,l,o,a,c,s;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,r=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){l=e.cclegacy,o=e._decorator},function(e){a=e.BasePanel},function(e){c=e.TaskSignScrollView},function(e){s=e.of}],execute:function(){var u,p,f,g,k;l._RF.push({},"d3cd4kJk+pNkbVFqkZaJjeu","TaskSignPanel",void 0);var S=o.ccclass,w=o.property;e("TaskSignPanel",(u=S("TaskSignPanel"),p=w(c),u((k=n((g=function(e){function n(){for(var n,i=arguments.length,l=new Array(i),o=0;o<i;o++)l[o]=arguments[o];return n=e.call.apply(e,[this].concat(l))||this,r(n,"scrollView",k,t(n)),n}return i(n,e),n.prototype.willOpen=function(){return this.scrollView.openScrollView(),s(null)},n}(a)).prototype,"scrollView",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=g))||f));l._RF.pop()}}}));

System.register("chunks:///_virtual/TaskSignScrollView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LeanDynamicScrollView.ts","./SmartNodePool.ts","./TaskSignItem.ts","./Enums.ts","./DataManager.ts"],(function(t){"use strict";var e,n,o,i,r,a,s,l,c,u,f,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Prefab},function(t){l=t.default},function(t){c=t.SmartNodePool},function(t){u=t.TaskSignItem},function(t){f=t.TaskSignStatus},function(t){p=t.dm}],execute:function(){var m,g,h,d,P;r._RF.push({},"62cedn6HbpCxKs1PnBFzdxN","TaskSignScrollView",void 0);var S=a.ccclass,y=a.property;t("TaskSignScrollView",(m=S("TaskSignScrollView"),g=y(s),m((P=e((d=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"itemPrefab",P,i(e)),e.itemPool=null,e}n(e,t);var r=e.prototype;return r.onLoadView=function(){t.prototype.onLoadView.call(this),this.itemPool=new c,this.itemPool.setPrefab(this.itemPrefab)},r.onDestroyView=function(){t.prototype.onDestroyView.call(this),this.itemPool.clear()},r.getDataCount=function(){return p.xlsx.Task.signLength},r.getItemNode=function(){return this.itemPool.getNode()},r.putItemNode=function(t){return this.itemPool.putNode(t)},r.refreshRow=function(t){var e=this.currentItems[t].getComponent(u);e.status=f.Future,e.ID.value=t},e}(l)).prototype,"itemPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=d))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/TaskStageItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts","./ReactiveNumber.ts","./Enums.ts","./ReactiveProperty.ts","./DataManager.ts","./GameAssetsRefs.ts","./BindButton.ts","./GameManager.ts","./MergeWithTimer.ts","./UserDataManager.ts","./i18n.ts","./LanguageData.ts"],(function(t){"use strict";var e,i,n,o,a,r,s,c,u,l,f,d,m,h,p,b,g,v,y,N,k,w,x,S,I;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized,a=t.createClass},function(t){r=t.cclegacy,s=t._decorator,c=t.color,u=t.v3,l=t.Node,f=t.Label,d=t.Button,m=t.find,h=t.Sprite},function(t){p=t.BaseView},function(t){b=t.ReactiveNumber},function(t){g=t.TaskStageStatus},function(t){v=t.ReactiveProperty},function(t){y=t.dm},function(t){N=t.GameAssetsRefs},function(t){k=t.BindButton},function(t){w=t.gm},function(t){x=t.MergeWithTimer},function(t){S=t.udm},null,function(t){I=t.t}],execute:function(){var B,T,D,P,C,E,_,z,L,R,H,M,U,X,j,G,O,V,A,F;r._RF.push({},"84cfbh1k/xLO6Qq9Kn8Z1ue","TaskStageItem",void 0);var W=s.ccclass,q=s.property,K=s.executeInEditMode,Q=c(),Z=u();t("TaskStageItem",(B=W("TaskStageItem"),T=q(l),D=q(f),P=q(l),C=q(l),E=q([l]),_=q([l]),z=q(d),L=q(b),R=q({type:g}),B(H=K((U=e((M=function(t){function e(){for(var e,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return e=t.call.apply(t,[this].concat(a))||this,n(e,"boardNode",U,o(e)),n(e,"textLabel",X,o(e)),n(e,"gotNode",j,o(e)),n(e,"rewardNode",G,o(e)),n(e,"commonPairNodes",O,o(e)),n(e,"skinPairNodes",V,o(e)),n(e,"claimButton",A,o(e)),e.ID=v.Create(null),n(e,"_status",F,o(e)),e}i(e,t);var r=e.prototype;return r.useObserves=function(){return[this._status.subscribe(this.refreshStatus.bind(this)),x([this.ID._subject,S.taskStage._subject,S.taskStageGotSet._subject]).subscribe(this.refresh.bind(this)),k(this.claimButton).subscribe(this.claimButtonClicked.bind(this))]},r.claimButtonClicked=function(){this.log("claimButtonClicked"),y.claimTaskStage(this.ID.value),w.frontTipShow(I("f.claimsucc")).subscribe()},r.refresh=function(){var t=this.ID.value;if(null!=t){var e=y.isTaskStageCompleted(t),i=e.finished,n=e.completed;this.status=n?g.Completed:i?g.Unclaimed:g.Unfinished;var o=y.xlsx.Task.stage[t],a=y.xlsx.Reward.index[o.RewardID],r=y.xlsx.Item.index[a.ItemID];[0,1].includes(r.Type)?this.commonPairNodes.forEach((function(t){t.active=!0,m("label",t).getComponent(f).string=""+a.Num})):this.commonPairNodes.forEach((function(t){t.active=!1,m("label",t).getComponent(f).string=""+a.Num})),2==r.Type?this.skinPairNodes.forEach((function(t){t.active=!0,m("icon",t).getComponent(h).spriteFrame=N.instance.playerSkinIcon.getIcons(r.SkinID)})):this.skinPairNodes.forEach((function(t){t.active=!1}));var s=I(y.xlsx.Task.type[o.TypeID].Text);o.Param.forEach((function(t,e){s=s.replace("{"+e+"}",t.toString())})),this.textLabel.string=s}},r.refreshStatus=function(){switch(this.status){case g.Unfinished:this.boardNode.getComponent(h).color=Q.fromHEX("#27a2f0"),this.textLabel.color=Q.fromHEX("#2ce9ff"),this.gotNode.active=!1,this.rewardNode.active=!0,this.rewardNode.setPosition(this.rewardNode.getPosition(Z).set(320,Z.y,Z.z)),this.claimButton.node.active=!1;break;case g.Unclaimed:this.boardNode.getComponent(h).color=Q.fromHEX("#f7ec54"),this.textLabel.color=Q.fromHEX("#6e48ed"),this.rewardNode.active=!1,this.claimButton.node.active=!0;break;case g.Completed:this.boardNode.getComponent(h).color=Q.fromHEX("#6e48ed"),this.textLabel.color=Q.fromHEX("#48d6fe"),this.gotNode.active=!0,this.rewardNode.active=!1,this.claimButton.node.active=!1}},a(e,[{key:"status",get:function(){return this._status.value},set:function(t){this._status.Value=t}}]),e}(p)).prototype,"boardNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=e(M.prototype,"textLabel",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(M.prototype,"gotNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(M.prototype,"rewardNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(M.prototype,"commonPairNodes",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=e(M.prototype,"skinPairNodes",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),A=e(M.prototype,"claimButton",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(M.prototype,"_status",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return b.DefaultValue(g.Unfinished)}}),e(M.prototype,"status",[R],Object.getOwnPropertyDescriptor(M.prototype,"status"),M.prototype),H=M))||H)||H));r._RF.pop()}}}));

System.register("chunks:///_virtual/TaskStagePanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePanel.ts","./index.ts","./TaskStageScrollView.ts","./of.ts"],(function(e){"use strict";var t,n,r,i,l,a,o,s,c;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator},function(e){o=e.BasePanel},null,function(e){s=e.TaskStageScrollView},function(e){c=e.of}],execute:function(){var u,p,f,g,w;l._RF.push({},"29fbf95KF9AOKEG40Ecetw1","TaskStagePanel",void 0);var S=a.ccclass,y=a.property;e("TaskStagePanel",(u=S("TaskStagePanel"),p=y(s),u((w=t((g=function(e){function t(){for(var t,n=arguments.length,l=new Array(n),a=0;a<n;a++)l[a]=arguments[a];return t=e.call.apply(e,[this].concat(l))||this,r(t,"scrollView",w,i(t)),t}return n(t,e),t.prototype.willOpen=function(){return this.scrollView.openScrollView(),c(null)},t}(o)).prototype,"scrollView",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=g))||f));l._RF.pop()}}}));

System.register("chunks:///_virtual/TaskStageScrollView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LeanDynamicScrollView.ts","./SmartNodePool.ts","./TaskStageItem.ts","./Enums.ts","./DataManager.ts"],(function(t){"use strict";var e,o,i,n,r,a,s,l,c,u,f,p;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,s=t.Prefab},function(t){l=t.default},function(t){c=t.SmartNodePool},function(t){u=t.TaskStageItem},function(t){f=t.TaskStageStatus},function(t){p=t.dm}],execute:function(){var m,g,h,S,d;r._RF.push({},"516bdg8C1pEOrBPnrjbA0rh","TaskStageScrollView",void 0);var P=a.ccclass,y=a.property;t("TaskStageScrollView",(m=P("TaskStageScrollView"),g=y(s),m((d=e((S=function(t){function e(){for(var e,o=arguments.length,r=new Array(o),a=0;a<o;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"itemPrefab",d,n(e)),e.itemPool=null,e}o(e,t);var r=e.prototype;return r.onLoadView=function(){t.prototype.onLoadView.call(this),this.itemPool=new c,this.itemPool.setPrefab(this.itemPrefab)},r.onDestroyView=function(){t.prototype.onDestroyView.call(this),this.itemPool.clear()},r.getDataCount=function(){return p.xlsx.Task.taskStageIDList.length},r.getItemNode=function(){return this.itemPool.getNode()},r.putItemNode=function(t){return this.itemPool.putNode(t)},r.refreshRow=function(t){var e=this.currentItems[t].getComponent(u);e.status=f.Unfinished,e.ID.value=p.xlsx.Task.taskStageIDList[t]},e}(l)).prototype,"itemPrefab",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=S))||h));r._RF.pop()}}}));

System.register("chunks:///_virtual/TestMessage.ts",["cc"],(function(){"use strict";var e;return{setters:[function(s){e=s.cclegacy}],execute:function(){e._RF.push({},"007e7yRLkBC4q6yGq5Np0Oq","TestMessage",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/TestScheduler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Observable2.ts","./ColdObservable.ts","./HotObservable.ts","./SubscriptionLog.ts","./VirtualTimeScheduler.ts","./NotificationFactories.ts","./dateTimestampProvider.ts","./performanceTimestampProvider.ts","./animationFrameProvider.ts","./immediateProvider.ts","./intervalProvider.ts","./timeoutProvider.ts"],(function(e){"use strict";var r,t,i,n,a,o,s,c,u,l,f,d,m,h,b,v,p,w;return{setters:[function(e){r=e.inheritsLoose,t=e.createForOfIteratorHelperLoose},function(e){i=e.cclegacy},function(e){n=e.Observable},function(e){a=e.ColdObservable},function(e){o=e.HotObservable},function(e){s=e.SubscriptionLog},function(e){c=e.VirtualTimeScheduler,u=e.VirtualAction},function(e){l=e.nextNotification,f=e.errorNotification,d=e.COMPLETE_NOTIFICATION},function(e){m=e.dateTimestampProvider},function(e){h=e.performanceTimestampProvider},function(e){b=e.animationFrameProvider},function(e){v=e.immediateProvider},function(e){p=e.intervalProvider},function(e){w=e.timeoutProvider}],execute:function(){i._RF.push({},"6dacdRO+spNR6OlcyHulmcq","TestScheduler",void 0);e("TestScheduler",function(e){function i(r){var t;return(t=e.call(this,u,750)||this).hotObservables=[],t.coldObservables=[],t.flushTests=[],t.runMode=!1,t.assertDeepEqual=r,t}r(i,e);var c=i.prototype;return c.createTime=function(e){var r=this.runMode?e.trim().indexOf("|"):e.indexOf("|");if(-1===r)throw new Error('marble diagram for time should have a completion marker "|"');return r*i.frameTimeFactor},c.createColdObservable=function(e,r,t){if(-1!==e.indexOf("^"))throw new Error('cold observable cannot have subscription offset "^"');if(-1!==e.indexOf("!"))throw new Error('cold observable cannot have unsubscription marker "!"');var n=i.parseMarbles(e,r,t,void 0,this.runMode),o=new a(n,this);return this.coldObservables.push(o),o},c.createHotObservable=function(e,r,t){if(-1!==e.indexOf("!"))throw new Error('hot observable cannot have unsubscription marker "!"');var n=i.parseMarbles(e,r,t,void 0,this.runMode),a=new o(n,this);return this.hotObservables.push(a),a},c.materializeInnerObservable=function(e,r){var t=this,i=[];return e.subscribe({next:function(e){i.push({frame:t.frame-r,notification:l(e)})},error:function(e){i.push({frame:t.frame-r,notification:f(e)})},complete:function(){i.push({frame:t.frame-r,notification:d})}}),i},c.expectObservable=function(e,r){var t=this;void 0===r&&(r=null);var a,o=[],s={actual:o,ready:!1},c=i.parseMarblesAsSubscriptions(r,this.runMode),u=c.subscribedFrame===1/0?0:c.subscribedFrame,m=c.unsubscribedFrame;this.schedule((function(){a=e.subscribe({next:function(e){var r=e instanceof n?t.materializeInnerObservable(e,t.frame):e;o.push({frame:t.frame,notification:l(r)})},error:function(e){o.push({frame:t.frame,notification:f(e)})},complete:function(){o.push({frame:t.frame,notification:d})}})}),u),m!==1/0&&this.schedule((function(){return a.unsubscribe()}),m),this.flushTests.push(s);var h=this.runMode;return{toBe:function(e,r,t){s.ready=!0,s.expected=i.parseMarbles(e,r,t,!0,h)},toEqual:function(e){s.ready=!0,s.expected=[],t.schedule((function(){a=e.subscribe({next:function(e){var r=e instanceof n?t.materializeInnerObservable(e,t.frame):e;s.expected.push({frame:t.frame,notification:l(r)})},error:function(e){s.expected.push({frame:t.frame,notification:f(e)})},complete:function(){s.expected.push({frame:t.frame,notification:d})}})}),u)}}},c.expectSubscriptions=function(e){var r={actual:e,ready:!1};this.flushTests.push(r);var t=this.runMode;return{toBe:function(e){var n="string"==typeof e?[e]:e;r.ready=!0,r.expected=n.map((function(e){return i.parseMarblesAsSubscriptions(e,t)})).filter((function(e){return e.subscribedFrame!==1/0}))}}},c.flush=function(){for(var r=this,t=this.hotObservables;t.length>0;)t.shift().setup();e.prototype.flush.call(this),this.flushTests=this.flushTests.filter((function(e){return!e.ready||(r.assertDeepEqual(e.actual,e.expected),!1)}))},i.parseMarblesAsSubscriptions=function(e,r){var t=this;if(void 0===r&&(r=!1),"string"!=typeof e)return new s(1/0);for(var i=[].concat(e),n=i.length,a=-1,o=1/0,c=1/0,u=0,l=function(e){var n=u,s=function(e){n+=e*t.frameTimeFactor},l=i[e];switch(l){case" ":r||s(1);break;case"-":s(1);break;case"(":a=u,s(1);break;case")":a=-1,s(1);break;case"^":if(o!==1/0)throw new Error("found a second subscription point '^' in a subscription marble diagram. There can only be one.");o=a>-1?a:u,s(1);break;case"!":if(c!==1/0)throw new Error("found a second unsubscription point '!' in a subscription marble diagram. There can only be one.");c=a>-1?a:u;break;default:if(r&&l.match(/^[0-9]$/)&&(0===e||" "===i[e-1])){var d=i.slice(e).join("").match(/^([0-9]+(?:\.[0-9]+)?)(ms|s|m) /);if(d){e+=d[0].length-1;var m,h=parseFloat(d[1]);switch(d[2]){case"ms":m=h;break;case"s":m=1e3*h;break;case"m":m=1e3*h*60}s(m/t.frameTimeFactor);break}}throw new Error("there can only be '^' and '!' markers in a subscription marble diagram. Found instead '"+l+"'.")}u=n,f=e},f=0;f<n;f++)l(f);return c<0?new s(o):new s(o,c)},i.parseMarbles=function(e,r,t,i,n){var o=this;if(void 0===i&&(i=!1),void 0===n&&(n=!1),-1!==e.indexOf("!"))throw new Error('conventional marble diagrams cannot have the unsubscription marker "!"');for(var s=[].concat(e),c=s.length,u=[],m=n?e.replace(/^[ ]+/,"").indexOf("^"):e.indexOf("^"),h=-1===m?0:m*-this.frameTimeFactor,b="object"!=typeof r?function(e){return e}:function(e){return i&&r[e]instanceof a?r[e].messages:r[e]},v=-1,p=function(e){var r,i=h,a=function(e){i+=e*o.frameTimeFactor},c=s[e];switch(c){case" ":n||a(1);break;case"-":a(1);break;case"(":v=h,a(1);break;case")":v=-1,a(1);break;case"|":r=d,a(1);break;case"^":a(1);break;case"#":r=f(t||"error"),a(1);break;default:if(n&&c.match(/^[0-9]$/)&&(0===e||" "===s[e-1])){var m=s.slice(e).join("").match(/^([0-9]+(?:\.[0-9]+)?)(ms|s|m) /);if(m){e+=m[0].length-1;var p,g=parseFloat(m[1]);switch(m[2]){case"ms":p=g;break;case"s":p=1e3*g;break;case"m":p=1e3*g*60}a(p/o.frameTimeFactor);break}}r=l(b(c)),a(1)}r&&u.push({frame:v>-1?v:h,notification:r}),h=i,w=e},w=0;w<c;w++)p(w);return u},c.createAnimator=function(){var e=this;if(!this.runMode)throw new Error("animate() must only be used in run mode");var r,n=0;return{animate:function(n){if(r)throw new Error("animate() must not be called more than once within run()");if(/[|#]/.test(n))throw new Error("animate() must not complete or error");r=new Map;for(var a,o=i.parseMarbles(n,void 0,void 0,void 0,!0),s=t(o);!(a=s()).done;){var c=a.value;e.schedule((function(){var t=e.now(),i=Array.from(r.values());r.clear();for(var n=0,a=i;n<a.length;n++){(0,a[n])(t)}}),c.frame)}},delegate:{requestAnimationFrame:function(e){if(!r)throw new Error("animate() was not called within run()");var t=++n;return r.set(t,e),t},cancelAnimationFrame:function(e){if(!r)throw new Error("animate() was not called within run()");r.delete(e)}}}},c.createDelegates=function(){var e=this,r=0,t=new Map,i=function r(){var i=e.now(),n=Array.from(t.values()).filter((function(e){return e.due<=i})),a=n.filter((function(e){return"immediate"===e.type}));if(a.length>0){var o=a[0],s=o.handle,c=o.handler;return t.delete(s),void c()}var u=n.filter((function(e){return"interval"===e.type}));if(u.length>0){var l=u[0],f=l.duration,d=l.handler;return l.due=i+f,l.subscription=e.schedule(r,f),void d()}var m=n.filter((function(e){return"timeout"===e.type}));if(m.length>0){var h=m[0],b=h.handle,v=h.handler;return t.delete(b),void v()}throw new Error("Expected a due immediate or interval")};return{immediate:{setImmediate:function(n){var a=++r;return t.set(a,{due:e.now(),duration:0,handle:a,handler:n,subscription:e.schedule(i,0),type:"immediate"}),a},clearImmediate:function(e){var r=t.get(e);r&&(r.subscription.unsubscribe(),t.delete(e))}},interval:{setInterval:function(n,a){void 0===a&&(a=0);var o=++r;return t.set(o,{due:e.now()+a,duration:a,handle:o,handler:n,subscription:e.schedule(i,a),type:"interval"}),o},clearInterval:function(e){var r=t.get(e);r&&(r.subscription.unsubscribe(),t.delete(e))}},timeout:{setTimeout:function(n,a){void 0===a&&(a=0);var o=++r;return t.set(o,{due:e.now()+a,duration:a,handle:o,handler:n,subscription:e.schedule(i,a),type:"timeout"}),o},clearTimeout:function(e){var r=t.get(e);r&&(r.subscription.unsubscribe(),t.delete(e))}}}},c.run=function(e){var r=i.frameTimeFactor,t=this.maxFrames;i.frameTimeFactor=1,this.maxFrames=1/0,this.runMode=!0;var n=this.createAnimator(),a=this.createDelegates();b.delegate=n.delegate,m.delegate=this,v.delegate=a.immediate,p.delegate=a.interval,w.delegate=a.timeout,h.delegate=this;var o={cold:this.createColdObservable.bind(this),hot:this.createHotObservable.bind(this),flush:this.flush.bind(this),time:this.createTime.bind(this),expectObservable:this.expectObservable.bind(this),expectSubscriptions:this.expectSubscriptions.bind(this),animate:n.animate};try{var s=e(o);return this.flush(),s}finally{i.frameTimeFactor=r,this.maxFrames=t,this.runMode=!1,b.delegate=void 0,m.delegate=void 0,v.delegate=void 0,p.delegate=void 0,w.delegate=void 0,h.delegate=void 0}},i}(c)).frameTimeFactor=10,i._RF.pop()}}}));

System.register("chunks:///_virtual/throttle.ts",["cc","./lift.ts","./OperatorSubscriber.ts","./innerFrom.ts"],(function(t){"use strict";var n,e,r,i;return{setters:[function(t){n=t.cclegacy},function(t){e=t.operate},function(t){r=t.createOperatorSubscriber},function(t){i=t.innerFrom}],execute:function(){t("throttle",(function(t,n){void 0===n&&(n=u);return e((function(e,u){var c=n,o=c.leading,l=c.trailing,s=!1,f=null,a=null,b=!1,d=function(){var t;null==(t=a)||t.unsubscribe(),a=null,l&&(g(),b&&u.complete())},p=function(){a=null,b&&u.complete()},v=function(n){return a=i(t(n)).subscribe(r(u,d,p))},g=function(){if(s){s=!1;var t=f;f=null,u.next(t),!b&&v(t)}};e.subscribe(r(u,(function(t){s=!0,f=t,(!a||a.closed)&&(o?g():v(t))}),(function(){b=!0,(!(l&&s&&a)||a.closed)&&u.complete()})))}))})),n._RF.push({},"fa0daSEILFEs6NV+ZK1dsWT","throttle",void 0);var u=t("defaultThrottleConfig",{leading:!0,trailing:!1});n._RF.pop()}}}));

System.register("chunks:///_virtual/throttleTime.ts",["cc","./async.ts","./throttle.ts","./timer.ts"],(function(t){"use strict";var e,n,c,r,i;return{setters:[function(t){e=t.cclegacy},function(t){n=t.asyncScheduler},function(t){c=t.throttle,r=t.defaultThrottleConfig},function(t){i=t.timer}],execute:function(){t("throttleTime",(function(t,e,o){void 0===e&&(e=n);void 0===o&&(o=r);var u=i(t,e);return c((function(){return u}),o)})),e._RF.push({},"a3eecCVpbNICYpcjx86zcsd","throttleTime",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/throwError.ts",["cc","./Observable2.ts","./isFunction.ts"],(function(r){"use strict";var n,t,e;return{setters:[function(r){n=r.cclegacy},function(r){t=r.Observable},function(r){e=r.isFunction}],execute:function(){r("throwError",(function(r,n){var u=e(r)?r:function(){return r},o=function(r){return r.error(u())};return new t(n?function(r){return n.schedule(o,0,r)}:o)})),n._RF.push({},"7b2d7dL995Fn63FCapAoL+q","throwError",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/throwIfEmpty.ts",["cc","./EmptyError.ts","./lift.ts","./OperatorSubscriber.ts"],(function(t){"use strict";var r,n,e,c;return{setters:[function(t){r=t.cclegacy},function(t){n=t.EmptyError},function(t){e=t.operate},function(t){c=t.createOperatorSubscriber}],execute:function(){function o(){return new n}t("throwIfEmpty",(function(t){void 0===t&&(t=o);return e((function(r,n){var e=!1;r.subscribe(c(n,(function(t){e=!0,n.next(t)}),(function(){return e?n.complete():n.error(t())})))}))})),r._RF.push({},"d70ba1ST/RAAKOsZoxbG3cD","throwIfEmpty",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/throwUnobservableError.ts",["cc"],(function(e){"use strict";var r;return{setters:[function(e){r=e.cclegacy}],execute:function(){e("createInvalidObservableTypeError",(function(e){return new TypeError("You provided "+(null!==e&&"object"==typeof e?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")})),r._RF.push({},"d0ff4HvXmxMPJEBBS4Di1G1","throwUnobservableError",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/timeInterval.ts",["cc","./async.ts","./lift.ts","./OperatorSubscriber.ts"],(function(t){"use strict";var e,n,r,i;return{setters:[function(t){e=t.cclegacy},function(t){n=t.asyncScheduler},function(t){r=t.operate},function(t){i=t.createOperatorSubscriber}],execute:function(){t("timeInterval",(function(t){void 0===t&&(t=n);return r((function(e,n){var r=t.now();e.subscribe(i(n,(function(e){var i=t.now(),u=i-r;r=i,n.next(new c(e,u))})))}))})),e._RF.push({},"14b91ChYedGhJpoCYiJsrEX","timeInterval",void 0);var c=t("TimeInterval",(function(t,e){this.value=t,this.interval=e}));e._RF.pop()}}}));

System.register("chunks:///_virtual/timeout.ts",["cc","./async.ts","./isDate.ts","./lift.ts","./innerFrom.ts","./createErrorClass.ts","./OperatorSubscriber.ts","./executeSchedule.ts"],(function(t){"use strict";var e,n,r,u,i,o,c,s;return{setters:[function(t){e=t.cclegacy},function(t){n=t.asyncScheduler},function(t){r=t.isValidDate},function(t){u=t.operate},function(t){i=t.innerFrom},function(t){o=t.createErrorClass},function(t){c=t.createOperatorSubscriber},function(t){s=t.executeSchedule}],execute:function(){t("timeout",(function(t,e){var o=r(t)?{first:t}:"number"==typeof t?{each:t}:t,l=o.first,f=o.each,h=o.with,b=void 0===h?a:h,d=o.scheduler,m=void 0===d?null!=e?e:n:d,v=o.meta,p=void 0===v?null:v;if(null==l&&null==f)throw new TypeError("No timeout provided.");return u((function(t,e){var n,r,u=null,o=0,a=function(t){r=s(e,m,(function(){try{n.unsubscribe(),i(b({meta:p,lastValue:u,seen:o})).subscribe(e)}catch(t){e.error(t)}}),t)};n=t.subscribe(c(e,(function(t){var n;null==(n=r)||n.unsubscribe(),o++,e.next(u=t),f>0&&a(f)}),void 0,void 0,(function(){var t,e;null!=(t=r)&&t.closed||(null==(e=r)||e.unsubscribe());u=null}))),!o&&a(null!=l?"number"==typeof l?l:+l-m.now():f)}))})),e._RF.push({},"8fa08jqalJHg5WyzUZtvFSV","timeout",void 0);var l=t("TimeoutError",o((function(t){return function(e){void 0===e&&(e=null),t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e}})));function a(t){throw new l(t)}e._RF.pop()}}}));

System.register("chunks:///_virtual/timeoutProvider.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"9fb84q846RKn4TnUNWEXlRr","timeoutProvider",void 0);var n=t("timeoutProvider",{setTimeout:function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t,e){for(var r=n.delegate,i=arguments.length,u=new Array(i>2?i-2:0),o=2;o<i;o++)u[o-2]=arguments[o];return null!=r&&r.setTimeout?r.setTimeout.apply(r,[t,e].concat(u)):setTimeout.apply(void 0,[t,e].concat(u))})),clearTimeout:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}((function(t){var e=n.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)})),delegate:void 0});e._RF.pop()}}}));

System.register("chunks:///_virtual/timeoutWith.ts",["cc","./async.ts","./isDate.ts","./timeout.ts"],(function(t){"use strict";var e,i,n,o;return{setters:[function(t){e=t.cclegacy},function(t){i=t.async},function(t){n=t.isValidDate},function(t){o=t.timeout}],execute:function(){t("timeoutWith",(function(t,e,u){var r,c,s,f;u=null!=(r=u)?r:i,n(t)?c=t:"number"==typeof t&&(s=t);if(!e)throw new TypeError("No observable provided to switch to");f=function(){return e};if(null==c&&null==s)throw new TypeError("No timeout provided.");return o({first:c,each:s,scheduler:u,with:f})})),e._RF.push({},"1fdc1UebJlEdaA0q8uAFXf/","timeoutWith",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/timer.ts",["cc","./Observable2.ts","./async.ts","./isScheduler.ts","./isDate.ts"],(function(e){"use strict";var t,n,c,i,s;return{setters:[function(e){t=e.cclegacy},function(e){n=e.Observable},function(e){c=e.async},function(e){i=e.isScheduler},function(e){s=e.isValidDate}],execute:function(){e("timer",(function(e,t,u){void 0===e&&(e=0);void 0===u&&(u=c);var r=-1;null!=t&&(i(t)?u=t:r=t);return new n((function(t){var n=s(e)?+e-u.now():e;n<0&&(n=0);var c=0;return u.schedule((function(){t.closed||(t.next(c++),0<=r?this.schedule(void 0,r):t.complete())}),n)}))})),t._RF.push({},"f681ePJKqZMM49lzWq1B8v+","timer",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/timerHandle.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"0787ahkVqBFcbZyGRKtW0h0","timerHandle",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/timestamp.ts",["cc","./dateTimestampProvider.ts","./map.ts"],(function(t){"use strict";var e,i,n;return{setters:[function(t){e=t.cclegacy},function(t){i=t.dateTimestampProvider},function(t){n=t.map}],execute:function(){t("timestamp",(function(t){void 0===t&&(t=i);return n((function(e){return{value:e,timestamp:t.now()}}))})),e._RF.push({},"393b7ZsI2FMH4pdScS4kX+N","timestamp",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/toArray.ts",["cc","./reduce.ts","./lift.ts"],(function(t){"use strict";var r,e,u;return{setters:[function(t){r=t.cclegacy},function(t){e=t.reduce},function(t){u=t.operate}],execute:function(){t("toArray",(function(){return u((function(t,r){e(n,[])(t).subscribe(r)}))})),r._RF.push({},"b37aeyY3B9MWaQ5u/LMGUWD","toArray",void 0);var n=function(t,r){return t.push(r),t};r._RF.pop()}}}));

System.register("chunks:///_virtual/TopLeftPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReactiveProperty.ts","./BasePanel.ts","./string.ts","./UserDataManager.ts","./utils.ts","./Observable2.ts","./TweenStart.ts","./DataManager.ts","./CreatorSchedule.ts","./date.ts","./GameManager.ts","./BindButton.ts","./Enums.ts","./lastValueFrom.ts","./UIManager.ts","./MergeWithTimer.ts"],(function(t){"use strict";var e,n,i,a,r,s,u,o,l,c,b,f,p,h,d,g,m,v,B,y,k,w,L,S,P,T,_,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,a=t.assertThisInitialized,r=t.asyncToGenerator,s=t.regeneratorRuntime},function(t){u=t.cclegacy,o=t._decorator,l=t.Button,c=t.Label},function(t){b=t.ReactiveProperty},function(t){f=t.BasePanel},function(t){p=t.toKDotString},function(t){h=t.udm},function(t){d=t.nullifySubscription},function(t){g=t.Observable},function(t){m=t.TweenToStart},function(t){v=t.dm},function(t){B=t.IntervalStartNow,y=t.NextFrame},function(t){k=t.MSRToString_tm_s},function(t){w=t.gm},function(t){L=t.BindButton},function(t){S=t.GameStatus,P=t.FlowStatus},function(t){T=t.lastValueFrom},function(t){_=t.uim},function(t){C=t.MergeWithTimer}],execute:function(){var N,x,M,R,V,z,D,F,I,O,E,G,j;u._RF.push({},"ade34rwkLZJorFsDgo9pZpi","TopLeftPanel",void 0);var A=o.ccclass,H=o.property;t("TopLeftPanel",(N=A("TopLeftPanel"),x=H(l),M=H(c),R=H(c),V=H(l),z=H(l),N((I=e((F=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))||this).psValue=b.Create(0),i(e,"psNodeButton",I,a(e)),i(e,"psLabel",O,a(e)),i(e,"remainLabel",E,a(e)),i(e,"settingButton",G,a(e)),i(e,"backButton",j,a(e)),e._sub_coin=null,e}n(e,t);var u=e.prototype;return u.useObserves=function(){var t=this;return[C([w.gameStatus._subject,w.atHome._subject]).subscribe((function(e){w.gameStatus.value==S.Playing||w.atHome.value?t.backButton.node.active=!0:t.backButton.node.active=!1})),this.psValue.subscribe((function(e){t.refreshPsValue()})),B(1,this.node).subscribe(this.intervalRefresh.bind(this)),h.ps.subscribe((function(e){t.psToAnim()})),L(this.settingButton).subscribe(this.settingButtonClicked.bind(this)),L(this.psNodeButton).subscribe(this.psNodeButtonClicked.bind(this)),L(this.backButton).subscribe(this.backButtonClicked.bind(this))]},u.refreshPsValue=function(){v.isInfNow()?this.psLabel.string="∞":this.psLabel.string=p(Math.round(this.psValue.value))+"/"+p(v.xlsx.PS.main.maxCount)},u.settingButtonClicked=function(){w.settingEnabled.value=!w.settingEnabled.value},u.psNodeButtonClicked=function(){this.log("psNodeButtonClicked"),w.getPsEnabled.value=!0},u.backButtonClicked=function(){var t=r(s().mark((function t(){return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this.log("backButtonClicked"),w.stageClear(!1),t.next=4,T(y());case 4:return w.stageNumSelected.value=h.curStage.value,w.flowStatus.value=P.Game,t.next=8,T(_.standby.whenTrueOnce());case 8:w.stageLoad({reason:"logo_start"});case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),u.intervalRefresh=function(){var t=v.refreshPs();null==t.remain||v.isInfNow()?this.remainLabel.node.active=!1:(this.remainLabel.node.active=!0,this.remainLabel.string=k(t.remain))},u.psToAnim=function(){var t=this;d.call(this,"_sub_coin"),this._sub_coin=new g((function(e){var n=m(t.psValue,.4,{value:h.ps.value.cur},{easing:"quadOut"}).subscribe({complete:function(){e.next(null),e.complete()}});return function(){n.unsubscribe()}})).subscribe()},e}(f)).prototype,"psNodeButton",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=e(F.prototype,"psLabel",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(F.prototype,"remainLabel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(F.prototype,"settingButton",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=e(F.prototype,"backButton",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=F))||D));u._RF.pop()}}}));

System.register("chunks:///_virtual/TopRightGoldCardPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePanel.ts","./GoldCards.ts","./UserDataManager.ts","./GameManager.ts"],(function(e){"use strict";var r,t,n,a,o,i,s,l,c,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){o=e.cclegacy,i=e._decorator},function(e){s=e.BasePanel},function(e){l=e.GoldCards},function(e){c=e.udm},function(e){u=e.gm}],execute:function(){var d,p,f,g,h;o._RF.push({},"06bb3YXfQxIn4acL/hZNXQI","TopRightGoldCardPanel",void 0);var b=i.ccclass,C=i.property;e("TopRightGoldCardPanel",(d=b("TopRightGoldCardPanel"),p=C(l),d((h=r((g=function(e){function r(){for(var r,t=arguments.length,o=new Array(t),i=0;i<t;i++)o[i]=arguments[i];return r=e.call.apply(e,[this].concat(o))||this,n(r,"goldCards",h,a(r)),r}return t(r,e),r.prototype.useObserves=function(){var e=this;return[u.atHome.subscribe((function(r){e.goldCards.node.active=!r})),c.goldCard.subscribe((function(r){e.goldCards.value=r}))]},r}(s)).prototype,"goldCards",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=g))||f));o._RF.pop()}}}));

System.register("chunks:///_virtual/TopRightPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReactiveProperty.ts","./BasePanel.ts","./string.ts","./UserDataManager.ts","./utils.ts","./Observable2.ts","./TweenStart.ts","./MergeWithTimer.ts"],(function(e){"use strict";var n,t,i,r,o,c,u,s,a,l,b,f,p,h,g;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){o=e.cclegacy,c=e._decorator,u=e.Label},function(e){s=e.ReactiveProperty},function(e){a=e.BasePanel},function(e){l=e.toKDotString},function(e){b=e.udm},function(e){f=e.nullifySubscription},function(e){p=e.Observable},function(e){h=e.TweenToStart},function(e){g=e.MergeWithTimer}],execute:function(){var v,T,y,_,P;o._RF.push({},"050f2GId/JOi5ENhgkFwTQG","TopRightPanel",void 0);var d=c.ccclass,m=c.property;e("TopRightPanel",(v=d("TopRightPanel"),T=m(u),v((P=n((_=function(e){function n(){for(var n,t=arguments.length,o=new Array(t),c=0;c<t;c++)o[c]=arguments[c];return(n=e.call.apply(e,[this].concat(o))||this).coinValue=s.Create(0),i(n,"coinLabel",P,r(n)),n._sub_coin=null,n}t(n,e);var o=n.prototype;return o.useObserves=function(){var e=this;return[this.coinValue.subscribe((function(n){e.coinLabel.string=l(Math.round(n))})),g([b.coin._subject]).subscribe((function(n){e.coinToAnim()}))]},o.coinToAnim=function(){var e=this;f.call(this,"_sub_coin"),this._sub_coin=new p((function(n){var t=h(e.coinValue,.4,{value:b.coin.value},{easing:"quadOut"}).subscribe({complete:function(){n.next(null),n.complete()}});return function(){t.unsubscribe()}})).subscribe()},n}(a)).prototype,"coinLabel",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=_))||y));o._RF.pop()}}}));

System.register("chunks:///_virtual/TouchEvent.ts",["cc","./index.ts","./Observable2.ts","./filter.ts"],(function(n){"use strict";var t,e,u,o,c,r,i,f;return{setters:[function(n){t=n.cclegacy,e=n.input,u=n.Input,o=n.v2,c=n.Vec2,r=n.screen},null,function(n){i=n.Observable},function(n){f=n.filter}],execute:function(){function v(){var n=this;return new i((function(t){var o=function(n){t.next(n)},c=function(n){t.next(n)};return e.on(u.EventType.TOUCH_END,o,n),e.on(u.EventType.TOUCH_CANCEL,c,n),function(){e.off(u.EventType.TOUCH_END,o,n),e.off(u.EventType.TOUCH_CANCEL,c,n)}}))}n({Click:function(){return v().pipe(f((function(n){return n.getStartLocation(T),n.getLocation(s),c.distance(T,s)<4*r.devicePixelRatio})))},TouchEnd:v,TouchMove:function(){var n=this;return new i((function(t){var o=function(n){return t.next(n)};return e.on(u.EventType.TOUCH_MOVE,o,n),function(){e.off(u.EventType.TOUCH_MOVE,o,n)}}))},TouchStart:function(){var n=this;return new i((function(t){var o=function(n){t.next(n)};return e.on(u.EventType.TOUCH_START,o,n),function(){e.off(u.EventType.TOUCH_START,o,n)}}))}}),t._RF.push({},"74a45oVsVpMO4lHG6MfN26m","TouchEvent",void 0);var T=o(),s=o();t._RF.pop()}}}));

System.register("chunks:///_virtual/touchFloat.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts","./BindNode.ts"],(function(t){"use strict";var e,o,n,s,c,i,u,r;return{setters:[function(t){e=t.inheritsLoose},function(t){o=t.cclegacy,n=t._decorator,s=t.v2,c=t.v3,i=t.Node},function(t){u=t.BaseView},function(t){r=t.BindNodeTouch}],execute:function(){var a;o._RF.push({},"eb30eopULtOUYlMhh4xQ+gK","touchFloat",void 0);var h=n.ccclass,l=(n.property,s()),p=c();t("touchFloat",h("touchFloat")(a=function(t){function o(){return t.apply(this,arguments)||this}return e(o,t),o.prototype.useObserves=function(){var t=this;return[r(this.node).subscribe((function(e){switch(e.type){case i.EventType.TOUCH_MOVE:e.touch.getUIDelta(l),t.node.getPosition(p),p.x+=l.x,p.y+=l.y,t.node.setPosition(p)}}))]},o}(u))||a);o._RF.pop()}}}));

System.register("chunks:///_virtual/Trail.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseView.ts"],(function(e){"use strict";var r,t,i,n;return{setters:[function(e){r=e.inheritsLoose},function(e){t=e.cclegacy,i=e._decorator},function(e){n=e.BaseView}],execute:function(){var s;t._RF.push({},"ee0feoDIqNDHIrxbMhSu017","Trail",void 0);var c=i.ccclass;i.property,e("Trail",c("Trail")(s=function(e){function t(){return e.apply(this,arguments)||this}return r(t,e),t}(n))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/TrapDoor.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Observable2.ts","./ReactiveNumber.ts","./ReactiveBoolean.ts","./BaseView.ts","./math.ts","./utils.ts","./TweenStart.ts"],(function(e){"use strict";var r,t,o,n,i,s,a,u,l,c,p,b,f,h,d;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized,i=e.createClass},function(e){s=e.cclegacy,a=e._decorator,u=e.v3},function(e){l=e.Observable},function(e){c=e.ReactiveNumber},function(e){p=e.ReactiveBoolean},function(e){b=e.BaseView},function(e){f=e.linear},function(e){h=e.nullifySubscription},function(e){d=e.TweenToStart}],execute:function(){var g,_,y,v,m,D,w,E,x,A,O,V;s._RF.push({},"81748h53eZL2aNHGhQQzTlj","TrapDoor",void 0);var T=a.ccclass,z=a.property,R=a.executeInEditMode,j=u();e("TrapDoor",(g=T("TrapDoor"),_=z(c),y=z({slide:!0,range:[0,360,1]}),v=z({slide:!0,range:[0,1,.01]}),m=z(p),D=z(p),g(w=R((x=r((E=function(e){function r(){for(var r,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return r=e.call.apply(e,[this].concat(i))||this,o(r,"_maxAngle",x,n(r)),o(r,"_progress",A,n(r)),o(r,"_reverse",O,n(r)),o(r,"_doorEnabled",V,n(r)),r._sub_door=null,r}t(r,e);var s=r.prototype;return s.willBind=function(){this._maxAngle.loadValue(),this._reverse.loadValue(),this._doorEnabled.loadValue()},s.refresh=function(){j.set(this.node.eulerAngles),j.y=f(0,1,0,this.reverse?-this.maxAngle:this.maxAngle,this.progress),this.node.setRotationFromEuler(j)},s.triggered=function(){this.doorEnabled?(this._doorEnabled.value=!1,this.closeDoor()):(this._doorEnabled.value=!0,this.openDoor())},s.openDoor=function(){var e=this;h.call(this,"_sub_door"),this._sub_door=new l((function(r){var t=d(e,.4,{progress:1},{easing:"quadInOut"}).subscribe();return function(){return t.unsubscribe()}})).subscribe()},s.closeDoor=function(){var e=this;h.call(this,"_sub_door"),this._sub_door=new l((function(r){var t=d(e,.4,{progress:0},{easing:"quadInOut"}).subscribe();return function(){return t.unsubscribe()}})).subscribe()},i(r,[{key:"maxAngle",get:function(){return this._maxAngle.value},set:function(e){this._maxAngle.Value=e}},{key:"progress",get:function(){return this._progress},set:function(e){this._progress=e,this.refresh()}},{key:"reverse",get:function(){return this._reverse.value},set:function(e){this._reverse.Value=e,this.refresh()}},{key:"doorEnabled",get:function(){return this._doorEnabled.value},set:function(e){this._doorEnabled.Value=e,this.progress=e?1:0,this.refresh()}}]),r}(b)).prototype,"_maxAngle",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return c.DefaultValue(90)}}),r(E.prototype,"maxAngle",[y],Object.getOwnPropertyDescriptor(E.prototype,"maxAngle"),E.prototype),A=r(E.prototype,"_progress",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),r(E.prototype,"progress",[v],Object.getOwnPropertyDescriptor(E.prototype,"progress"),E.prototype),O=r(E.prototype,"_reverse",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.DefaultValue(!1)}}),r(E.prototype,"reverse",[z],Object.getOwnPropertyDescriptor(E.prototype,"reverse"),E.prototype),V=r(E.prototype,"_doorEnabled",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.DefaultValue(!1)}}),r(E.prototype,"doorEnabled",[z],Object.getOwnPropertyDescriptor(E.prototype,"doorEnabled"),E.prototype),w=E))||w)||w));s._RF.pop()}}}));

System.register("chunks:///_virtual/Trigger.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enums.ts","./BaseView.ts","./BindCollider.ts","./TriggerResponse.ts"],(function(e){"use strict";var r,t,i,n,s,o,c,g,a,l,p,u;return{setters:[function(e){r=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){s=e.cclegacy,o=e._decorator,c=e.Collider,g=e.MeshRenderer},function(e){a=e.TriggerType},function(e){l=e.BaseView},function(e){p=e.BindColliderTrigger},function(e){u=e.TriggerResponse}],execute:function(){var f,y,d,T,h,b,m;s._RF.push({},"a83bcLCVr9L4aefkyGfVpMb","Trigger",void 0);var v=o.ccclass,E=o.property;e("Trigger",(f=v("Trigger"),y=E({type:a}),d=E([u]),f((b=r((h=function(e){function r(){for(var r,t=arguments.length,s=new Array(t),o=0;o<t;o++)s[o]=arguments[o];return r=e.call.apply(e,[this].concat(s))||this,i(r,"triggerType",b,n(r)),i(r,"triggerResponseItems",m,n(r)),r._collider=null,r.times=0,r}t(r,e);var s=r.prototype;return s.willBind=function(){this._collider=this.getComponent(c),this.getComponent(g).enabled=CC_EDITOR},s.start=function(){var e=this;this.getMainSubscription().add(p(this._collider).subscribe((function(r){"onTriggerEnter"==r.event.type?(e.triggerType==a.EveryEnter||e.triggerType==a.Once&&0==e.times)&&e.startProcess():"onTriggerExit"==r.event.type&&e.triggerType==a.EveryExit&&e.startProcess()})))},s.startProcess=function(){this.times++,this.triggerResponseItems.forEach((function(e){e.startProcess()}))},r}(l)).prototype,"triggerType",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a.Once}}),m=r(h.prototype,"triggerResponseItems",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=h))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/TriggerInfoItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Enums.ts"],(function(e){"use strict";var i,t,r,n,o,u,a,l;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.initializerDefineProperty},function(e){r=e.cclegacy,n=e._decorator,o=e.Node,u=e.Enum},function(e){a=e.TriggerInfoType,l=e.PatrolType}],execute:function(){var c,s,p,f,y,h,g,b,d,m,T,v,P,w;r._RF.push({},"e248dssAiVDb5xm4AmBdMHY","TriggerInfoItem",void 0);var I=n.ccclass,N=n.property;e("TriggerInfoItem",(c=I("TriggerInfoItem"),s=N({type:a}),p=N({visible:function(){return[a.Delay,a.MakeAFace,a.FaceToPlayer,a.Jump,a.NewPathTime].includes(this.type)}}),f=N({visible:function(){return[a.MakeAFace].includes(this.type)}}),y=N({visible:function(){return[a.NewPathTime,a.NewPathArrived].includes(this.type)},type:o}),h=N(o),g=N({visible:function(){return[a.NewPathTime,a.NewPathArrived].includes(this.type)},type:u(l)}),c((m=i((d=function(){t(this,"type",m,this),t(this,"during",T,this),t(this,"id",v,this),t(this,"pathNode",P,this),t(this,"patrolType",w,this)}).prototype,"type",[s],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return a.Delay}}),T=i(d.prototype,"during",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),v=i(d.prototype,"id",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),P=i(d.prototype,"pathNode",[y,h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(d.prototype,"patrolType",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return l.PingPong}}),b=d))||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/TriggerResponse.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Face.ts","./BaseView.ts","./CreatorSchedule.ts","./AnimationPlay.ts","./index.ts","./Npc.ts","./ReactiveProperty.ts","./RxSelfClearanceArrayLoop.ts","./TriggerInfoItem.ts","./Enums.ts","./utils.ts","./BundleAssetsManager.ts","./Enemy.ts","./of.ts","./map.ts"],(function(e){"use strict";var n,t,r,a,i,o,s,u,p,l,c,g,h,_,d,f,m,v,b,P,y,T,k;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){i=e.cclegacy,o=e._decorator,s=e.instantiate,u=e.find,p=e.Animation},function(e){l=e.Face},function(e){c=e.BaseView},function(e){g=e.Timer},function(e){h=e.AnimationPlay},null,function(e){_=e.Npc},function(e){d=e.ReactiveProperty},function(e){f=e.RxSelfClearanceArrayLoop},function(e){m=e.TriggerInfoItem},function(e){v=e.TriggerInfoType},function(e){b=e.nullifySubscription},function(e){P=e.bam},function(e){y=e.Enemy},function(e){T=e.of},function(e){k=e.map}],execute:function(){var x,I,C,w,A;i._RF.push({},"ccdddXwRixFTYNFRPlPWqOR","TriggerResponse",void 0);var B=o.ccclass,F=o.property;e("TriggerResponse",(x=B("TriggerResponse"),I=F([m]),x((A=n((w=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))||this)._sub=null,n.processing=d.Create(!1),r(n,"triggerInfoItems",A,a(n)),n._sub_jump=null,n}t(n,e);var i=n.prototype;return i.startProcess=function(){var e=this;if(this.log("startProcess"),!this.processing.value){this.processing.value=!0;var n=(new f).init(this.triggerInfoItems.length);null!=n&&(this._sub=n.subscribe({next:function(n){e.handleOne(n)},complete:function(){e.log("@all complete"),e.processing.value=!1}}),n.next())}},i.handleOne=function(e){this.log("handleOne",e);var n=e.v,t=e.self,r=this.triggerInfoItems[n];switch(r.type){case v.Delay:this._sub.add(g(r.during,this.node).subscribe((function(e){return t.next()})));break;case v.MakeAFace:this.makeAFace(r.id,r.during),t.next();break;case v.FaceToPlayer:this._sub.add(this.faceToPlayer(r.during).subscribe((function(e){return t.next()})));break;case v.Jump:this._sub.add(this.jump(r.during).subscribe((function(e){return t.next()})));break;case v.Pause:this.pause(),t.next();break;case v.Resume:this.resume(),t.next();break;case v.NewPathTime:this._sub.add(this.newPathTime(r).subscribe((function(e){return t.next()})));break;case v.NewPathArrived:this._sub.add(this.newPathArrived(r).subscribe((function(e){return t.next()})))}},i.onDestroyView=function(){b.call(this,"_sub"),b.call(this,"_sub_jump")},i.makeAFace=function(e,n){this.log("@do face",e,n);var t=s(P.prefabs.Face);t.setParent(this.node),t.getComponent(l).open(e,n)},i.faceToPlayer=function(e){var n;this.log("@do faceToPlayer");var t=null!=(n=this.getComponent(_))?n:this.getComponent(y);return null!=t&&t.intoFaceToPlayer(),e<0?T(null):g(e,this.node).pipe(k((function(e){null==t||t.outFromFaceToPlayer()})))},i.jump=function(e){this.log("@do jump"),b.call(this,"_sub_jump");var n=u("mesh",this.node).getComponent(p);return e<0?null!=n?h(n,"jump"):T(null):(null!=n&&(this._sub_jump=h(n,"jump").subscribe()),g(e,this.node))},i.pause=function(){this.log("@do pause");var e=this.getComponent(_);null!=e&&(e.patrolPause.value=!0);var n=this.getComponent(y);null!=n&&(n.patrolPause.value=!0)},i.resume=function(){this.log("@do resume");var e=this.getComponent(_);null!=e&&(e.patrolPause.value=!1);var n=this.getComponent(y);null!=n&&(n.patrolPause.value=!1)},i.newPathTime=function(e){var n;this.log("@newPathTime");var t=e.during,r=e.pathNode,a=e.patrolType,i=null!=(n=this.getComponent(_))?n:this.getComponent(y);return i._pingpong_reverse_bak=i._pingpong_reverse,i._pingpong_reverse=!1,i._pingpong_end_bak=i._pingpong_end,i._pingpong_end=!1,i.patrolTypeBak=i.patrolType,i.patrolType=a,i.refreshPath(r,!0),i.targetPathIdxBak=i.targetPathIdx.value,i.targetPathIdx.value=0,g(t,this.node).pipe(k((function(e){i._pingpong_reverse=i._pingpong_reverse_bak,i._pingpong_end=i._pingpong_end_bak,i.patrolType=i.patrolTypeBak,i.paths=i.pathsBak.map((function(e){return e})),i.targetPathIdx.value=i.targetPathIdxBak})))},i.newPathArrived=function(e){var n;this.log("@newPathArrived");e.during;var t=e.pathNode,r=e.patrolType,a=null!=(n=this.getComponent(_))?n:this.getComponent(y);return a._pingpong_reverse_bak=a._pingpong_reverse,a._pingpong_reverse=!1,a._pingpong_end_bak=a._pingpong_end,a._pingpong_end=!1,a.patrolTypeBak=a.patrolType,a.patrolType=r,a.refreshPath(t,!0),a.targetPathIdxBak=a.targetPathIdx.value,a.targetPathIdx.value=0,a.curPathIdx.value=null,a._pingpong_cur_loop=0,a.arrivedEndPointCommand._subject.pipe(k((function(e){a._pingpong_reverse=a._pingpong_reverse_bak,a._pingpong_end=a._pingpong_end_bak,a.patrolType=a.patrolTypeBak,a.paths=a.pathsBak.map((function(e){return e})),a.targetPathIdx.value=a.targetPathIdxBak,a.curPathIdx.value=null,a._pingpong_cur_loop=0})))},n}(c)).prototype,"triggerInfoItems",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),C=w))||C));i._RF.pop()}}}));

System.register("chunks:///_virtual/TutorialPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BasePanel.ts"],(function(t){"use strict";var e,n,r,a;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,r=t._decorator},function(t){a=t.BasePanel}],execute:function(){var o;n._RF.push({},"47dd3DLywlI/rK2vXw84Xc9","TutorialPanel",void 0);var u=r.ccclass;r.property,t("TutorialPanel",u("TutorialPanel")(o=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n}(a))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/TweenStart.ts",["cc","./index.ts","./ReactiveProperty.ts","./filter.ts","./map.ts","./Observable2.ts"],(function(t){"use strict";var e,n,r,u,o,a,i,c;return{setters:[function(t){e=t.cclegacy,n=t._decorator,r=t.director,u=t.tween},null,function(t){o=t.ReactiveProperty},function(t){a=t.filter},function(t){i=t.map},function(t){c=t.Observable}],execute:function(){t({TweenSimpleWithSkip:function(t){var e=s(r.getScene(),t),n=e.observable,u=e.skip;return{observable:n.pipe(a((function(t){return"update"==t.status})),i((function(t){return t.ratio}))),skip:u}},TweenToStart:function(t,e,n,r){return s(t,e,n,r).observable},TweenToStartWithSkip:function(t,e,n,r){return s(t,e,n,r)}}),e._RF.push({},"c82aflHbB9JHYUCn2t1Uhqt","TweenStart",void 0);n.ccclass,n.property;function s(t,e,n,r){var a=o.Create(!1);return{observable:new c((function(o){null==r&&(r={}),r.onStart=function(t){return o.next({target:t,status:"start"})},r.onUpdate=function(t,e){return o.next({target:t,ratio:e,status:"update"})},r.onComplete=function(t){o.next({target:t,status:"complete"}),o.complete()};var i=a.value?null:u(t).to(e,n,r).start();return a.subscribeWhenTrue((function(){o.next({target:t,status:"skip"}),o.complete()})),function(){i&&i.stop()}})),skip:function(){return a.value=!0}}}e._RF.pop()}}}));

System.register("chunks:///_virtual/types.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"b2ef9GgkONAarLPIJu/T5j4","types",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/types2.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"f561bkF7adFo51UItQ75zzA","types",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/Types3.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"26e38n8mwJOR4BYMZqpZMIg","Types",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/UIConfig.ts",["cc"],(function(e){"use strict";var a,t;return{setters:[function(e){a=e.cclegacy,t=e.Enum}],execute:function(){var n;e("PanelKey",void 0),a._RF.push({},"2822aPXeWtASaUMEQp+AlkR","UIConfig",void 0),function(e){e[e.AppPrivacyPanel=0]="AppPrivacyPanel",e[e.WaitingPanel=1]="WaitingPanel",e[e.FrontTipPanel=2]="FrontTipPanel",e[e.LogoPanel=3]="LogoPanel",e[e.GameStagePanel=4]="GameStagePanel",e[e.GameEditorPanel=5]="GameEditorPanel",e[e.SettingPanel=6]="SettingPanel",e[e.WinPanel=7]="WinPanel",e[e.LosePanel=8]="LosePanel",e[e.TutorialPanel=9]="TutorialPanel",e[e.TopRightPanel=10]="TopRightPanel",e[e.TopLeftPanel=11]="TopLeftPanel",e[e.GetPsPanel=12]="GetPsPanel",e[e.MainMenuPanel=13]="MainMenuPanel",e[e.PrewarPropPanel=14]="PrewarPropPanel",e[e.GameBottomPropsPanel=15]="GameBottomPropsPanel",e[e.LuckySkinPanel=16]="LuckySkinPanel",e[e.StageIndicatorPanel=17]="StageIndicatorPanel",e[e.SkinPanel=18]="SkinPanel",e[e.SkinSkinPanel=19]="SkinSkinPanel",e[e.BuildingUnlockPanel=20]="BuildingUnlockPanel",e[e.OpenHomeChestPanel=21]="OpenHomeChestPanel",e[e.TopRightGoldCardPanel=22]="TopRightGoldCardPanel",e[e.CodeChestPanel=23]="CodeChestPanel",e[e.TaskPanel=24]="TaskPanel",e[e.TaskSignPanel=25]="TaskSignPanel",e[e.TaskStagePanel=26]="TaskStagePanel",e[e.TaskHomePanel=27]="TaskHomePanel"}(n||(n=e("PanelKey",{}))),t(n);var P=e("UIConfigList",[[n.AppPrivacyPanel,{assetbundle:"ab_ui",assetPath:"Prefabs/AppPrivacyPanel/AppPrivacyPanel",tier:"tier2",destroy:!0}],[n.LogoPanel,{assetbundle:"ab_ui",assetPath:"Prefabs/LogoPanel/LogoPanel",tier:"tier1",destroy:!0}],[n.SettingPanel,{assetbundle:"ab_ui",assetPath:"Prefabs/SettingPanel/SettingPanel",tier:"tier2",destroy:!0}],[n.WinPanel,{assetbundle:"ab_ui",assetPath:"Prefabs/WinPanel/WinPanel",tier:"tier2",destroy:!0}],[n.LosePanel,{assetbundle:"ab_ui",assetPath:"Prefabs/LosePanel/LosePanel",tier:"tier2",destroy:!0}],[n.TutorialPanel,{assetbundle:"ab_ui",assetPath:"Prefabs/TutorialPanel/TutorialPanel",tier:"tier2",destroy:!0}],[n.GameEditorPanel,{assetbundle:"ab_ui",assetPath:"Prefabs/GameEditorPanel/GameEditorPanel",tier:"tier2",destroy:!0}],[n.GameStagePanel,{assetbundle:"ab_ui",assetPath:"Prefabs/GameStagePanel/GameStagePanel",tier:"game1",destroy:!0}],[n.FrontTipPanel,{assetbundle:"ab_ui",assetPath:"Prefabs/FrontTipPanel/FrontTipPanel",tier:"tier3",destroy:!0}],[n.WaitingPanel,{tier:"tier3",destroy:!1,scene:!0,name:"WaitingPanel"}],[n.TopRightPanel,{assetbundle:"ab_ui",assetPath:"Prefabs/TopRightPanel/TopRightPanel",tier:"tier2",destroy:!0}],[n.TopLeftPanel,{assetbundle:"ab_ui",assetPath:"Prefabs/TopLeftPanel/TopLeftPanel",tier:"tier2",destroy:!0}],[n.GetPsPanel,{assetbundle:"ab_ui",assetPath:"Prefabs/GetPsPanel/GetPsPanel",tier:"tier2",destroy:!0}],[n.MainMenuPanel,{assetbundle:"ab_ui",assetPath:"Prefabs/MainMenuPanel/MainMenuPanel",tier:"tier1",destroy:!0}],[n.PrewarPropPanel,{assetbundle:"ab_ui",assetPath:"Prefabs/PrewarPropPanel/PrewarPropPanel",tier:"tier2",destroy:!0}],[n.GameBottomPropsPanel,{assetbundle:"ab_ui",assetPath:"Prefabs/GameBottomPropsPanel/GameBottomPropsPanel",tier:"tier2",destroy:!0}],[n.LuckySkinPanel,{assetbundle:"ab_ui",assetPath:"Prefabs/LuckySkinPanel/LuckySkinPanel",tier:"tier2",destroy:!0}],[n.LuckySkinPanel,{assetbundle:"ab_ui",assetPath:"Prefabs/LuckySkinPanel/LuckySkinPanel",tier:"tier2",destroy:!0}],[n.StageIndicatorPanel,{assetbundle:"ab_ui",assetPath:"Prefabs/StageIndicatorPanel/StageIndicatorPanel",tier:"tier1",destroy:!0}],[n.SkinPanel,{assetbundle:"ab_ui",assetPath:"Prefabs/SkinPanel/SkinPanel",tier:"tier2",destroy:!0}],[n.SkinSkinPanel,{assetbundle:"ab_ui",assetPath:"Prefabs/SkinSkinPanel/SkinSkinPanel",tier:"tier2",destroy:!0}],[n.BuildingUnlockPanel,{assetbundle:"ab_ui",assetPath:"Prefabs/BuildingUnlockPanel/BuildingUnlockPanel",tier:"tier2",destroy:!0}],[n.OpenHomeChestPanel,{assetbundle:"ab_ui",assetPath:"Prefabs/OpenHomeChestPanel/OpenHomeChestPanel",tier:"tier2",destroy:!0}],[n.TopRightGoldCardPanel,{assetbundle:"ab_ui",assetPath:"Prefabs/TopRightGoldCardPanel/TopRightGoldCardPanel",tier:"tier2",destroy:!0}],[n.CodeChestPanel,{assetbundle:"ab_ui",assetPath:"Prefabs/CodeChestPanel/CodeChestPanel",tier:"tier2",destroy:!0}],[n.TaskPanel,{assetbundle:"ab_ui",assetPath:"Prefabs/TaskPanel/TaskPanel",tier:"tier1",destroy:!0}],[n.TaskSignPanel,{assetbundle:"ab_ui",assetPath:"Prefabs/TaskSignPanel/TaskSignPanel",tier:"tier1",destroy:!0}],[n.TaskStagePanel,{assetbundle:"ab_ui",assetPath:"Prefabs/TaskStagePanel/TaskStagePanel",tier:"tier1",destroy:!0}],[n.TaskHomePanel,{assetbundle:"ab_ui",assetPath:"Prefabs/TaskHomePanel/TaskHomePanel",tier:"tier1",destroy:!0}]]);e("UIConfig",new Map(P));a._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReactiveProperty.ts","./ReactiveCommand.ts","./BaseManager.ts"],(function(e){"use strict";var t,n,r,a,i,o,s,c,u,g;return{setters:[function(e){t=e.inheritsLoose,n=e.createClass},function(e){r=e.cclegacy,a=e._decorator,i=e.director,o=e.System,s=e.color},function(e){c=e.ReactiveProperty},function(e){u=e.ReactiveCommand},function(e){g=e.BaseManager}],execute:function(){var l,m;r._RF.push({},"dbcf0vBn/9PQ5gVwzUBXBrK","UIManager",void 0);var y=a.ccclass,f=(a.property,y("UIManager")(((m=function(e){function r(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return(t=e.call.apply(e,[this].concat(r))||this).registerInitWithScenePanelCommand=u.Create(),t.onPanelChangeCommand=u.Create(),t.standby=c.Create(!0),t}return t(r,e),r.registerSystem=function(){i.unregisterSystem(i.getSystem(r.ID)),i.registerSystem(r.ID,p,o.Priority.MEDIUM),p.init()},r.prototype.onInitManager=function(){this.log("onInitManager",this.timestamp)},n(r,[{key:"logColorOverride",get:function(){return s().fromHEX("#BBDDEE")}}]),r}(g)).instance=void 0,m.ID="ui_system",l=m))||l);globalThis.UIManager=f;var p=e("uim",f.instance=new f);r._RF.pop()}}}));

System.register("chunks:///_virtual/UIRoot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./DataConfig.ts","./UIManager.ts","./index.ts","./Enums.ts","./UIConfig.ts","./GameManager.ts","./BaseUIRoot.ts","./MergeWithTimer.ts","./map.ts","./forkJoin.ts"],(function(e){"use strict";var n,s,a,o,l,i,t,c,r,u,b,P,p,g,f,d;return{setters:[function(e){n=e.inheritsLoose,s=e.createClass},function(e){a=e.cclegacy,o=e._decorator,l=e.color},function(e){i=e.DevConfig},function(e){t=e.uim},null,function(e){c=e.FlowStatus,r=e.SkinTab,u=e.TaskTab},function(e){b=e.PanelKey},function(e){P=e.gm},function(e){p=e.BaseUIRoot},function(e){g=e.MergeWithTimer},function(e){f=e.map},function(e){d=e.forkJoin}],execute:function(){var h;a._RF.push({},"85243J/+TBJzItFX5h9walk","UIRoot",void 0);var k=o.ccclass,m=(o.property,new Map([[c.Empty,new Set],[c.Logo,new Set([b.LogoPanel,b.GameEditorPanel])],[c.Game,new Set([b.GameStagePanel,b.GameEditorPanel,b.TopRightPanel,b.TopLeftPanel])],[c.Win,new Set([b.WinPanel,b.TopRightPanel,b.TopLeftPanel])],[c.Lose,new Set([b.LosePanel,b.TopRightPanel,b.TopLeftPanel])]]));e("UIRoot",k("UIRoot")(h=function(e){function a(){return e.apply(this,arguments)||this}n(a,e);var o=a.prototype;return o.willBind=function(){P.uiRoot=this,i.isEditor||(m.get(c.Game).delete(b.GameEditorPanel),m.get(c.Logo).delete(b.GameEditorPanel))},o.useObserves=function(){var n=this;return[].concat(e.prototype.useObserves.call(this),[P.flowStatus.subscribePairWise((function(e){n.statusChangedWithConfig(e,m)})),P.frontTipEnabled.subscribe((function(e){e?n.openPanel(b.FrontTipPanel).subscribe():n.closePanel(b.FrontTipPanel).subscribe()})),P.settingEnabled.subscribe((function(e){e?n.openPanel(b.SettingPanel).subscribe():n.closePanel(b.SettingPanel).subscribe(),e&&(P.skinPanelEnabled.value=!1),e&&(P.prewarPropEnabled.value=!1)})),P.tutorialEnabled.subscribe((function(e){e?n.openPanel(b.TutorialPanel).subscribe():n.closePanel(b.TutorialPanel).subscribe()})),P.getPsEnabled.subscribe((function(e){e?n.openPanel(b.GetPsPanel).subscribe():n.closePanel(b.GetPsPanel).subscribe(),e&&(P.prewarPropEnabled.value=!1)})),P.mainMenuEnabled.subscribe((function(e){e?n.openPanel(b.MainMenuPanel).subscribe():n.closePanel(b.MainMenuPanel).subscribe(),e?n.openPanel(b.StageIndicatorPanel).subscribe():n.closePanel(b.StageIndicatorPanel).subscribe()})),P.gameBottomPropsEnabled.subscribe((function(e){e?n.openPanel(b.GameBottomPropsPanel).subscribe():n.closePanel(b.GameBottomPropsPanel).subscribe()})),P.luckySkinEnabled.subscribe((function(e){e?n.openPanel(b.LuckySkinPanel).subscribe():n.closePanel(b.LuckySkinPanel).subscribe()})),P.prewarPropEnabled.subscribe((function(e){e?n.openPanel(b.PrewarPropPanel).subscribe():n.closePanel(b.PrewarPropPanel).subscribe()})),P.skinPanelEnabled.subscribe((function(e){e?n.openPanel(b.SkinPanel).subscribe():n.closePanel(b.SkinPanel).subscribe(),e&&P.skinTab.value==r.Skin?n.openPanel(b.SkinSkinPanel).subscribe():n.closePanel(b.SkinSkinPanel).subscribe(),e&&(P.prewarPropEnabled.value=!1)})),P.buildingUnlockEnabled.subscribe((function(e){e?n.openPanel(b.BuildingUnlockPanel).subscribe():n.closePanel(b.BuildingUnlockPanel).subscribe()})),P.openHomeChestEnabled.subscribe((function(e){e?n.openPanel(b.OpenHomeChestPanel).subscribe():n.closePanel(b.OpenHomeChestPanel).subscribe()})),P.topRightGoldCardEnabled.subscribe((function(e){e?n.openPanel(b.TopRightGoldCardPanel).subscribe():n.closePanel(b.TopRightGoldCardPanel).subscribe()})),P.codeChestEnabled.subscribe((function(e){e?n.openPanel(b.CodeChestPanel).subscribe():n.closePanel(b.CodeChestPanel).subscribe()})),P.atHome.subscribe((function(e){e&&(P.prewarPropEnabled.value=!1)})),P.taskPanelEnabled.subscribe((function(e){e?n.openPanel(b.TaskPanel).subscribe():n.closePanel(b.TaskPanel).subscribe(),e||(n.closePanel(b.TaskSignPanel).subscribe(),n.closePanel(b.TaskStagePanel).subscribe(),n.closePanel(b.TaskHomePanel).subscribe())})),g([P.loadingAssets._subject]).subscribe((function(e){P.loadingAssets.value?n.openPanel(b.WaitingPanel).subscribe():n.closePanel(b.WaitingPanel).subscribe()})),P.taskTab.subscribe((function(e){e==u.Sign?n.openPanel(b.TaskSignPanel).subscribe():n.closePanel(b.TaskSignPanel).subscribe(),e==u.Stage?n.openPanel(b.TaskStagePanel).subscribe():n.closePanel(b.TaskStagePanel).subscribe(),e==u.Home?n.openPanel(b.TaskHomePanel).subscribe():n.closePanel(b.TaskHomePanel).subscribe()}))])},o.statusChangedWithConfig=function(e,n){var s=this;this.log("@statusChangedWithConfig",e,n);var a=n.get(e[0]),o=n.get(e[1]),l=[];a.forEach((function(e){o.has(e)||l.push(s.closePanel(e).pipe(f((function(e){return t.onPanelChangeCommand.execute(e),e}))))})),o.forEach((function(e){a.has(e)||l.push(s.openPanel(e).pipe(f((function(e){return t.onPanelChangeCommand.execute(e),e}))))})),l.length>0&&(t.standby.value=!1,d(l).subscribe({complete:function(){return t.standby.value=!0}}))},s(a,[{key:"logColorOverride",get:function(){return l().fromHEX("#DDDDEE")}}]),a}(p))||h);a._RF.pop()}}}));

System.register("chunks:///_virtual/UnsubscriptionError.ts",["cc","./createErrorClass.ts"],(function(r){"use strict";var n,t;return{setters:[function(r){n=r.cclegacy},function(r){t=r.createErrorClass}],execute:function(){n._RF.push({},"39a12NGl+pHqKK+bUpPgtoE","UnsubscriptionError",void 0);r("UnsubscriptionError",t((function(r){return function(n){r(this),this.message=n?n.length+" errors occurred during unsubscription:\n"+n.map((function(r,n){return n+1+") "+r.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=n}})));n._RF.pop()}}}));

System.register("chunks:///_virtual/UserDataManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ReactiveProperty.ts","./BaseManager.ts","./DataManager.ts"],(function(t){"use strict";var e,i,l,a,s,n,u,o,r,v,h;return{setters:[function(t){e=t.inheritsLoose,i=t.createClass},function(t){l=t.cclegacy,a=t._decorator,s=t.director,n=t.System,u=t.sys,o=t.color},function(t){r=t.ReactiveProperty},function(t){v=t.BaseManager},function(t){h=t.dm}],execute:function(){var g,c;l._RF.push({},"1462aK9bPNNH60rZiqwoB3i","UserDataManager",void 0);var d=a.ccclass,S=(a.property,t("UserDataManager",d("UserDataManager")(((c=function(t){function l(){for(var e,i=arguments.length,l=new Array(i),a=0;a<i;a++)l[a]=arguments[a];return(e=t.call.apply(t,[this].concat(l))||this).bgmOn=(new r).init(!0),e.sfxOn=(new r).init(!0),e.curStage=(new r).init(0),e.maxStage=(new r).init(0),e.ad=(new r).init(null),e.skinNum=r.Create(0),e.skinGot=r.Create([]),e.luckySkinC=r.Create(0),e.luckySkinP=r.Create(0),e.chestP=r.Create(0),e.loseCount=r.Create(0),e.goldCard=r.Create(0),e.goldCardGot=r.Create([]),e.safeBoxGot=r.Create([]),e.coin=r.Create(0),e.ps=r.Create(null),e.pp=r.Create(null),e.stat=r.Create(null),e.building=r.Create(null),e.buildingGotSet=r.Create(new Set),e.homeChest=r.Create(null),e.sign=r.Create(null),e.signGotSet=r.Create(new Set),e.taskStage=r.Create(null),e.taskStageGotSet=r.Create(new Set),e.taskHome=r.Create(null),e.taskHomeGotSet=r.Create(new Set),e.policy=r.Create(!1),e.localstorageKey="profile0",e._uninitialized_ps=!1,e._uninitialized_sign=!1,e}e(l,t),l.registerSystem=function(){s.unregisterSystem(s.getSystem(l.ID)),s.registerSystem(l.ID,k,n.Priority.MEDIUM),k.init()};var a=l.prototype;return a.onInitManager=function(){this.log("onInitManager",this.timestamp),this.load()},a.useObserves=function(){var t=this;return[this.curStage.subscribe((function(e){t.maxStage.value=Math.max(t.curStage.value,t.maxStage.value)})),this.sign.subscribe((function(e){t.signGotSet.value=new Set(null==e?void 0:e.got)})),this.taskStage.subscribe((function(e){t.taskStageGotSet.value=new Set(null==e?void 0:e.got)})),this.taskHome.subscribe((function(e){t.taskHomeGotSet.value=new Set(null==e?void 0:e.got)})),this.building.subscribe((function(e){null!=t.building.value&&(t.buildingGotSet.value=new Set(Object.entries(t.building.value).filter((function(t){return t[1].got>0})).map((function(t){return Number(t[0])}))))}))]},a.stringify=function(){return JSON.stringify({bgm:this.bgmOn.value,sfx:this.sfxOn.value,curStage:this.curStage.value,maxStage:this.maxStage.value,ad:this.ad.value,skinNum:this.skinNum.value,skinGot:this.skinGot.value,luckySkinC:this.luckySkinC.value,luckySkinP:this.luckySkinP.value,loseCount:this.loseCount.value,goldCard:this.goldCard.value,goldCardGot:this.goldCardGot.value,safeBoxGot:this.safeBoxGot.value,coin:this.coin.value,ps:this.ps.value,pp:this.pp.value,stat:this.stat.value,building:this.building.value,homeChest:this.homeChest.value,chestP:this.chestP.value,sign:this.sign.value,taskStage:this.taskStage.value,taskHome:this.taskHome.value,policy:this.policy.value})},a.correct=function(){var t,e;(null!=(t=this.curStage.value)?t:0)<=0&&(this.curStage.value=1),(null!=(e=this.maxStage.value)?e:0)<=0&&(this.maxStage.value=1);var i=this.ad.value;null==i&&(i={}),null==i.infAt&&(i.infAt=null),null==i.infAdCount&&(i.infAdCount=0),this.ad.value=i,null==this.ps.value&&(this.ps.value={},this._uninitialized_ps=!0),null==this.pp.value&&(this.pp.value={}),null==this.skinGot.value&&(this.skinGot.value=[]);var l=new Set(this.skinGot.value);l.has(1)||l.add(1),this.skinGot.value=Array.from(l),l.has(this.skinNum.value)||(this.skinNum.value=1),null==this.building.value&&(this.building.value={}),null==this.homeChest.value&&(this.homeChest.value={updAt:new Date(0),list:[]}),null==this.sign.value&&(this.sign.value={},this._uninitialized_sign=!0),null==this.sign.value.startAt&&(this._uninitialized_sign=!0),null==this.taskStage.value&&(this.taskStage.value={}),null==this.taskHome.value&&(this.taskHome.value={})},a.parse=function(t){var e,i,l,a,s,n,u,o,r,v,h,g,c,d,S,k,m,p,C,f,y,b,G,x,_,w,D,P,M,H,N,A,O,z,B,I,U,E,K,R,j={};null!=t&&""!=t&&(j=JSON.parse(t)),this.bgmOn.value=null==(e=null==(i=j)?void 0:i.bgm)||e,this.sfxOn.value=null==(l=null==(a=j)?void 0:a.sfx)||l,this.curStage.value=null!=(s=null==(n=j)?void 0:n.curStage)?s:1,this.maxStage.value=null!=(u=null==(o=j)?void 0:o.maxStage)?u:1,this.ad.value=null==(r=j)?void 0:r.ad,this.skinNum.value=null!=(v=null==(h=j)?void 0:h.skinNum)?v:1,this.skinGot.value=null!=(g=null==(c=j)?void 0:c.skinGot)?g:[],this.luckySkinC.value=null!=(d=null==(S=j)?void 0:S.luckySkinC)?d:0,this.luckySkinP.value=null!=(k=null==(m=j)?void 0:m.luckySkinP)?k:0,this.loseCount.value=null!=(p=null==(C=j)?void 0:C.loseCount)?p:0,this.goldCard.value=null!=(f=null==(y=j)?void 0:y.goldCard)?f:0,this.goldCardGot.value=null!=(b=null==(G=j)?void 0:G.goldCardGot)?b:[],this.safeBoxGot.value=null!=(x=null==(_=j)?void 0:_.safeBoxGot)?x:[],this.coin.value=null!=(w=null==(D=j)?void 0:D.coin)?w:0,this.ps.value=null==(P=j)?void 0:P.ps,this.pp.value=null==(M=j)?void 0:M.pp,this.stat.value=null!=(H=null==(N=j)?void 0:N.stat)?H:{},this.building.value=null==(A=j)?void 0:A.building,this.homeChest.value=null==(O=j)?void 0:O.homeChest,this.chestP.value=null!=(z=null==(B=j)?void 0:B.chestP)?z:0,this.sign.value=null==(I=j)?void 0:I.sign,this.taskStage.value=null==(U=j)?void 0:U.taskStage,this.taskHome.value=null==(E=j)?void 0:E.taskHome,this.policy.value=null!=(K=null==(R=j)?void 0:R.policy)&&K,this.correct()},a.save=function(){this.correct();var t=this.stringify();u.localStorage.setItem(this.localstorageKey,t),this.parse(t)},a.load=function(){var t=u.localStorage.getItem(this.localstorageKey);this.parse(t)},a.initialize=function(){this._uninitialized_ps&&(null==this.ps.value.cur&&(this.ps.value.cur=h.xlsx.PS.main.initCount),null==this.ps.value.updAt&&(this.ps.value.updAt=new Date),this._uninitialized_ps=!1,this.save()),this._uninitialized_sign&&(this.sign.value.startAt=new Date,this.save())},i(l,[{key:"logColorOverride",get:function(){return o().fromHEX("#EEDDDD")}}]),l}(v)).instance=void 0,c.ID="userdata_system",g=c))||g));globalThis.UserDataManager=S;var k=t("udm",S.instance=new S);l._RF.pop()}}}));

System.register("chunks:///_virtual/using.ts",["cc","./Observable2.ts","./innerFrom.ts","./empty.ts"],(function(n){"use strict";var e,t,u,i;return{setters:[function(n){e=n.cclegacy},function(n){t=n.Observable},function(n){u=n.innerFrom},function(n){i=n.EMPTY}],execute:function(){n("using",(function(n,e){return new t((function(t){var r=n(),s=e(r);return(s?u(s):i).subscribe(t),function(){r&&r.unsubscribe()}}))})),e._RF.push({},"2f86eC82DdFGLeiec8Kw2jR","using",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/utils.ts",["cc"],(function(t){"use strict";var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){t({deleteSubscription:function(t){null!=this[t]&&(this[t].unsubscribe(),delete this[t])},nullifySubscription:function(t){null!=this[t]&&(this[t].unsubscribe(),this[t]=null)}}),i._RF.push({},"6005cJxB2lCa5BtLhFVqXPS","utils",void 0),i._RF.pop()}}}));

System.register("chunks:///_virtual/UUID.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"f187aZuXDJGH4J0QoWOj6Mn","UUID",void 0);t("uid",new(function(){function t(){}return t.prototype.make=function(){return"no uuid maker"},t}()));n._RF.pop()}}}));

System.register("chunks:///_virtual/VirtualTimeScheduler.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AsyncAction.ts","./Subscription.ts","./AsyncScheduler.ts"],(function(e){"use strict";var t,i,n,r,c;return{setters:[function(e){t=e.inheritsLoose},function(e){i=e.cclegacy},function(e){n=e.AsyncAction},function(e){r=e.Subscription},function(e){c=e.AsyncScheduler}],execute:function(){i._RF.push({},"668fbUzmKpDu6aHK5//PJWE","VirtualTimeScheduler",void 0),e("VirtualTimeScheduler",function(e){function i(t,i){var n;return void 0===t&&(t=s),void 0===i&&(i=1/0),(n=e.call(this,t,(function(){return n.frame}))||this).frame=0,n.index=-1,n.maxFrames=i,n}return t(i,e),i.prototype.flush=function(){for(var e,t,i=this.actions,n=this.maxFrames;(t=i[0])&&t.delay<=n&&(i.shift(),this.frame=t.delay,!(e=t.execute(t.state,t.delay))););if(e){for(;t=i.shift();)t.unsubscribe();throw e}},i}(c)).frameTimeFactor=10;var s=e("VirtualAction",function(e){function i(t,i,n){var r;return void 0===n&&(n=t.index+=1),(r=e.call(this,t,i)||this).active=!0,r.scheduler=t,r.work=i,r.index=n,r.index=t.index=n,r}t(i,e);var n=i.prototype;return n.schedule=function(t,n){if(void 0===n&&(n=0),Number.isFinite(n)){if(!this.id)return e.prototype.schedule.call(this,t,n);this.active=!1;var c=new i(this.scheduler,this.work);return this.add(c),c.schedule(t,n)}return r.EMPTY},n.requestAsyncId=function(e,t,n){void 0===n&&(n=0),this.delay=e.frame+n;var r=e.actions;return r.push(this),r.sort(i.sortActions),!0},n.recycleAsyncId=function(e,t,i){},n._execute=function(t,i){if(!0===this.active)return e.prototype._execute.call(this,t,i)},i.sortActions=function(e,t){return e.delay===t.delay?e.index===t.index?0:e.index>t.index?1:-1:e.delay>t.delay?1:-1},i}(n));i._RF.pop()}}}));

System.register("chunks:///_virtual/Visualization.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ShareAssets.ts"],(function(e){"use strict";var t,i,s,n,o,l,h,a;return{setters:[function(e){t=e.inheritsLoose,i=e.createClass},function(e){s=e.cclegacy,n=e._decorator,o=e.director,l=e.renderer,h=e.Component},function(e){a=e.shareAssets}],execute:function(){var d;s._RF.push({},"d4dbaMxLJVGD4OmAdS9DRfG","Visualization",void 0);var r=n.ccclass;n.property,e("Visualization",r("Visualization")(d=function(e){function s(){for(var t,i=arguments.length,s=new Array(i),n=0;n<i;n++)s[n]=arguments[n];return(t=e.call.apply(e,[this].concat(s))||this)._modelChanged=!1,t._mesh=null,t._model=null,t._material=a.lineMaterial,t._visibleInRuntime=CC_EDITOR,t._visibleDefault=!0,t}t(s,e);var n=s.prototype;return n.onEnable=function(){this._visibleInRuntime&&(this._createModel(),this._attachToScene())},n.onDisable=function(){this._visibleInRuntime&&this._detachFromScene()},n._attachToScene=function(){this._model&&this.node&&this.node.scene&&(this._model.scene&&this._detachFromScene(),this._getRenderScene().addModel(this._model))},n._detachFromScene=function(){this._model&&this._model.scene&&this._model.scene.removeModel(this._model)},n._createModel=function(){this._model||(this._model=o.root.createModel(l.scene.Model),this._model.node=this._model.transform=this.node,this._model.enabled=this._visibleDefault,this._modelChanged=!0)},n.update=function(e){this._modelChanged&&this._model&&(this._modelChanged=!1,this._mesh=this._updateMesh(this._mesh),this._mesh&&this._model.initSubModel(0,this._mesh.renderingSubMeshes[0],this._material))},n._updateMesh=function(e){return e},i(s,[{key:"visible",get:function(){return!!this._model&&this._model.enabled},set:function(e){this._model&&(this._model.enabled=e)}}]),s}(h))||d);s._RF.pop()}}}));

System.register("chunks:///_virtual/Watch.ts",["cc","./Observable2.ts","./distinctUntilChanged.ts","./filter.ts","./CreatorSchedule.ts"],(function(n){"use strict";var t,e,c,r,u;return{setters:[function(n){t=n.cclegacy},function(n){e=n.Observable},function(n){c=n.distinctUntilChanged},function(n){r=n.filter},function(n){u=n.EveryFrame}],execute:function(){function i(n){return new e((function(t){var e=u().subscribe((function(e){t.next(n())}));return function(){return e.unsubscribe()}}))}n({Watch:i,WatchIgnoreNullUntilChanged:function(n){return i(n).pipe(r((function(n){return null!=n})),c())}}),t._RF.push({},"58b4en/mvxKYYIN30M28CV4","Watch",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/webSocket.ts",["cc","./WebSocketSubject.ts"],(function(e){"use strict";var t,c;return{setters:[function(e){t=e.cclegacy},function(e){c=e.WebSocketSubject}],execute:function(){e("webSocket",(function(e){return new c(e)})),t._RF.push({},"f74c3HzZ2pFzKxTy3SIiQII","webSocket",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/WebSocketSubject.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Subject.ts","./Subscriber.ts","./Observable2.ts","./Subscription.ts","./ReplaySubject.ts"],(function(e){"use strict";var t,r,n,o,c,i,s,u,a;return{setters:[function(e){t=e.inheritsLoose,r=e.extends},function(e){n=e.cclegacy},function(e){o=e.Subject,c=e.AnonymousSubject},function(e){i=e.Subscriber},function(e){s=e.Observable},function(e){u=e.Subscription},function(e){a=e.ReplaySubject}],execute:function(){n._RF.push({},"6478d1LzPVHoYPsQhY7HqtG","WebSocketSubject",void 0);var b={url:"",deserializer:function(e){return JSON.parse(e.data)},serializer:function(e){return JSON.stringify(e)}};e("WebSocketSubject",function(e){function n(t,n){var c;if((c=e.call(this)||this)._config=void 0,c._output=void 0,c._socket=null,t instanceof s)c.destination=n,c.source=t;else{var i=c._config=r({},b);if(c._output=new o,"string"==typeof t)i.url=t;else for(var u in t)t.hasOwnProperty(u)&&(i[u]=t[u]);if(!i.WebSocketCtor&&WebSocket)i.WebSocketCtor=WebSocket;else if(!i.WebSocketCtor)throw new Error("no WebSocket constructor can be found");c.destination=new a}return c}t(n,e);var c=n.prototype;return c.lift=function(e){var t=new n(this._config,this.destination);return t.operator=e,t.source=this,t},c._resetState=function(){this._socket=null,this.source||(this.destination=new a),this._output=new o},c.multiplex=function(e,t,r){var n=this;return new s((function(o){try{n.next(e())}catch(e){o.error(e)}var c=n.subscribe({next:function(e){try{r(e)&&o.next(e)}catch(e){o.error(e)}},error:function(e){return o.error(e)},complete:function(){return o.complete()}});return function(){try{n.next(t())}catch(e){o.error(e)}c.unsubscribe()}}))},c._connectSocket=function(){var e=this,t=this._config,r=t.WebSocketCtor,n=t.protocol,o=t.url,c=t.binaryType,s=this._output,b=null;try{b=n?new r(o,n):new r(o),this._socket=b,c&&(this._socket.binaryType=c)}catch(e){return void s.error(e)}var f=new u((function(){e._socket=null,b&&1===b.readyState&&b.close()}));b.onopen=function(t){if(!e._socket)return b.close(),void e._resetState();var r=e._config.openObserver;r&&r.next(t);var n=e.destination;e.destination=i.create((function(t){if(1===b.readyState)try{var r=e._config.serializer;b.send(r(t))}catch(t){e.destination.error(t)}}),(function(t){var r=e._config.closingObserver;r&&r.next(void 0),t&&t.code?b.close(t.code,t.reason):s.error(new TypeError("WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }")),e._resetState()}),(function(){var t=e._config.closingObserver;t&&t.next(void 0),b.close(),e._resetState()})),n&&n instanceof a&&f.add(n.subscribe(e.destination))},b.onerror=function(t){e._resetState(),s.error(t)},b.onclose=function(t){b===e._socket&&e._resetState();var r=e._config.closeObserver;r&&r.next(t),t.wasClean?s.complete():s.error(t)},b.onmessage=function(t){try{var r=e._config.deserializer;s.next(r(t))}catch(e){s.error(e)}}},c._subscribe=function(e){var t=this,r=this.source;return r?r.subscribe(e):(this._socket||this._connectSocket(),this._output.subscribe(e),e.add((function(){var e=t._socket;0===t._output.observers.length&&(!e||1!==e.readyState&&0!==e.readyState||e.close(),t._resetState())})),e)},c.unsubscribe=function(){var t=this._socket;!t||1!==t.readyState&&0!==t.readyState||t.close(),this._resetState(),e.prototype.unsubscribe.call(this)},n}(c));n._RF.pop()}}}));

System.register("chunks:///_virtual/window.ts",["cc","./Subject.ts","./lift.ts","./OperatorSubscriber.ts","./noop.ts"],(function(n){"use strict";var t,e,r,u,c;return{setters:[function(n){t=n.cclegacy},function(n){e=n.Subject},function(n){r=n.operate},function(n){u=n.createOperatorSubscriber},function(n){c=n.noop}],execute:function(){n("window",(function(n){return r((function(t,r){var o=new e;r.next(o.asObservable());var i=function(n){o.error(n),r.error(n)};return t.subscribe(u(r,(function(n){var t;return null==(t=o)?void 0:t.next(n)}),(function(){o.complete(),r.complete()}),i)),n.subscribe(u(r,(function(){o.complete(),r.next(o=new e)}),c,i)),function(){var n;null==(n=o)||n.unsubscribe(),o=null}}))})),t._RF.push({},"00816rX8sdFMJ8nxKc0SufW","window",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/windowCount.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Subject.ts","./lift.ts","./OperatorSubscriber.ts"],(function(e){"use strict";var t,n,r,o,u;return{setters:[function(e){t=e.createForOfIteratorHelperLoose},function(e){n=e.cclegacy},function(e){r=e.Subject},function(e){o=e.operate},function(e){u=e.createOperatorSubscriber}],execute:function(){e("windowCount",(function(e,n){void 0===n&&(n=0);var c=n>0?n:e;return o((function(n,o){var i=[new r],s=0;o.next(i[0].asObservable()),n.subscribe(u(o,(function(n){for(var u,f=t(i);!(u=f()).done;){u.value.next(n)}var l=s-e+1;if(l>=0&&l%c==0&&i.shift().complete(),++s%c==0){var a=new r;i.push(a),o.next(a.asObservable())}}),(function(){for(;i.length>0;)i.shift().complete();o.complete()}),(function(e){for(;i.length>0;)i.shift().error(e);o.error(e)}),(function(){null,i=null})))}))})),n._RF.push({},"b23d0I1K/hH5IPvWbJTTqrj","windowCount",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/windowTime.ts",["cc","./Subject.ts","./async.ts","./Subscription.ts","./lift.ts","./OperatorSubscriber.ts","./arrRemove.ts","./args.ts","./executeSchedule.ts"],(function(n){"use strict";var e,t,r,u,c,i,o,s,f;return{setters:[function(n){e=n.cclegacy},function(n){t=n.Subject},function(n){r=n.asyncScheduler},function(n){u=n.Subscription},function(n){c=n.operate},function(n){i=n.createOperatorSubscriber},function(n){o=n.arrRemove},function(n){s=n.popScheduler},function(n){f=n.executeSchedule}],execute:function(){n("windowTime",(function(n){for(var e,a,l=arguments.length,b=new Array(l>1?l-1:0),w=1;w<l;w++)b[w-1]=arguments[w];var p=null!=(e=s(b))?e:r,d=null!=(a=b[0])?a:null,v=b[1]||1/0;return c((function(e,r){var c=[],s=!1,a=function(n){var e=n.window,t=n.subs;e.complete(),t.unsubscribe(),o(c,n),s&&l()},l=function(){if(c){var e=new u;r.add(e);var i=new t,o={window:i,subs:e,seen:0};c.push(o),r.next(i.asObservable()),f(e,p,(function(){return a(o)}),n)}};null!==d&&d>=0?f(r,p,l,d,!0):s=!0,l();var b=function(n){return c.slice().forEach(n)},w=function(n){b((function(e){var t=e.window;return n(t)})),n(r),r.unsubscribe()};return e.subscribe(i(r,(function(n){b((function(e){e.window.next(n),v<=++e.seen&&a(e)}))}),(function(){return w((function(n){return n.complete()}))}),(function(n){return w((function(e){return e.error(n)}))}))),function(){c=null}}))})),e._RF.push({},"476c8/ato9DYp4a0rpNIGrq","windowTime",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/windowToggle.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Subject.ts","./Subscription.ts","./lift.ts","./innerFrom.ts","./OperatorSubscriber.ts","./noop.ts","./arrRemove.ts"],(function(e){"use strict";var n,t,r,o,c,i,u,s,f;return{setters:[function(e){n=e.createForOfIteratorHelperLoose},function(e){t=e.cclegacy},function(e){r=e.Subject},function(e){o=e.Subscription},function(e){c=e.operate},function(e){i=e.innerFrom},function(e){u=e.createOperatorSubscriber},function(e){s=e.noop},function(e){f=e.arrRemove}],execute:function(){e("windowToggle",(function(e,t){return c((function(c,l){var a=[],b=function(e){for(;0<a.length;)a.shift().error(e);l.error(e)};i(e).subscribe(u(l,(function(e){var n=new r;a.push(n);var c,p=new o;try{c=i(t(e))}catch(e){return void b(e)}l.next(n.asObservable()),p.add(c.subscribe(u(l,(function(){f(a,n),n.complete(),p.unsubscribe()}),s,b)))}),s)),c.subscribe(u(l,(function(e){for(var t,r=a.slice(),o=n(r);!(t=o()).done;){t.value.next(e)}}),(function(){for(;0<a.length;)a.shift().complete();l.complete()}),b,(function(){for(;0<a.length;)a.shift().unsubscribe()})))}))})),t._RF.push({},"38ef2CCUilKeLcWq07qk/3U","windowToggle",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/windowWhen.ts",["cc","./Subject.ts","./lift.ts","./OperatorSubscriber.ts","./innerFrom.ts"],(function(n){"use strict";var e,t,r,u,c;return{setters:[function(n){e=n.cclegacy},function(n){t=n.Subject},function(n){r=n.operate},function(n){u=n.createOperatorSubscriber},function(n){c=n.innerFrom}],execute:function(){n("windowWhen",(function(n){return r((function(e,r){var i,o,s=function(n){i.error(n),r.error(n)};!function e(){var b,f,l;null==(b=o)||b.unsubscribe(),null==(f=i)||f.complete(),i=new t,r.next(i.asObservable());try{l=c(n())}catch(n){return void s(n)}l.subscribe(o=u(r,e,e,s))}(),e.subscribe(u(r,(function(n){return i.next(n)}),(function(){i.complete(),r.complete()}),s,(function(){var n;null==(n=o)||n.unsubscribe(),i=null})))}))})),e._RF.push({},"323e9tkBupEepGMDMqA1dr+","windowWhen",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/WinPanel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ByteDanceManager.ts","./ByteDanceRecorderManager.ts","./UIManager.ts","./DataConfig.ts","./UserDataManager.ts","./Enums.ts","./GameManager.ts","./BasePanel.ts","./index.ts","./BindButton.ts","./ReactiveProperty.ts","./ReactiveNumber.ts","./utils.ts","./CommonObservable.ts","./DataManager.ts","./TweenStart.ts","./CreatorSchedule.ts","./ShakingRoot.ts","./MergeWithTimer.ts","./AnimationPlay.ts","./i18n.ts","./of.ts","./Observable2.ts","./concat2.ts","./lastValueFrom.ts","./LanguageData.ts"],(function(e){"use strict";var t,n,i,r,u,a,s,o,l,c,g,b,f,h,d,k,p,m,y,w,v,S,P,_,R,B,x,C,L,N,z,T,A,D,I,M,O,V,J;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized,u=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){s=e.cclegacy,o=e._decorator,l=e.Label,c=e.Button,g=e.ProgressBar,b=e.Node,f=e.Animation,h=e.Widget,d=e.ParticleSystem2D},function(e){k=e.bdm},function(e){p=e.bdrm},function(e){m=e.uim},function(e){y=e.DataConfig},function(e){w=e.udm},function(e){v=e.FlowStatus},function(e){S=e.gm},function(e){P=e.BasePanel},null,function(e){_=e.BindButton},function(e){R=e.ReactiveProperty},function(e){B=e.ReactiveNumber},function(e){x=e.nullifySubscription},function(e){C=e.instantFunc},function(e){L=e.dm},function(e){N=e.TweenToStart},function(e){z=e.NextFrame},function(e){T=e.ShakingRoot},function(e){A=e.MergeWithTimer},function(e){D=e.AnimationPlay},null,function(e){I=e.of},function(e){M=e.Observable},function(e){O=e.concat},function(e){V=e.lastValueFrom},function(e){J=e.t}],execute:function(){var W,F,E,G,j,U,Y,q,H,K,Q,X,Z,$,ee,te,ne,ie,re,ue,ae,se,oe,le,ce,ge,be,fe,he,de,ke,pe,me,ye,we,ve,Se,Pe,_e,Re,Be;s._RF.push({},"588a2zxpBRJxpLTI+YbMJYw","WinPanel",void 0);var xe=o.ccclass,Ce=o.property,Le=o.executeInEditMode;e("WinPanel",(W=xe("WinPanel"),F=Ce(l),E=Ce(c),G=Ce(c),j=Ce(c),U=Ce(g),Y=Ce(l),q=Ce(B),H=Ce(b),K=Ce(b),Q=Ce(l),X=Ce(T),Z=Ce(l),$=Ce(l),ee=Ce(c),te=Ce(c),ne=Ce(b),ie=Ce(b),re=Ce(f),ue=Ce(l),W(ae=Le((oe=t((se=function(e){function t(){for(var t,n=arguments.length,u=new Array(n),a=0;a<n;a++)u[a]=arguments[a];return t=e.call.apply(e,[this].concat(u))||this,i(t,"stageNumLabel",oe,r(t)),i(t,"backButton",le,r(t)),i(t,"continueButton",ce,r(t)),i(t,"shareButton",ge,r(t)),i(t,"luckySkinProgressBar",be,r(t)),i(t,"luckySkinProgressLabel",fe,r(t)),i(t,"luckySkinProgress",he,r(t)),i(t,"guangNode",de,r(t)),i(t,"luckyRootNode",ke,r(t)),i(t,"consumeLabel",pe,r(t)),i(t,"shakingRoot",me,r(t)),i(t,"singleRewardLabel",ye,r(t)),i(t,"multiRewardLabel",we,r(t)),i(t,"singleButton",ve,r(t)),i(t,"adsButton",Se,r(t)),i(t,"leftParticleNode",Pe,r(t)),i(t,"rightParticleNode",_e,r(t)),t.canJump=!0,t.singleRewardValue=R.Create(0),t._reward_got=!1,t.stopSuccess=!1,t._sub_lucky_progress=null,t._sub_anim=null,i(t,"rewardAnim",Re,r(t)),i(t,"rewardTipLabel",Be,r(t)),t._sub_win_process=null,t}n(t,e);var s=t.prototype;return s.useObserves=function(){var e=this;return[_(this.backButton).subscribe(this.backButtonClicked.bind(this)),_(this.continueButton).subscribe(this.continueButtonClicked.bind(this)),_(this.shareButton).subscribe(this.shareButtonClicked.bind(this)),_(this.singleButton).subscribe(this.singleButtonClicked.bind(this)),_(this.adsButton).subscribe(this.adsButtonClicked.bind(this)),this.luckySkinProgress.subscribe((function(t){var n;if(null!=(null==(n=L.xlsx)?void 0:n.Skin)){var i=t/L.xlsx.Skin.main.luckySkinByStage;e.luckySkinProgressLabel.string=Math.floor(100*i)+"%",e.luckySkinProgressBar.progress=i,e.guangNode.active=i>=.1,e.guangNode.getComponent(h).updateAlignment()}})),A([this.singleRewardValue._subject,this.shakingRoot.updateCommand._subject]).subscribe((function(t){e.singleRewardLabel.string="+"+e.singleRewardValue.value,e.multiRewardLabel.string="+"+e.singleRewardValue.value*e.shakingRoot.multi[e.shakingRoot.resultIdx]})),S.stageResult.subscribe((function(t){var n;if(null!=(null==(n=L.xlsx)?void 0:n.Level)){var i=L.xlsx.Level.index[t.stageInfo.stageNum];e.singleRewardValue.value=i.WinGold}}))]},s.onDestroyView=function(){x.call(this,"_sub_anim")},s.singleButtonClicked=function(){this.canJump&&(this._reward_got||(this._reward_got=!0,this.shakingRoot.stop(),this.shakingRoot.node.active=!1,this.singleButton.node.active=!1,this.adsButton.node.active=!1,this.rewardTipLabel.string="+"+this.singleRewardValue.value,w.coin.value+=this.singleRewardValue.value,w.save(),this.showRewardAnim()))},s.adsButtonClicked=function(){var e=this;if(this.canJump&&!this._reward_got){this._reward_got=!0,this.shakingRoot.running&&this.shakingRoot.stop();var t=this.singleRewardValue.value*this.shakingRoot.multi[this.shakingRoot.resultIdx];L.showAdsForMultiReward(t).subscribe((function(n){n?(e.rewardTipLabel.string="+"+t,e.showRewardAnim()):e._reward_got=!1}))}},s.backButtonClicked=function(){var e=u(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.canJump){e.next=2;break}return e.abrupt("return");case 2:return S.stageClear(!0),e.next=5,V(z());case 5:return S.stageNumSelected.value=w.curStage.value,S.flowStatus.value=v.Game,e.next=9,V(m.standby.whenTrueOnce());case 9:S.stageLoad({reason:"win_continue"});case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.continueButtonClicked=function(){var e=u(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.canJump){e.next=2;break}return e.abrupt("return");case 2:return this.log("continueButtonClicked"),S.stageClear(!0),e.next=6,V(z());case 6:if(!(w.curStage.value>y.maxStageCount)){e.next=16;break}return e.next=9,V(z());case 9:return S.stageNumSelected.value=w.curStage.value,S.flowStatus.value=v.Game,e.next=13,V(m.standby.whenTrueOnce());case 13:S.stageLoad({reason:"win_continue"}),e.next=22;break;case 16:return S.autoStartAfterLoadStage=!0,S.stageNumSelected.value=w.curStage.value,S.flowStatus.value=v.Game,e.next=21,V(m.standby.whenTrueOnce());case 21:S.stageLoad({reason:"win_continue"});case 22:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.shareButtonClicked=function(){var e=this;this.log("shareButtonClicked"),this.stopSuccess?p.isError?S.frontTipShow(J("t.recerr"),1).subscribe():p.time>4?(k.report("share_start",{id:S.stageInfo.value.stageNum}),p.share().subscribe((function(t){t?(k.report("share_over",{id:S.stageInfo.value.stageNum,success:1}),w.save(),e.shareButton.node.active=!1):k.report("share_over",{id:S.stageInfo.value.stageNum,success:0})}))):S.frontTipShow(J("t.recshort"),1).subscribe():S.frontTipShow(""+J("_.wait"),1).subscribe()},s.willOpen=function(){var e=this;return this.stopSuccess=!1,this.stageNumLabel.string=S.stageInfo.value.stageNum+" "+J("_.f"),this.shakingRoot.run(),p.isError?this.stopSuccess=!0:p.stopRecoder((function(){e.stopSuccess=!0})),null==S.stageResult.value.luckySkins.gotSkinID?(this.luckyRootNode.active=!1,this.canJump=!0):(this.luckyRootNode.active=!0,S.stageResult.value.luckySkins.toCount>=L.xlsx.Skin.main.luckySkinByStage?this.canJump=!1:this.canJump=!0),this.consumeLabel.string="-"+L.xlsx.PS.main.consume,I(null)},s.afterOpen=function(){return this.startWinProcess(),this.leftParticleNode.getComponent(d).resetSystem(),this.rightParticleNode.getComponent(d).resetSystem(),I(null)},s.afterClose=function(){return x.call(this,"_sub_lucky_progress"),I(null)},s.luckyProgressAnim=function(){var e=this;return this.luckyRootNode.active?new M((function(t){return x.call(e,"_sub_lucky_progress"),e._sub_lucky_progress=O(C((function(){e.luckySkinProgress.value=S.stageResult.value.luckySkins.fromCount})),N(e.luckySkinProgress,1,{value:S.stageResult.value.luckySkins.toCount},{easing:"quadInOut"}),C((function(){S.stageResult.value.luckySkins.toCount>=L.xlsx.Skin.main.luckySkinByStage&&(S.luckySkinEnabled.value=!0,e.canJump=!0)}))).subscribe({complete:function(){t.next("@luckyProgressAnim next"),t.complete()}}),function(){x.call(e,"_sub_lucky_progress")}})):I("@luckyProgressAnim skip")},s.showRewardAnim=function(){var e=this;x.call(this,"_sub_anim"),this._sub_anim=D(this.rewardAnim,"show_consume").subscribe({complete:function(){e.backButtonClicked()}})},s.startWinProcess=function(){var e=this;this._sub_win_process=O(this.luckyProgressAnim(),this.luckySkinPanelProcess(),this.luckyProgressClean(),this.codeChestProcess()).subscribe((function(t){e.log("@startWinProcess",t)}))},s.luckySkinPanelProcess=function(){return new M((function(e){S.luckySkinEnabled.value?S.luckySkinPanelObserver=e:(e.next("@luckySkinPanelProcess skip"),e.complete())}))},s.luckyProgressClean=function(){var e=this;return new M((function(t){e.luckySkinProgress.value>=L.xlsx.Skin.main.luckySkinByStage?(e.luckySkinProgress.value=0,t.next("@luckyProgressClean next")):t.next("@luckyProgressClean skip"),t.complete()}))},s.codeChestProcess=function(){return new M((function(e){w.goldCard.value>=3?(S.openCodeChest(),S.codeChestPanelObserver=e):(e.next("@codeChestProcess skip"),e.complete())}))},t}(P)).prototype,"stageNumLabel",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),le=t(se.prototype,"backButton",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ce=t(se.prototype,"continueButton",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=t(se.prototype,"shareButton",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=t(se.prototype,"luckySkinProgressBar",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=t(se.prototype,"luckySkinProgressLabel",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=t(se.prototype,"luckySkinProgress",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B.DefaultValue(10)}}),de=t(se.prototype,"guangNode",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=t(se.prototype,"luckyRootNode",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=t(se.prototype,"consumeLabel",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=t(se.prototype,"shakingRoot",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=t(se.prototype,"singleRewardLabel",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=t(se.prototype,"multiRewardLabel",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=t(se.prototype,"singleButton",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=t(se.prototype,"adsButton",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=t(se.prototype,"leftParticleNode",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=t(se.prototype,"rightParticleNode",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=t(se.prototype,"rewardAnim",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=t(se.prototype,"rewardTipLabel",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ae=se))||ae)||ae));s._RF.pop()}}}));

System.register("chunks:///_virtual/withLatestFrom.ts",["cc","./lift.ts","./OperatorSubscriber.ts","./innerFrom.ts","./identity.ts","./noop.ts","./args.ts"],(function(t){"use strict";var n,r,e,i,o,c,u;return{setters:[function(t){n=t.cclegacy},function(t){r=t.operate},function(t){e=t.createOperatorSubscriber},function(t){i=t.innerFrom},function(t){o=t.identity},function(t){c=t.noop},function(t){u=t.popResultSelector}],execute:function(){t("withLatestFrom",(function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];var a=u(n);return r((function(t,r){for(var u=n.length,s=new Array(u),f=n.map((function(){return!1})),p=!1,l=function(t){i(n[t]).subscribe(e(r,(function(n){s[t]=n,p||f[t]||(f[t]=!0,(p=f.every(o))&&(f=null))}),c))},b=0;b<u;b++)l(b);t.subscribe(e(r,(function(t){if(p){var n=[t].concat(s);r.next(a?a.apply(void 0,n):n)}})))}))})),n._RF.push({},"889533lLNtHWbxV07mKiBcf","withLatestFrom",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/workarounds.ts",["cc"],(function(){"use strict";var t;return{setters:[function(c){t=c.cclegacy}],execute:function(){t._RF.push({},"c3387spz/xA1KShVhBRqRN4","workarounds",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/XlsxArrayTools.ts",["cc"],(function(r){"use strict";var t;return{setters:[function(r){t=r.cclegacy}],execute:function(){r("xlsxArrayToMap",(function(r){for(var t=r[0],s={},e=1;e<r.length;e++){var n=r[e],o={};if(null!=n[0]){for(var a=0;a<t.length;a++){var c=t[a];c.startsWith("#")||(o[c]=n[a])}s[n[0]]=o}}return s})),t._RF.push({},"94082U3YOZIQrqFpRPOygwM","XlsxArrayTools",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/zh.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"aec3dqi5MZDMJc8kTEbZZls","zh",void 0);var i=window,a=e("languages",{_:{f:"层",sn:"{}层",wait:"请稍候",claimsuc:"成功领取"},waitingp:{label:"加载中"},bup:{title:"设施解锁",tip:"立即免费解锁该设施",nexttime:"下次一定",unlock:"解锁"},ccp:{highreward:"本轮最高奖励",ccb:"密码箱",cancel:"不了,谢谢"},gbp:{remain:"剩余{}"},gsp:{tip:"点击屏幕开始"},gpp:{title:"获取体力",inf:"无限体力({})",addps:"+{}体力",infnow:"无限体力中..."},lp:{start:"开始游戏"},losep:{title:"闯关失败",back:"返回",retry:"重试"},lsp:{title:"幸运皮肤",conceal:"隐藏皮肤",get:"获取",giveup:"放弃",tip:"错过可能再也没有了！"},mmp:{task:"任务",skin:"皮肤",infps:"无限体力",home:"家园"},ohcp:{title:"野生宝箱",openfor:"开启后获得",next:"下次一定",unlock:"解锁"},tool:{id1:{name:"手里剑",des:"获得{0}个手里剑，可用于击杀敌人"},id2:{name:"加速",des:"在挑战{0}次关卡时获得加速效果"},id3:{name:"隐身",des:"在挑战当前关卡时获得隐身效果"}},sp:{title:"设置",bgm:"音乐",sfx:"音效"},skinp:{skin:"皮肤",random:"随机解锁"},tp:{stage:"关卡",home:"家园",sign:"签到"},tsi:{claim:"领取",resign:"补签",day:"第{}天"},task:{id0:{text:"完成关卡第{0}关"},id1:{text:"家园建筑解锁{0}个"}},tutorialp:{label:"按住并滑动"},wp:{title:"闯关成功",luckySkin:"幸运皮肤",share:"分享"},f:{coinnotenough:"金币不足",sharesuc:"分享成功",sharefail:"分享失败",adholder:"广告替代流程，返回成功",complete:"已完成",extragold:"还有{}个金卡",goldnotenough:"金卡数量不足",alreadyinfps:"已经是无限体力",fullps:"体力已满",claimsucc:"成功领取",recerr:"录屏出错",recshort:"录屏过短"}});i.languages||(i.languages={}),i.languages.zh=a,t._RF.pop()}}}));

System.register("chunks:///_virtual/zip.ts",["cc","./Observable2.ts","./innerFrom.ts","./argsOrArgArray.ts","./empty.ts","./OperatorSubscriber.ts","./args.ts"],(function(n){"use strict";var r,t,e,u,c,i,o;return{setters:[function(n){r=n.cclegacy},function(n){t=n.Observable},function(n){e=n.innerFrom},function(n){u=n.argsOrArgArray},function(n){c=n.EMPTY},function(n){i=n.createOperatorSubscriber},function(n){o=n.popResultSelector}],execute:function(){n("zip",(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];var f=o(r),a=u(r);return a.length?new t((function(n){var r=a.map((function(){return[]})),t=a.map((function(){return!1}));n.add((function(){r=t=null}));for(var u=function(u){e(a[u]).subscribe(i(n,(function(e){if(r[u].push(e),r.every((function(n){return n.length}))){var c=r.map((function(n){return n.shift()}));n.next(f?f.apply(void 0,c):c),r.some((function(n,r){return!n.length&&t[r]}))&&n.complete()}}),(function(){t[u]=!0,!r[u].length&&n.complete()})))},c=0;!n.closed&&c<a.length;c++)u(c);return function(){r=t=null}})):c})),r._RF.push({},"c5d61Gz9ydCqZ/B1gsFwcIC","zip",void 0),r._RF.pop()}}}));

System.register("chunks:///_virtual/zip2.ts",["cc","./zip.ts","./lift.ts"],(function(t){"use strict";var n,e,i;return{setters:[function(t){n=t.cclegacy},function(t){e=t.zip},function(t){i=t.operate}],execute:function(){t("zip",(function(){for(var t=arguments.length,n=new Array(t),c=0;c<t;c++)n[c]=arguments[c];return i((function(t,i){e.apply(void 0,[t].concat(n)).subscribe(i)}))})),n._RF.push({},"f5e87kbFt1BhJFoh7GQfdle","zip",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/zipAll.ts",["cc","./zip.ts","./joinAllInternals.ts"],(function(n){"use strict";var t,i,c;return{setters:[function(n){t=n.cclegacy},function(n){i=n.zip},function(n){c=n.joinAllInternals}],execute:function(){n("zipAll",(function(n){return c(i,n)})),t._RF.push({},"69c787qpI5Cnarp1M6pbOcy","zipAll",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/zipWith.ts",["cc","./zip2.ts"],(function(t){"use strict";var i,e;return{setters:[function(t){i=t.cclegacy},function(t){e=t.zip}],execute:function(){t("zipWith",(function(){return e.apply(void 0,arguments)})),i._RF.push({},"abe93dsfehM667yIS0fd3+R","zipWith",void 0),i._RF.pop()}}}));
